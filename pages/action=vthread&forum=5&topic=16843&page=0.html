<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CreateTread - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Имеем такие параметры этой функции: Code:       001CFD04&nbsp;&nbsp;/001CFF24&nbsp;&nbsp;&nbsp;001CFD08&nbsp;&nbsp;|298CA167&nbsp;&nbsp;RETURN&nbsp;вSatelite.298CA167&nbsp;изSatelite.298761F0001CFD0C&nbsp;&nbsp;|00000000&nbsp;&nbs">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> CreateTread</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 октября 2010 20:36 &middot; Поправил: gena-m <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Имеем такие параметры этой функции:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">001CFD04</span>&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_number">001CFF24</span>&nbsp;&nbsp;&nbsp;</li><li class="hl_l1"><span class="hl_number">001CFD08</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">298CA167</span>&nbsp;&nbsp;RETURN&nbsp;вSatelite<span class="hl_char">.</span><span class="hl_number">298CA167</span>&nbsp;изSatelite<span class="hl_char">.</span><span class="hl_number">298761F0</span></li><li class="hl_l0"><span class="hl_number">001CFD0C</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;__in_opt&nbsp;LPSECURITY_ATTRIBUTES&nbsp;lpThreadAttributes</li><li class="hl_l1"><span class="hl_number">001CFD10</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;__in&nbsp;SIZE_T&nbsp;dwStackSize</li><li class="hl_l0"><span class="hl_number">001CFD14</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">29876B20</span>&nbsp;&nbsp;&nbsp;__in&nbsp;LPTHREAD_START_ROUTINE&nbsp;lpStartAddress&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">(</span>Satelite<span class="hl_char">.</span><span class="hl_number">29876B20</span>&nbsp;<span class="hl_char">)</span></li><li class="hl_l1"><span class="hl_number">001CFD18</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;__in_opt&nbsp;LPVOID&nbsp;lpParameter</li><li class="hl_l0"><span class="hl_number">001CFD1C</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;__in&nbsp;<span class="hl_function"><b>DWORD</b></span>&nbsp;dwCreationFlags</li><li class="hl_l1"><span class="hl_number">001CFD20</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">001CFF10</span>&nbsp;&nbsp;&nbsp;__out_opt&nbsp;LPDWORD&nbsp;lpThreadId</li><li class="hl_l0"><span class="hl_number">001CFD24</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">00000000</span></li><li class="hl_l1"><span class="hl_number">001CFD28</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">00000000</span>&nbsp;</li><li class="hl_l0"><span class="hl_number">001CFD2C</span>&nbsp;&nbsp;<span class="hl_char">|</span><span class="hl_number">32200387</span></li>        </ol>
    </div>
</div></div>
<br>насколько я понимаю поток должен начать выполняться сразу после создания, но поток создается  приостановленным.<br><br>Почему?
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267434&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=1" class="addthx" data-post="267434"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Coderess[/b]','')">Coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 октября 2010 22:53 <br><script type="text/javascript">QU('Coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Не особо наглядно вы продемонстрировали вызов функции CreateThread()
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267449&amp;user=16383&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=2" class="addthx" data-post="267449"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Clerk[/b]','')">Clerk</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 255.8 (наставник), 19thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.86'>Активность: 0.15<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=17964">Участник</a><br><font color=blue>vx</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2010 06:00 <br><script type="text/javascript">QU('Clerk','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Clerk" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Потому что до старта потока должны выполняться некоторые действия, это нотификация Csrss и вызов SaferiReplaceProcessThreadTokens().
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=267472&amp;user=17964&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=3" class="addthx" data-post="267472"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2010 07:48 &middot; Поправил: gena-m <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>Coderess</b><br><br>Не особо наглядно потому что прот (PROTECTiON iD) сбрасывает железные бряки и простые палит не только в программе но и на начале функций поэтому пришлось поставить бряк на третью строку CreateThread, поэтому такая наглядность, из за обфускации в самой проге тоже смысла нет код приводить там ничего не видно, поэтому взял из стека после начала выполнения CreateThread.<br><br><b>Clerk</b><br><br>SaferiReplaceProcessThreadTokens -  она по моему только в семерке нужна, но возможно ошибаюсь. Получается что поток и должен создаваться приостановленным? А когда он должен запускаться в таком случае или этот поток вообще создан для галочки и выполняться не будет, такой вариат возможен из за того что здесь напихано довольно много всего просто для запутывания?<br>Нотификация Csrss - где можно что либо почитать, что то ничего не нашел.
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267475&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=4" class="addthx" data-post="267475"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]OKOB[/b]','')">OKOB</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6801.png" alt=""><br><span class=txtSm>Ранг: 527.7 (<b>!</b>), 381thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.78'>Активность: 0.16<span style='color:red'>&searr;</span>0.09</span><br>Статус: <a href="action=userinfo&amp;user=6801">Участник</a><br><font color=blue><font color=red>Победитель турнира 2010</font></font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2010 10:45 <br><script type="text/javascript">QU('OKOB','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=OKOB" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Чего-то не то... У функции 6 параметров, а в стеке показано 5.<br>HANDLE WINAPI CreateThread(<br>  __in_opt   LPSECURITY_ATTRIBUTES lpThreadAttributes,<br>  __in       SIZE_T dwStackSize,<br>  __in       LPTHREAD_START_ROUTINE lpStartAddress,<br>  __in_opt   LPVOID lpParameter,<br>  __in       DWORD dwCreationFlags,<br>  __out_opt  LPDWORD lpThreadId<br>);<br><br>стек нового потока???
<br><br><font size="1"><i>-----<br>127.0.0.1, sweet 127.0.0.1</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267479&amp;user=6801&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=5" class="addthx" data-post="267479"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2010 12:38 &middot; Поправил: gena-m <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<b>OKOB</b><br><br>Все расписал как сказали- все 6 параметров. <br>То что, что то не то, и я подозреваю, а вот что?<br>Поток создается, но приостановленный, хотя по идее должен выполняться сразу после создания.<br>Когда я выхожу из CreateThread без отладчика, затем аттачусь у меня вообще другая картина получается:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Ident&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>Entry</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>Data</b></span><span style="word-break: break-all">&nbsp;block&nbsp;&nbsp;&nbsp;Last&nbsp;error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Priority&nbsp;&nbsp;&nbsp;User&nbsp;time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System&nbsp;time</span></li><li class="hl_l1"><span class="hl_number">000007BC</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7C95077B</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7FFDD000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR_SUCCESS&nbsp;<span class="hl_char">(</span><span class="hl_number">00000000</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Активный&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">32</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_number">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0000</span>&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0000</span>&nbsp;s</li><li class="hl_l0"><span class="hl_number">00000908</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7C810856</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7FFDE000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR_SUCCESS&nbsp;<span class="hl_char">(</span><span class="hl_number">00000000</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Активный&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">32</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_number">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">127</span><span class="hl_char">.</span><span class="hl_number">4843</span>&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0000</span>&nbsp;s</li><li class="hl_l1"><span class="hl_number">00000C10</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7FFDF000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR_SUCCESS&nbsp;<span class="hl_char">(</span><span class="hl_number">00000000</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Активный&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">32</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_number">0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">1243</span><span class="hl_char">.</span><span class="hl_number">4531</span>&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0156</span>&nbsp;s</li>        </ol>
    </div>
</div></div>
<br><br>Получается три потока и все нормально выполняются.<br>Видимо гдето создание еще одного потока я пропускаю, буду искать.
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267485&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=6" class="addthx" data-post="267485"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Clerk[/b]','')">Clerk</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 255.8 (наставник), 19thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.86'>Активность: 0.15<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=17964">Участник</a><br><font color=blue>vx</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2010 16:46 <br><script type="text/javascript">QU('Clerk','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Clerk" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>gena-m</b><br>&gt; по идее должен выполняться сразу после создания.<br>Не должен, причины описаны в #3. Независимо от флажка переданного в апи, поток будет создан остановленным, далее выполняются необходимые манипуляции и тред ресумится.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=267501&amp;user=17964&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=7" class="addthx" data-post="267501"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2010 19:03 &middot; Поправил: gena-m <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br><div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Ident&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>Entry</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>Data</b></span><span style="word-break: break-all">&nbsp;block&nbsp;&nbsp;&nbsp;Last&nbsp;error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Priority&nbsp;&nbsp;&nbsp;User&nbsp;time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System&nbsp;time</span></li><li class="hl_l1"><span class="hl_number">00000168</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7FFDD000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR_SUCCESS&nbsp;<span class="hl_char">(</span><span class="hl_number">00000000</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Приостанов&nbsp;&nbsp;&nbsp;<span class="hl_number">32</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_number">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">242</span><span class="hl_char">.</span><span class="hl_number">5625</span>&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0156</span>&nbsp;s</li><li class="hl_l0"><span class="hl_number">0000079C</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7C810856</span>&nbsp;&nbsp;&nbsp;<span class="hl_number">7FFDC000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR_SUCCESS&nbsp;<span class="hl_char">(</span><span class="hl_number">00000000</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Активный&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">32</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_number">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">94</span><span class="hl_char">.</span><span class="hl_number">6406</span>&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0000</span>&nbsp;s</li>        </ol>
    </div>
</div></div>
<br>Я незнаю почему, но шаманством (вначале циклю на нескольких адресах потом аттачусь) я попадаю на стартовый адрес потока и он уже запущен:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">29876B20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>PUSH</b></span>&nbsp;<span class="hl_registr"><b>EBP</b></span>&nbsp;<span class="hl_char">&lt;</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span>стою&nbsp;здесь&nbsp;по&nbsp;бряку&nbsp;и&nbsp;могу&nbsp;трассировать&nbsp;созданный&nbsp;поток</li><li class="hl_l1"><span class="hl_number">29876B21</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">89E5</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>MOV</b></span>&nbsp;<span class="hl_registr">EBP</span><span class="hl_char">,</span><span class="hl_registr">ESP</span></li><li class="hl_l0"><span class="hl_number">29876B23</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">83EC</span>&nbsp;<span class="hl_number">38</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>SUB</b></span>&nbsp;<span class="hl_registr">ESP</span><span class="hl_char">,</span><span class="hl_number">38</span></li><li class="hl_l1"><span class="hl_number">29876B26</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">8975</span>&nbsp;C8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>MOV</b></span>&nbsp;<span class="hl_function"><b>DWORD</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">SS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">EBP</span><span class="hl_char">-</span><span class="hl_number">38</span><span class="hl_char">]</span><span class="hl_char">,</span><span class="hl_registr">ESI</span></li><li class="hl_l0"><span class="hl_number">29876B29</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">897D</span>&nbsp;CC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>MOV</b></span>&nbsp;<span class="hl_function"><b>DWORD</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">SS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">EBP</span><span class="hl_char">-</span><span class="hl_number">34</span><span class="hl_char">]</span><span class="hl_char">,</span><span class="hl_registr">EDI</span></li><li class="hl_l1"><span class="hl_number">29876B2C</span>&nbsp;&nbsp;&nbsp;&nbsp;E9&nbsp;F4140400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>JMP</b></span>&nbsp;Satelite<span class="hl_char">.</span><span class="hl_number">298B8025</span></li><li class="hl_l0"><span class="hl_number">29876B31</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">303E</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>XOR</b></span>&nbsp;<span class="hl_function"><b>BYTE</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">DS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">ESI</span><span class="hl_char">]</span><span class="hl_char">,</span><span class="hl_registr">BH</span></li><li class="hl_l1"><span class="hl_number">29876B33</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">8F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span><span class="hl_char">?</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_comment">; Неизвестная команда</span></li>        </ol>
    </div>
</div></div>
<br><br>До этого никаких проблем с трассировкой потоков небыло, первый раз столкнулся с тем, что после выхода из CreateThread я не могу брякнутся по стартовому адресу созданного нового потока.<br>При этом первый (первичный) у меня зациклен и остановлен сразу после выхода из CreateThread:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">298CA15F</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">6E</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>OUTS</b></span>&nbsp;<span class="hl_registr">DX</span><span class="hl_char">,</span><span class="hl_function"><b>BYTE</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">ES</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">EDI</span><span class="hl_char">]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Команда I/O</span></li><li class="hl_l1"><span class="hl_number">298CA160</span>&nbsp;&nbsp;&nbsp;&nbsp;D2DE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>RCR</b></span>&nbsp;<span class="hl_registr">DH</span><span class="hl_char">,</span><span class="hl_registr">CL</span></li><li class="hl_l0"><span class="hl_number">298CA162</span>&nbsp;&nbsp;&nbsp;&nbsp;E8&nbsp;<span class="hl_number">89C0FAFF</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>CALL</b></span>&nbsp;Satelite<span class="hl_char">.</span><span class="hl_number">298761F0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; переходник на CreateThread</span></li><li class="hl_l1"><span class="hl_number">298CA167</span>&nbsp;&nbsp;<span class="hl_char">-</span>&nbsp;EB&nbsp;FE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>JMP</b></span>&nbsp;<span class="hl_function"><b>SHORT</b></span>&nbsp;Satelite<span class="hl_char">.</span><span class="hl_number">298CA167</span>&nbsp;<span class="hl_char">&lt;</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">-</span>здесь&nbsp;зациклен&nbsp;первый&nbsp;поток</li><li class="hl_l0"><span class="hl_number">298CA169</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">05</span>&nbsp;<span class="hl_number">0000C09A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>ADD</b></span>&nbsp;<span class="hl_registr">EAX</span><span class="hl_char">,</span><span class="hl_number">9AC00000</span></li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267511&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=8" class="addthx" data-post="267511"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]daFix[/b]','')">daFix</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/2777.gif" alt=""><br><span class=txtSm>Ранг: 529.0 (<b>!</b>), 110thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.75'>Активность: 0.29<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=2777">Участник</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 17:18 &middot; Поправил: daFix <br><script type="text/javascript">QU('daFix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=daFix" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Ну если уж тут говорят за Пепку, тогда может быть подскажите как он палит отладчики? <br>Проверка на драйвера проходит успешно, отладчик не палится, а потом каким-то раком палимся.<br>Интересный факт - мы палимся в любом случае, даже если отладчика нету))) Трейсил, трейсил... <img src="img/smilies/s14.gif" alt=""><br><br><i class=x>---------------------------<br>OpenBox 3.16<br>---------------------------<br>Debugger found<br><br><br><br>A debugger has been found running in your system.<br><br>Please, unload it from memory and restart your program !</i><br><br>ADDED:<br>Сабжевая прога в этом топике накрыта пепкой.<br><br><b>gena-m</b><br>Странно, у меня не виснет
<br><br><font size="1"><i>-----<br>Research For Food</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267567&amp;user=2777&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=9" class="addthx" data-post="267567"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 18:32 &middot; Поправил: gena-m <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>Ну если уж тут говорят за Пепку, тогда может быть подскажите как он палит отладчики? </b><br>Начинается все с TLS там он проверяет бряк на ОЕП (который отладчик ставит автоматом), затем сбрасываются железные бряки (предполагаю при проходе исключений, не проверял, просто их не использую), используется установка обработчиков исключений через SetUnhandledExceptionFilter, а их отладчик не устанавливает, в результате обработчика нет и исключение валит отладчик(использую плагин Hide Debugger), затем идет проверка имен окон, классов, поиск драйверов (в т.ч и сиськи),получается что ему не нравится присутствие отладчика на компе а не факт его работы, хотя это тоже он определяет, на данный момент накопал это, если интересно. Падение программы происходит довольно далеко от того места где обнаружен отладик, поэтому тсяжело определить причину.<br><br><b>Я не сказал что виснет </b>просто как то не так идет работа с потоками, запускаются непонятно от чего и непонятно в какой последовательности(совершенно не так как идет вызов CreateThread), т.е. совсем не так как я ожидаю, поэтому приходится циклить и ставить бряки на все создаваемые потоки а потом какой из них сработает тот и трассировать, (хотя без отладчика все идет как я ожидаю)в общем заморочливый прот.
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267569&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=10" class="addthx" data-post="267569"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]SReg[/b]','')">SReg</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 315.1 (мудрец), 631thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.78'>Активность: 0.3<span style='color:green'>&nearr;</span>0.33</span><br>Статус: <a href="action=userinfo&amp;user=18316">Модератор</a><br><font color=blue>CrackLab</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 20:28 &middot; Поправил: SReg <br><script type="text/javascript">QU('SReg','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SReg" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<I>gena-m пишет:<br>получается что ему не нравится присутствие отладчика на компе а не факт его работы </I><br>система абсолютно чистая... и все равно дебугер детектет<br><br><br><b>UPD:</b><br><I>gena-m пишет:<br>Абсолютно чистая  - это и Олли нет и ее плагинов? </I><br>ну я же сказал - абсолютно! <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=267577&amp;user=18316&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=11" class="addthx" data-post="267577"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 21:15 &middot; Поправил: gena-m <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Абсолютно чистая  - это и Олли нет и ее плагинов?<br>У меня например Олли с плагинами и борландовский и VS отладчики стоят, хотя сисера и айса нет (но присутствуют дистрибутивы) и непонятно какой отладчик ему не нравится. Пока что я не расковырял этот прот вдоль и поперек - поэтому сложно сказать почему он ругается, но из за этой мессаги, при неработающих отладчиках, я впринципе и начал его ковырять.<br><br>Вообщето топик по работе потоков был открыт, а перерос в обсуждение пепы.
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267581&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=12" class="addthx" data-post="267581"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]daFix[/b]','')">daFix</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/2777.gif" alt=""><br><span class=txtSm>Ранг: 529.0 (<b>!</b>), 110thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.75'>Активность: 0.29<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=2777">Участник</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 21:59 <br><script type="text/javascript">QU('daFix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=daFix" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>gena-m</b><br>В некоторых потоках есть просто Sleep в несколько секунд. Ни каких странностей в работе потоков не заметил. Ставлю бряки на вторую комманду, на случай, если прот проверяет EP потока на оппкод 0xCC
<br><br><font size="1"><i>-----<br>Research For Food</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267584&amp;user=2777&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=13" class="addthx" data-post="267584"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 22:34 <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
У меня получается: <br>под отладчиком - вначале создается поток по стартовому адресу 29876b20, но не запускается, затем создается поток со стартовым адресом 2989С740 запускается  и доходит до  Sleep.<br>без отладчика - создается и запускается поток 29876b20, затем создается и запускается поток 2989e750.<br>Вот такие &quot;странности&quot; мне не нравятся и я пытаюсь найти причину разного создания и поведения потоков.<br>Видимо это моя ошибка, что ставил бряки в начало потока, попробую ставить не на начало.
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267586&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=14" class="addthx" data-post="267586"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]coolangel[/b]','')">coolangel</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.5 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.03'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21512">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2010 23:50 <br><script type="text/javascript">QU('coolangel','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coolangel" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>gena-m</b><br>Попробуй посмотреть в сторону защитных плагинов- у меня кажется когда-то что-то было похожее,помогла то ли замена отладчика на другую версию,то ли замена плагинов,давно это было уже...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=267594&amp;user=21512&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=15" class="addthx" data-post="267594"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]gena-m[/b]','')">gena-m</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 87.8 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.83'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18095">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 октября 2010 00:03 <br><script type="text/javascript">QU('gena-m','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gena-m" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=16843.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>то ли замена отладчика на другую версию,то ли замена плагинов</b><br><br>Да, интересный метод, особенно замена отладчика помогает в выяснении причины.<br><br>Спасибо всем, уже кое что накопал.<br><b>daFix</b> - отпишусь в личку когда разберусь.
<br><br><font size="1"><i>-----<br>Надежда - есть худшее из зол, ибо она продлевает наши страдания.© Ф. Ницше</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=267597&amp;user=18095&amp;forum_n=5&amp;topic=16843.html&amp;page=0&amp;anchor=16" class="addthx" data-post="267597"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> CreateTread</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=16843" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
