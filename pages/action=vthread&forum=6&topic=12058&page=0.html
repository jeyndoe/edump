<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Код нажатой клавиши - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Пытаюсь получить код нажатой клавиши в делфи. Почему-то не получается с использованием такого кода uses  SysUtils,  windows,  messages; var PHook: HHook; Msg:TMsg; hWn:hwnd; Function">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=8344'>Magister Yoda</a>, <a target='_blank' href='?action=userinfo&amp;user=50833'>vasilevradislav</a>, <a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a>, <a target='_blank' href='?action=userinfo&amp;user=42072'>zombi-vadim</a> (+3 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Код нажатой клавиши</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 13:02 &middot; Поправил: Mavlyudov <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Пытаюсь получить код нажатой клавиши в делфи.<br><br>Почему-то не получается с использованием такого кода<br>uses<br>  SysUtils,<br>  windows,<br>  messages;<br><br>var<br>PHook: HHook;<br>Msg:TMsg;<br>hWn:hwnd;<br><br>Function LowLevelHookProc(Code,wParam,lParam:Longint):Longint;<br>  begin<br>  If Code = 0 Then<br>    LowLevelHookProc:= CallNextHookEx(PHook, Code, wParam, lParam);<br>  If wParam = WM_KEYDOWN Then<br>  messagebox(hWn,&#039;&#039;,pchar(IntToStr(wparam)),1);<br>end;<br><br>begin<br>PHook:=SetWindowsHookEx(WH_JOURNALRECORD, @LowLevelHookProc, hinstance, 0);<br>while GetMessage(Msg,0,0,0) do<br>begin<br>TranslateMessage(Msg);<br>DispatchMessage(Msg);<br>end;<br><br>end.<br><br>можно ли как-то получить код люьой нажатой клавиши без использования ловушки?<br>В паскале же есть функция readkey. <br><br>Uses Crt;<br>Var C : Char;<br>Begin<br> WriteLn(&#039;Нажмите любую клавишу:&#039;);<br> C:=Readkey;<br> WriteLn(&#039;Вы нажали &#039;, C, &#039;, с кодом ASCII равным &#039;, Ord(C), &#039;.&#039;);<br>End.<br><br>Может можно как-то через GetKeyState?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191728&amp;user=3355&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=1" class="addthx" data-post="191728"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Stack[/b]','')">Stack</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 107.5 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13953">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 13:20 &middot; Поправил: Stack <br><script type="text/javascript">QU('Stack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Stack" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Слушай в эвентах посмотри keydown там есть Key:Byte или Key:Char<br><br>Function LowLevelHookProc(Code,wParam,lParam:Longint):Longint; <br>begin <br>If Code = 0 Then <b>// проверь значение. Вроде надо Code= HC_ACTION ну или посмотри по месту</b><br>LowLevelHookProc:= CallNextHookEx(PHook, Code, wParam, lParam); <br>If wParam = WM_KEYDOWN Then  <br>messagebox(hWn,&#039;&#039;,pchar(IntToStr(wparam)),1);<b> {ты тут показываешь значение константы WM_KEYDOWN.} </b><br>end;<br><br>И для консоли<br><br><i class=x>program Project1;<br><br>{&#036;APPTYPE CONSOLE}<br><br>uses<br>  Windows,SysUtils;<br><br>var<br>cr:Char;<br>src,dest:pchar;<br>begin<br>cr:=#0;<br>WriteLn(&#039;Key code Demo by Stack&#039;);<br>WriteLn(&#039;Please input the Char&#039;);<br>ReadLn(cr);<br>WriteLn(&#039;You press &#039;+cr+&#039; Code = &#039;+inttostr(Byte(cr))+&#039; or &#039;+(inttohex(Byte(cr),1))+&#039; in Hex&#039;);<br>WriteLn(&#039;&#039;);<br>WriteLn(&#039;Press any Key to quit&#039;);<br>ReadLn;<br>end.</i>
<br><br><font size="1"><i>-----<br>Md5 fcbb6c9c9a5029b24d70f2d67c7cca74</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191729&amp;user=13953&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=2" class="addthx" data-post="191729"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 13:30 &middot; Поправил: Mavlyudov <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Засунул в отладчик прогу, которая в моем первом посте на паскале.<br>Вот, что выдалось(не стал особо править, только убрал адреса).<br>   <br>    PUSH EBP<br>    MOV EBP,ESP<br>    MOV BYTE PTR DS:[40A4DC],1<br>    PUSH 22.0040A504                                             ; /pMode = 22.0040A504<br>    PUSH -0A                                                             ; |/DevType = STD_INPUT_HANDLE<br>    CALL &lt;JMP.&amp;kernel32.GetStdHandle&gt;                 ; |\GetStdHandle<br>    PUSH EAX                                                            ; |hConsole<br>    CALL &lt;JMP.&amp;kernel32.GetConsoleMode&gt;            ; \GetConsoleMode<br>    CALL 22.00406220 <br>    LEAVE<br>    RETN<br><br><br><br><I>Stack пишет:<br>messagebox(hWn,&#039;&#039;,pchar(IntToStr(wparam)),1); {ты тут показываешь значение константы WM_KEYDOWN.} </I><br><br>а как правильно нужно вывести??
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191731&amp;user=3355&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=3" class="addthx" data-post="191731"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Stack[/b]','')">Stack</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 107.5 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13953">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 13:42 <br><script type="text/javascript">QU('Stack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Stack" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Выше я пример привел на delphi.<br>Кстати никто незнает как в delphi по русски в консоли писать. CharToOem и AnsiToOem прогу вышибают в еррор.
<br><br><font size="1"><i>-----<br>Md5 fcbb6c9c9a5029b24d70f2d67c7cca74</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191732&amp;user=13953&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=4" class="addthx" data-post="191732"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Spirit[/b]','')">Spirit</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/1419.gif" alt=""><br><span class=txtSm>Ранг: 271.6 (наставник), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.35'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1419">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 13:49 <br><script type="text/javascript">QU('Spirit','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Spirit" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>Stack</b><br>В делфеворлде есть модуль для русской консоли
<br><br><font size="1"><i>-----<br>iNTERNATiONAL CoDE CReW</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191733&amp;user=1419&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=5" class="addthx" data-post="191733"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]coderess[/b]','')">coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 14:02 <br><script type="text/javascript">QU('coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
[CODE]<br>function AnsiToDos(mes: String):String;<br>var<br>  i: Word;<br>begin<br>  for i := 1 to length(mes) do<br>    case mes[i] of<br>      &#039;А&#039;..&#039;п&#039;: mes[i] := Chr(Ord(mes[i]) - 64);<br>      &#039;р&#039;..&#039;я&#039;: mes[i] := Chr(Ord(mes[i]) - 16);<br>      Chr(168): mes[i] := Chr(240);<br>      Chr(184): mes[i] := Chr(241);<br>    end;<br>  Result := mes;<br>end;<br>[/CODE]
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191737&amp;user=16383&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=6" class="addthx" data-post="191737"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]mysterio[/b]','')">mysterio</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1803.gif" alt=""><br><span class=txtSm>Ранг: 307.9 (мудрец), 196thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.17'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1803">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 14:07 &middot; Поправил: mysterio <br><script type="text/javascript">QU('mysterio','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mysterio" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>procedure</b> TForm1.FormKeyPress(Sender: TObject; var Key: Char);<br><b>begin</b><br>   Form1.KeyPreview := True;  <i class=x>// Если не включили сразу включим здесь ;)</i><br>   <b>ShowMessage</b>(&#039;<i class=x>Клавиша:</i> &#039; + Key + &#039;<i class=x>    Код: </i>&#039; + <b>IntToStr</b>(<b>Ord</b>(Key)));<br><i class=x>  // ессно с сочетаниями клавиш не работает =)</i><br><b>end;</b>
<br><br><font size="1"><i>-----<br>Don_t hate the cracker - hate the code.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191738&amp;user=1803&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=7" class="addthx" data-post="191738"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Stack[/b]','')">Stack</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 107.5 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13953">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 14:08 <br><script type="text/javascript">QU('Stack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Stack" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>Spirit пишет:<br>В делфеворлде есть модуль для русской консоли </I><br>Муть имхо. Для меня самые приемлимые варианты смены кодировки страницы и вариант <b>coderess</b>
<br><br><font size="1"><i>-----<br>Md5 fcbb6c9c9a5029b24d70f2d67c7cca74</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191739&amp;user=13953&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=8" class="addthx" data-post="191739"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Stack[/b]','')">Stack</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 107.5 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13953">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 14:10 &middot; Поправил: Stack <br><script type="text/javascript">QU('Stack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Stack" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>mysterio</b> я ему это сразу предложил только мну его код смутил.<br><br>А какая разница между ord() &amp; Byte()
<br><br><font size="1"><i>-----<br>Md5 fcbb6c9c9a5029b24d70f2d67c7cca74</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191740&amp;user=13953&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=9" class="addthx" data-post="191740"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 16:09 <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>mysterio</b><br>мне нужно на winapi , а не через форму
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191745&amp;user=3355&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=10" class="addthx" data-post="191745"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Rascal[/b]','')">Rascal</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/60.jpg" alt=""><br><span class=txtSm>Ранг: 260.9 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.95'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=60">Участник</a><br><font color=blue>John Smith</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 16:40 <br><script type="text/javascript">QU('Rascal','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Rascal" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
переопредели оконную функцию на свою(сабклась окно) и лови WM_XX, который тебя интересует
<br><br><font size="1"><i>-----<br>Недостаточно только получить знания:надо найти им приложение</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191749&amp;user=60&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=11" class="addthx" data-post="191749"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]uxer[/b]','')">uxer</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.48'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=15077">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 17:07 <br><script type="text/javascript">QU('uxer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=uxer" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Может это поможет?!<br><br>Timer1.Interval:=1;<br><br>procedure TForm1.Timer1Timer(Sender: TObject);<br>var<br>  i:word;<br>  keystate: TKeyboardState;<br>  buf:array[0..1] of byte;<br>begin<br>  GetKeyboardState(keystate);<br>  ZeroMemory(@buf,2);<br>  for i:=0 to 255 do //можно и укоротить... <br>  begin<br>    if (keystate[i] = &#036;80) or (keystate[i] = &#036;81) then<br>      ToAscii(i,MapVirtualKey(i, 0),keystate,@buf,0)<br>    Edit1.text:=PChar(@buf);<br>  end;<br>end;
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191758&amp;user=15077&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=12" class="addthx" data-post="191758"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Stack[/b]','')">Stack</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 107.5 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13953">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 17:35 <br><script type="text/javascript">QU('Stack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Stack" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>uxer пишет:<br>procedure TForm1.Timer1Timer(Sender: TObject); </I><br>Говорят те на виапи чел пишет.<br><br><b>Mavlyudov</b> лови WM_KEYDOWN в оконной процедуре
<br><br><font size="1"><i>-----<br>Md5 fcbb6c9c9a5029b24d70f2d67c7cca74</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=191765&amp;user=13953&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=13" class="addthx" data-post="191765"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 18:02 <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Кое-что получилось, но не то. Выводятся какие-то странные коды клавиш.<br>Протестируйте и, если возможно, исправьте. <br>Кажется, нужно было делать через wParam, но и через него неверно выводит.<br><br>program Project1;<br>{&#036;APPTYPE CONSOLE}<br>uses<br>  SysUtils, Classes, Windows;<br><br>var<br>PHook: HHook;<br>Msg:TMSG;<br><br>function LowLevelHookProc(code: integer; wParam: word; lParam: longword): longword; stdcall;<br>begin<br> MessageBox(0,pchar(inttostr(lParam)),&#039;&#039;,0);<br> CallNextHookEx(PHook,code,wParam,lparam);<br> LowLevelHookProc:=0;<br>end;<br><br>begin<br> PHook:=SetWindowsHookEx(13, @LowLevelHookProc, hinstance, 0);<br><br>while GetMessage(Msg,0,0,0) do<br>begin<br>TranslateMessage(Msg);<br>DispatchMessage(Msg);<br>end;<br>end.<br>end.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191770&amp;user=3355&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=14" class="addthx" data-post="191770"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]uxer[/b]','')">uxer</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.48'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=15077">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 18:19 <br><script type="text/javascript">QU('uxer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=uxer" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
procedure TForm1.Timer1Timer(Sender: TObject); - не суть<br>можно и SetTimer вызвать<br>//ловит все нажатия клавиш вне зависимости от активного окна<br><br><br>//может это то что нужно?!<br>program Project1;<br>{&#036;APPTYPE CONSOLE}<br>uses<br>  SysUtils,<br>  Classes,<br>  Windows;<br><br>var<br>PHook: HHook;<br>Msg:TMSG;<br><br>function LowLevelHookProc(code: integer; wParam: word; lParam: longword): longword; stdcall;<br>begin<br>MessageBox(0,pchar(inttostr(wParam)),&#039;&#039;,0);<br>CallNextHookEx(PHook,code,wParam,lparam);<br>LowLevelHookProc:=0;<br>end;<br><br>begin<br>PHook:=SetWindowsHookEx(WH_KEYBOARD, @LowLevelHookProc, hinstance, 0);<br><br>while GetMessage(Msg,0,0,0) do<br>begin<br>TranslateMessage(Msg);<br>DispatchMessage(Msg);<br>end;<br>end.<br>end.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191773&amp;user=15077&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=15" class="addthx" data-post="191773"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2008 20:34 &middot; Поправил: Mavlyudov <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>uxer</b><br>ну почти. твой вариант программы дает коды ТОЛЬКО для загавных клавиш.<br>Например, дает код для &quot;B&quot;=66, а для &quot;b&quot; (как мне нужно) он будет равен 98.<br><br>И сообщение выводится 2 раза, т.к. идет обработака WM_KEYDOWN и WM_KEYUP
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191788&amp;user=3355&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=16" class="addthx" data-post="191788"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]uxer[/b]','')">uxer</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.48'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=15077">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2008 10:19 <br><script type="text/javascript">QU('uxer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=uxer" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
program Project1;<br>{&#036;APPTYPE CONSOLE}<br>uses<br>  SysUtils,<br>  Classes,<br>  Windows;<br><br>var<br>  PHook: HHook;<br>  Msg:TMSG;<br>  hFile:THandle;<br>  nbr:Cardinal;<br>  buf:String;<br>  tosmall:Integer;<br><br>function LowLevelHookProc(code: integer; wParam: word; lParam: longword): longword; stdcall;<br>begin<br>  if code &gt;= 0 then<br>  begin<br>    if wParam in [Byte(&#039;A&#039;)..Byte(&#039;Z&#039;)] then<br>    begin<br>      if ((lParam and &#036;80000000) = 0) then<br>      begin //клавиша нажата<br>        if (GetKeyState(VK_CAPITAL) &lt;&gt; 0) xor<br>           ((GetKeyState(VK_SHIFT) shr 4) = &#036;FFFFFF8) then<br>          tosmall:=0<br>        else tosmall:=32;<br>        buf:=Chr(wParam+tosmall)+#13#10;<br>        WriteFile(hFile,buf[1],Length(buf),nbr,nil);<br>      end;<br><br>      if ((lParam and &#036;80000000) = &#036;80000000) then<br>      begin //клавиша отжата<br><br>      end;<br>    end;<br>    Result := CallNextHookEx(PHook, Code, wParam, lParam);<br>  end else Result:=0;<br>end;<br><br>begin<br>  PHook:=SetWindowsHookEx(WH_KEYBOARD, @LowLevelHookProc, hinstance, 0);<br>  hFile:=CreateFile(PChar(&#039;C:\1.txt&#039;),GENERIC_READ or GENERIC_WRITE,FILE_SHARE_READ,nil,OPEN_ALWAYS,FILE_ATTRIBUTE_NORMAL,0) ;<br>  while GetMessage(Msg,0,0,0) do<br>  begin<br>    TranslateMessage(Msg);<br>    DispatchMessage(Msg);<br>  end;<br>end.<br>end.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191828&amp;user=15077&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=17" class="addthx" data-post="191828"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2008 11:53 <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>uxer</b><br>откуда такие извороты? и почему в файл вывод?<br>выводятся названия клавиш, а нужны коды
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191835&amp;user=3355&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=18" class="addthx" data-post="191835"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]uxer[/b]','')">uxer</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.48'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=15077">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2008 12:20 &middot; Поправил: uxer <br><script type="text/javascript">QU('uxer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=uxer" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=12058.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
program Project3;<br>{&#036;APPTYPE CONSOLE}<br>uses<br>  SysUtils,<br>  Windows;<br><br>var<br>  PHook: HHook;<br>  Msg:TMSG;<br><br>function LowLevelHookProc(code: integer; wParam: word; lParam: longword): longword; stdcall;<br>var<br>  charcode:Byte;<br>begin<br>  if code &gt;= 0 then<br>  begin<br>    if ((lParam and &#036;80000000) = 0) then //нажатие клавиши<br>    begin<br>      charcode:=wParam;<br>      if wParam in [Byte(&#039;A&#039;)..Byte(&#039;Z&#039;)] then <br>        if (GetKeyState(VK_CAPITAL) = 0) xor<br>           ((GetKeyState(VK_SHIFT) shr 4) &lt;&gt; &#036;FFFFFF8) then charcode:=wParam+32;<br><br>      MessageBox(0,pchar(inttostr(charcode)),&#039;&#039;,0); //выводим куда надо...<br>    end;<br>    Result := CallNextHookEx(PHook, Code, wParam, lParam);<br>  end else Result:=0;<br>end;<br><br>begin<br>  PHook:=SetWindowsHookEx(WH_KEYBOARD, @LowLevelHookProc, hinstance, 0);<br>  while GetMessage(Msg,0,0,0) do<br>  begin<br>    TranslateMessage(Msg);<br>    DispatchMessage(Msg);<br>  end;<br>end.<br>end.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=191843&amp;user=15077&amp;forum_n=6&amp;topic=12058.html&amp;page=0&amp;anchor=19" class="addthx" data-post="191843"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Код нажатой клавиши</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#20" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="12058">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=12058" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
