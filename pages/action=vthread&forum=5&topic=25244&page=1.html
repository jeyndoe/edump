<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Stack BT - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Для удобства захотел добавть в свой обработчик исключений (хотя пригодится и в других кейсах) бэктрейс стека, ну думаю вызову CaptureStackBackTrace и дело сделано, но не тут-то было. Оказывается эта &quot;замечательная&quot;">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55477'>Lohmaty</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Stack BT</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=5&amp;topic=25244&amp;page=0.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=5&amp;topic=25244&amp;page=0.html">1</a> . <b>2</b> .</b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Ate[/b]','')">Ate</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 18.9 (новичок), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.6'>Активность: 0.03<span style='color:green'>&nearr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=39934">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 июля 2018 22:23 &middot; Поправил: Ate <br><script type="text/javascript">QU('Ate','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ate" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#1');return false;">#1</a> </span><div align=left><br>
Для удобства захотел добавть в свой обработчик исключений (хотя пригодится и в других кейсах) бэктрейс стека, ну думаю вызову CaptureStackBackTrace и дело сделано, но не тут-то было. Оказывается эта &quot;замечательная&quot; функция просто не видит фреймы, если функция не имеет канонических прологов, эпилогов, итп, возвращая бесполезные крохи инфы.<br>Уточню - никаких заигрываний с исходниками нет, нужен просто сырой бэктрейс из любого приложения.<br>Отсюда вопрос номер 1,- есть ли готовые &quot;правильные&quot; решения, в идеале статические lib, на случай, если никто ничего интересного не предложит, фоллбэк такой:<br><br>буду делать снапшот всего стэка и постфактум разбираться.<br>Например читаем из тиба<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>mov</b></span>&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">FS</span><span class="hl_char">:</span><span class="hl_char">[</span>0x04<span class="hl_char">]</span>&nbsp;<span class="hl_comment">; Stack Base </span></li><li class="hl_l1"><span class="hl_function"><b>mov</b></span>&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">FS</span><span class="hl_char">:</span><span class="hl_char">[</span>0x08<span class="hl_char">]</span>&nbsp;<span class="hl_comment">; Stack Limit (на случай если будет нужно)</span></li>        </ol>
    </div>
</div></div>
<br><br>В цикле по 4 байта (для х86) копируем в буфер (StackBase-ESP) байт начиная с ESP, потом по желанию можно пройтись по адресам и откоментить для вывода (далее чисто мои размышления и велосипеды),- нули игнорируем, помечаем EBP как текущий фрейм, все что в границах (Stack Limit&lt;--&gt;Stack Base) - адреса стека или параметры, остальные адреса проверяем с помощью GetModuleHandleEx &gt; GetModuleFileName на возможную принадлежности к текущим модулям и добавляем коментарий, была даже идея подтянуть капстоун и проверять предыдущую инструкцию на call чтобы отмаркировать &quot;вручную&quot; фреймы.<br><br>В итоге, стоит ли делать так? <br>Или есть ли готовые lib (на худой конец dll), или грамотные исходники?<br>Что из моих &quot;фантазий&quot; годно?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=385705&amp;user=39934&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=1" class="addthx" data-post="385705"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 00:26 &middot; Поправил: Bronco <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#2');return false;">#2</a> </span><div align=left><br>
<I>RevCred пишет:<br>то zydis самый быстрый почти во всём </I><br>и не только скорость, ещё и качество, капстон уже, увы но отстаёт, а <b>зу</b>  ещё и обновляется, и с фейсами получше чем у кседа, и даже есть намёки на асм двиг. один недочёт, нет аббревиатуры, очень много символов в типах аргументов и переменых в структурах. давно уже <b>зуд</b>ит на него мигрировать.<img src="img/smilies/s6.gif" alt="">
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386135&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=2" class="addthx" data-post="386135"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 337.5 (мудрец), 348thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 01:48 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#3');return false;">#3</a> </span><div align=left><br>
Решил посмотреть, начал с капса, так как его билдить не нужно. Оно не нэйтив, вызываются системные апи выделения памяти, поэтому так тест не получится. Определяем свои колбеки, что бы возвращать указатели на буфер:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">typedef&nbsp;<span class="hl_function">void</span><span class="hl_char">*</span>&nbsp;<span class="hl_char">(</span>CAPSTONE_API&nbsp;<span class="hl_char">*</span>cs_malloc_t<span class="hl_char">)</span><span class="hl_char">(</span>size_t&nbsp;size<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">typedef&nbsp;<span class="hl_function">void</span><span class="hl_char">*</span>&nbsp;<span class="hl_char">(</span>CAPSTONE_API&nbsp;<span class="hl_char">*</span>cs_calloc_t<span class="hl_char">)</span><span class="hl_char">(</span>size_t&nbsp;nmemb<span class="hl_char">,</span>&nbsp;size_t&nbsp;size<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">typedef&nbsp;<span class="hl_function">void</span><span class="hl_char">*</span>&nbsp;<span class="hl_char">(</span>CAPSTONE_API&nbsp;<span class="hl_char">*</span>cs_realloc_t<span class="hl_char">)</span><span class="hl_char">(</span><span class="hl_function"><b>void</b></span>&nbsp;<span class="hl_char">*</span><span class="hl_function">ptr</span><span class="hl_char">,</span>&nbsp;size_t&nbsp;size<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">typedef&nbsp;<span class="hl_function"><b>void</b></span>&nbsp;<span class="hl_char">(</span>CAPSTONE_API&nbsp;<span class="hl_char">*</span>cs_free_t<span class="hl_char">)</span><span class="hl_char">(</span><span class="hl_function"><b>void</b></span>&nbsp;<span class="hl_char">*</span><span class="hl_function">ptr</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">typedef&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;<span class="hl_char">(</span>CAPSTONE_API&nbsp;<span class="hl_char">*</span>cs_vsnprintf_t<span class="hl_char">)</span><span class="hl_char">(</span><span class="hl_function"><b>char</b></span>&nbsp;<span class="hl_char">*</span><span class="hl_function">str</span><span class="hl_char">,</span>&nbsp;size_t&nbsp;size<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>const</b></span>&nbsp;<span class="hl_function"><b>char</b></span>&nbsp;<span class="hl_char">*</span><span class="hl_function">format</span><span class="hl_char">,</span>&nbsp;va_list&nbsp;ap<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>Опция CS_OPT_DETAIL ничего не изменяет по размеру памяти. Первые два раза вызывается cs_malloc: 7.4kB, 12.5kB, это не при инициализации, а на декодере cs_disasm()!. Третий вызов не проходит, отваливается при вызове cs_vsnprintf(), я её не определил. Ставим переходник на _vsnprintf(). 6 раз вызывается &quot; + 0x%llx&quot; etc, это нужно как то отключить <img src="img/smilies/s13.gif" alt="">.<br><br>Затем вызывается realloc, её тоже нужно переопределять. Это не интерфейс, а дичайший изврат.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386136&amp;user=40990&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=3" class="addthx" data-post="386136"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 01:54 &middot; Поправил: Bronco <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#4');return false;">#4</a> </span><div align=left><br>
<b>difexacaw</b>, там бетка 4а есть , в ней больше описания при дитейл. в опциях можно скипать данные, на смешанном с данными коде это удобно.<br>не гони беса, фейс простой и удобный..все семплы рабочие..<img src="img/smilies/s3.gif" alt="">
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386137&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=4" class="addthx" data-post="386137"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 337.5 (мудрец), 348thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 01:58 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#5');return false;">#5</a> </span><div align=left><br>
<b>Bronco</b><br><br>А я не говорил что не рабочее, для тестов на профайл нужно исключить винапи. Иначе получится что это тесты не дизасма, а менеджера куч. Как быть с реаллок я хз, так что я пасс такими извратами заниматься.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386138&amp;user=40990&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=5" class="addthx" data-post="386138"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 02:14 &middot; Поправил: Bronco <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#6');return false;">#6</a> </span><div align=left><br>
<I>difexacaw пишет:<br>для тестов на профайл </I><br>я вчера до обеда обкатывал нопы вниз после яра, страницу почти в 30 метров, в буфер, это 7200 лямов инстр, буфер на диз, выхлоп через надстройку в список, с фильтрами, из списка на асм в буфер, на всё 25, с копейками сек.<br>хз мне гонять на профайл не нужно. и так убедительно.<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">1</span><span class="hl_char">.</span>Select<span class="hl_char">.</span>start<span class="hl_char">-</span><span class="hl_char">&gt;</span>0x130000000<span class="hl_char">:</span><span class="hl_char">:</span>Select<span class="hl_char">.</span><span class="hl_function">end</span><span class="hl_char">-</span><span class="hl_char">&gt;</span>0x131ACA9D6<span class="hl_char">:</span><span class="hl_char">:</span>Select<span class="hl_char">.</span>Size<span class="hl_char">-</span><span class="hl_char">&gt;</span>0x1ACA9D7<span class="hl_char">(</span><span class="hl_number">26</span><span class="hl_char">.</span><span class="hl_number">8</span>&nbsp;Mb<span class="hl_char">)</span></li><li class="hl_l1"><span class="hl_number">2</span><span class="hl_char">.</span>Total&nbsp;Instr&nbsp;NOPs<span class="hl_char">-</span><span class="hl_char">&gt;</span><span class="hl_number">1188872</span><span class="hl_char">:</span><span class="hl_char">:</span>Total&nbsp;other&nbsp;Instr<span class="hl_char">-</span><span class="hl_char">&gt;</span><span class="hl_number">7187853</span><span class="hl_char">:</span><span class="hl_char">:</span>WriteBytes<span class="hl_char">-</span><span class="hl_char">&gt;</span>0x19A85CF<span class="hl_char">(</span><span class="hl_number">25</span><span class="hl_char">.</span><span class="hl_number">7</span>&nbsp;Mb<span class="hl_char">)</span></li><li class="hl_l0"><span class="hl_number">3</span><span class="hl_char">.</span>&nbsp;<span class="hl_char">-</span>&nbsp;Total&nbsp;Time<span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span><span class="hl_char">:</span><span class="hl_number">00</span><span class="hl_char">:</span><span class="hl_number">25</span><span class="hl_char">.</span><span class="hl_number">891</span></li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386139&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=6" class="addthx" data-post="386139"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 337.5 (мудрец), 348thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 17:36 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#7');return false;">#7</a> </span><div align=left><br>
<b>Bronco</b><br><br>Взял ксед и капс. При дефолтных настройках, те без смены аллокатора результат - ксед быстрее в 42 раза. Чтобы исключить аллокатор использовал индексируемый массив. Из alloc индекс блока увеличивается, из realloc не изменяется. При этом printf остаётся. Результат - ксед быстрее в 25 раз. Таким образом штатный аллокатор вносит задержку в 1.7 раза.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386154&amp;user=40990&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=7" class="addthx" data-post="386154"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 июля 2018 21:26 &middot; Поправил: Bronco <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#8');return false;">#8</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Таким образом штатный аллокатор вносит задержку в 1.7 раза.  </I><br>не включай в капсе дитейл, накинь на выхлоп кседа парсер, чтобы из строки раскидать в структуру, и тогда сравнивай.<br>я ничего против кседа не имею, кроме его задротов с кодировками, и отсутствием нормального фейса.<br>если в дизе это как то терпимо, то для асма это полный пиздец.
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386158&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=8" class="addthx" data-post="386158"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 337.5 (мудрец), 348thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 июля 2018 19:11 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#9');return false;">#9</a> </span><div align=left><br>
<b>Bronco</b><br><br>Это понятно всё, но и мои тесты - не корректны. Видимо оно пытается не одну инструкцию раскодировать, а их последовательность. Думаю что профайл будет выше при корректном вызове, но я это сделать не могу - при изменении параметров оно крэшит. Впрочем не важно, никакой годный мотор не должен с собой таскать винапи и иметь хз какие интерфейсы. Но это дело выбора. Ксед в десяток строк вызывается и по профайлу и гибкости/стабу превосходит все, ну кроме zydis. По последнему я ничего сказать не могу, потому что нет билда для теста. Ну и особо нет смысла тестить, просто интересно. Конечно продукт от железячного вендора будет лучшим.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386177&amp;user=40990&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=9" class="addthx" data-post="386177"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 июля 2018 23:39 <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#10');return false;">#10</a> </span><div align=left><br>
<I>difexacaw пишет:<br>никакой годный мотор не должен с собой таскать винапи </I><br>ну да...куда проще по индексам типов данных, из таблицы, тупо скинуть всё в строку, и *битесь как хотите. <br>конечно аллокатор не нужен.
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386187&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=10" class="addthx" data-post="386187"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 июля 2018 12:48 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#11');return false;">#11</a> </span><div align=left><br>
<I>difexacaw пишет: По последнему я ничего сказать не могу, потому что нет билда для теста. </I><br><br>пример использования можешь посмотреть на гхабе, в целом работает быстро, но тайминг с xed&#039;m  не сравнивал.<br><br><img src="img/attach.gif" alt=""> <a href="./files/78ae_26.07.2018_EXELAB.rU.tgz">78ae_26.07.2018_EXELAB.rU.tgz</a> - Zydis.7z
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386260&amp;user=41575&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=11" class="addthx" data-post="386260"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 337.5 (мудрец), 348thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 02:37 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#12');return false;">#12</a> </span><div align=left><br>
<b>shellstorm</b><br><br>dumpbin:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">059</span>&nbsp;<span class="hl_number">00000000</span>&nbsp;UNDEF&nbsp;&nbsp;notype&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">|</span>&nbsp;_ZydisRegisterEncode</li><li class="hl_l1"><span class="hl_number">05A</span>&nbsp;<span class="hl_number">00000000</span>&nbsp;UNDEF&nbsp;&nbsp;notype&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">|</span>&nbsp;_ZydisRegisterGetWidth</li><li class="hl_l0"><span class="hl_number">05B</span>&nbsp;<span class="hl_number">00000000</span>&nbsp;UNDEF&nbsp;&nbsp;notype&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">|</span>&nbsp;_ZydisRegisterGetWidth64</li><li class="hl_l1"><span class="hl_number">05C</span>&nbsp;<span class="hl_number">00000000</span>&nbsp;SECT16&nbsp;notype&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">|</span>&nbsp;_ZydisDecoderInit</li><li class="hl_l0"><span class="hl_number">05D</span>&nbsp;<span class="hl_number">00000000</span>&nbsp;SECT15&nbsp;notype&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">|</span>&nbsp;_ZydisDecoderEnableMode</li>        </ol>
    </div>
</div></div>
<br><br>Не сбилдится это.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386291&amp;user=40990&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=12" class="addthx" data-post="386291"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 06:11 <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#13');return false;">#13</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Не сбилдится это.  </I><br><img src="img/smilies/s6.gif" alt=""><br><I>difexacaw пишет:<br>А когда сборка начала являться проблемой ? </I><br><img src="img/smilies/s6.gif" alt="">
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386293&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=13" class="addthx" data-post="386293"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=5846" title="27-07-2018 04:53, ранг:86.7" target="_blank">VOLKOFF</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]VOLKOFF[/b]','')">VOLKOFF</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 173.8 (ветеран), 208thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.95'>Активность: 0.12<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=5846">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 07:33 &middot; Поправил: VOLKOFF <br><script type="text/javascript">QU('VOLKOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VOLKOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#14');return false;">#14</a> </span><div align=left><br>
Потестил Зидис на предложенном в сырках сэмпле на <noindex><a href="https://yadi.sk/d/Jx23SzI33Zcqb2" rel="nofollow" target="_blank"> .text секции х64 фотошопа</a></noindex> - 16.5 секунд <br>Ведь афтор предлагает нам итерациями делать fread прямо по ходу дизасма <img src="img/smilies/s5.gif" alt=""><br>Для сравнения Distorm (в медленном текстовом режиме) - 9.5<br>Все компилил в х64 с оптимизацией (режим дизасма Decode64Bits|CS_MODE_64 соответственно)<br><br>distorm.lib - 89кб<br>Zydis.lib    - 1024кб<br>(без оптимизации и приоритета скорости кода размеры будут меньше)<br><br>Предлагаю на этом же бинаре протестить остальных &quot;кандидатов&quot;.<br>Спецом использовал штатные сэмплы (имхо показательно). Кто захочет реабилитировать зидис - вэлком <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386295&amp;user=5846&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=14" class="addthx" data-post="386295"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 07:56 <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#15');return false;">#15</a> </span><div align=left><br>
<b>VOLKOFF</b>, дишторм уже стратил, на нопах больше одного байта. -ди с теста вылетает.<img src="img/smilies/s3.gif" alt=""><br>зудис разбирает больше наборов команд, чем капстон. - капс с теста вылетает.<img src="img/smilies/s3.gif" alt=""><br>по факту два диза на сегодня актуальны - ксед(<I>??? </I>) и зудис(<I>- 16.5 секунд  </I>). <img src="img/smilies/s14.gif" alt="">
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386296&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=15" class="addthx" data-post="386296"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]VOLKOFF[/b]','')">VOLKOFF</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 173.8 (ветеран), 208thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.95'>Активность: 0.12<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=5846">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 08:00 &middot; Поправил: VOLKOFF <br><script type="text/javascript">QU('VOLKOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VOLKOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#16');return false;">#16</a> </span><div align=left><br>
<I>Bronco пишет:<br>и зудис(- 16.5 секунд ).   </I><br>ну мой &quot;тест&quot; достаточно ироничный, ведь по &quot;штатной&quot; методике у зидиса (точнее сэмпла) большая часть времени уходит на fread <img src="img/smilies/s1.gif" alt=""><br>Если прочитать файл в буфер целиком и потом дизасмить, результат будет другой <img src="img/smilies/s3.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386297&amp;user=5846&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=16" class="addthx" data-post="386297"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]RevCred[/b]','')">RevCred</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.9 (новичок), 16thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.08'>Активность: 0.04<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=42682">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 09:07 &middot; Поправил: RevCred <br><script type="text/javascript">QU('RevCred','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=RevCred" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#17');return false;">#17</a> </span><div align=left><br>
<I>VOLKOFF пишет:<br>Если прочитать файл в буфер целиком и потом дизасмить, результат будет другой   </I><br><I>VOLKOFF пишет:<br>Кто захочет реабилитировать зидис - вэлком   </I><br>попробуйте-ка ещё такой вариант:<br>https://github.com/athre0z/disas-bench/blob/master/bench/distorm/main.c<br>https://github.com/athre0z/disas-bench/blob/master/bench/zydis/main.c<br>https://github.com/athre0z/disas-bench/blob/master/bench/load_bin.inc<br><br>в этом бенче нет влияния чтения файла на результат.<br>но дисторм судя по этому бенчу реально шустрый, так что может это и правда про zydis...<br><br>мне ж не за себя, мне за державу обидно <img src="img/smilies/s6.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386298&amp;user=42682&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=17" class="addthx" data-post="386298"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]Ate[/b]','')">Ate</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 18.9 (новичок), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.6'>Активность: 0.03<span style='color:green'>&nearr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=39934">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 20:51 <br><script type="text/javascript">QU('Ate','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ate" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#18');return false;">#18</a> </span><div align=left><br>
Кстати о xed, решил попробовать, но он у меня никак не хочет собираться. Гугл нашел в двух местах (втч гит x64dbg) единственную скомпилированную lib, решил использовать ее.<br>Взял из доков минимальный пример и столкнулся с такой проблемой - функции xed_decoded_inst_set_mode() в той библиотеке нет... остальное есть, а ее в экспорте нет.<br><br>Может кто поделится полнофункциональным вариантом libxed_x64.lib ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386322&amp;user=39934&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=18" class="addthx" data-post="386322"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Boostyq[/b]','')">Boostyq</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/40448.png" alt=""><br><span class=txtSm>Ранг: 90.1 (постоянный), 91thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.32'>Активность: 0.29<span style='color:green'>&nearr;</span>0.56</span><br>Статус: <a href="action=userinfo&amp;user=40448">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 21:22 &middot; Поправил: Boostyq <br><script type="text/javascript">QU('Boostyq','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Boostyq" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#19');return false;">#19</a> </span><div align=left><br>
<I>Ate пишет:<br>Кстати о xed, решил попробовать, но он у меня никак не хочет собираться. </I><br>Xed вообще тяжело собирается (по крайней мере моими кривыми руками).<br>Там нужен пайтон, плюс они запилили свою систему сборки, которая, как говорит автор, должна была упростить сборку, но все что мне удалось выжать из нее это сгенерированные файлы, пришлось ручками добавлять все в проект и после править все пути, чтобы просто попробовать его.
<br><br><font size="1"><i>-----<br>В облачке многоточия</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386324&amp;user=40448&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=19" class="addthx" data-post="386324"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]mak[/b]','')">mak</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3520.jpg" alt=""><br><span class=txtSm>Ранг: 673.3 <font color=magenta>(<b>! !</b>)</font>, 400thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.48'>Активность: 0.4<span style='color:red'>&searr;</span>0.31</span><br>Статус: <a href="action=userinfo&amp;user=3520">Участник</a><br><font color=blue>CyberMonk</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 22:00 &middot; Поправил: mak <br><script type="text/javascript">QU('mak','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mak" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#20');return false;">#20</a> </span><div align=left><br>
<I>Ate пишет:<br>Кстати о xed, решил попробовать, но он у меня никак не хочет собираться. Гугл нашел в двух местах (втч гит x64dbg) единственную скомпилированную lib, решил использовать ее.<br>Взял из доков минимальный пример и столкнулся с такой проблемой - функции xed_decoded_inst_set_mode() в той библиотеке нет... остальное есть, а ее в экспорте нет.<br><br>Может кто поделится полнофункциональным вариантом libxed_x64.lib ?  </I><br><br>Последний xed можно взять здесь - <noindex><a href="https://software.intel.com/en-us/articles/pin-a-binary-instrumentation-tool-downloads" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex>, качаем Pin 3.7 (May 08, 2018) Kit-97619, заходим в папку extras\xed-intel64\lib или \extras\xed-ia32\lib и берём последний xed.lib, инклуды в соседней папке. Но вот xed_decoded_inst_set_mode там тоже нет <img src="img/smilies/s14.gif" alt=""><br><br>Из инклудов в файле xed-decoded-inst-api.h<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;@ingroup&nbsp;<span class="hl_function">DEC</span></li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;Zero&nbsp;the&nbsp;decode&nbsp;structure&nbsp;completely<span class="hl_char">.</span>&nbsp;Re<span class="hl_char">-</span>initializes&nbsp;all&nbsp;operands<span class="hl_char">.</span></li><li class="hl_l0">XED_DLL_EXPORT&nbsp;<span class="hl_function"><b>void</b></span>&nbsp;&nbsp;xed_decoded_inst_zero<span class="hl_char">(</span>xed_decoded_inst_t<span class="hl_char">*</span>&nbsp;p<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;@ingroup&nbsp;<span class="hl_function">DEC</span></li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;Set&nbsp;the&nbsp;machine&nbsp;mode&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;stack&nbsp;addressing&nbsp;width&nbsp;directly<span class="hl_char">.</span>&nbsp;<span class="hl_function"><b>This</b></span>&nbsp;is&nbsp;<span class="hl_function"><b>NOT</b></span>&nbsp;a</li><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;full&nbsp;initialization<span class="hl_comment">; Call #xed_decoded_inst_zero() before using this if</span></li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;you&nbsp;want&nbsp;a&nbsp;clean&nbsp;slate<span class="hl_char">.</span></li><li class="hl_l0">static&nbsp;XED_INLINE&nbsp;<span class="hl_function">void</span></li><li class="hl_l1">xed_decoded_inst_set_mode<span class="hl_char">(</span>xed_decoded_inst_t<span class="hl_char">*</span>&nbsp;p<span class="hl_char">,</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xed_machine_mode_enum_t&nbsp;mmode</span><span class="hl_char">,</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xed_address_width_enum_t&nbsp;stack_addr_width</span><span class="hl_char">)</span></li><li class="hl_l0">{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;xed_state_t&nbsp;dstate<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;dstate<span class="hl_char">.</span>mmode&nbsp;<span class="hl_char">=</span>&nbsp;mmode<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;dstate<span class="hl_char">.</span>stack_addr_width&nbsp;<span class="hl_char">=</span>&nbsp;stack_addr_width<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;xed_operand_values_set_mode<span class="hl_char">(</span>p<span class="hl_char">,</span>&nbsp;<span class="hl_char">&amp;</span>dstate<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>RE In Progress [!] Coding Hazard [!] Stay Clear of this Cube</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386328&amp;user=3520&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=20" class="addthx" data-post="386328"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Bronco[/b]','')">Bronco</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/3230.gif" alt=""><br><span class=txtSm>Ранг: 312.0 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.46<span style='color:green'>&nearr;</span>0.65</span><br>Статус: <a href="action=userinfo&amp;user=3230">Участник</a><br><font color=blue>Advisor</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 22:09 &middot; Поправил: Bronco <br><script type="text/javascript">QU('Bronco','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bronco" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#21');return false;">#21</a> </span><div align=left><br>
<I>Boostyq пишет:<br>Xed вообще тяжело собирается ( </I><br>поначалу ебала только с кодировками, питон упёртый, ну может это у меня так.<br> мбилд обязательно берём с сайта,странно он что не подгружается автоматом, один же автор, тыкаем его или к либам в питон, или в дистриб кседа. инстал, и всё нужное в ките лежит.<br>вот дальше качели, совместимость с и с+, куча не понятных движений.<br><b>mak</b>, в пин, не шибко свежий, а либу один хер собирать...<img src="img/smilies/s1.gif" alt=""><br><I>Ate пишет:<br>единственную скомпилированную lib </I><br>угу... Диа красава, попилил ксед не хило, но либы в 2013 собирались, и там по ходу только енкоде.
<br><br><font size="1"><i>-----<br>Чтобы юзер в нэте не делал,его всё равно жалко..</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386329&amp;user=3230&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=21" class="addthx" data-post="386329"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]VOLKOFF[/b]','')">VOLKOFF</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 173.8 (ветеран), 208thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.95'>Активность: 0.12<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=5846">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 22:37 <br><script type="text/javascript">QU('VOLKOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VOLKOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#22');return false;">#22</a> </span><div align=left><br>
Хотел отхватить лойс на халяву, а получил <br>[EXIT_STATUS ] 399 [STDERR] где-то к середине процесса (при билде некоторых c# файлов) <img src="img/smilies/s6.gif" alt=""><br>Притом путь к компилю &quot;/Microsoft Visual Studio 12.0/VC/bin/amd64/cl.exe&quot;, похоже это проделки VCForPython27, ибо я снес все студии кроме 2017-ой.<br><br>А на линуксе все мухой собралось...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386330&amp;user=5846&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=22" class="addthx" data-post="386330"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 июля 2018 23:58 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#23');return false;">#23</a> </span><div align=left><br>
<I>VOLKOFF пишет: где-то к середине процесса </I><br><br>в переменные среды нужно добавить пути до windows kits / include или скопировать инклуды в папку инклудов xed&#039;a, а так изи: https://dropmefiles.com/Rhb6i
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386335&amp;user=41575&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=23" class="addthx" data-post="386335"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=3230" title="27-07-2018 21:31, ранг:246.1" target="_blank">Bronco</a>, <a href="action=userinfo&user=5846" title="27-07-2018 22:30, ранг:86.9" target="_blank">VOLKOFF</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]VOLKOFF[/b]','')">VOLKOFF</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 173.8 (ветеран), 208thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.95'>Активность: 0.12<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=5846">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 июля 2018 01:30 &middot; Поправил: VOLKOFF <br><script type="text/javascript">QU('VOLKOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VOLKOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#24');return false;">#24</a> </span><div align=left><br>
<I>shellstorm пишет:<br> а так изи </I><br><img src="https://exelab.ruimg/tu.png" border="0" align="" alt=""><br><I>mak пишет:<br>Но вот xed_decoded_inst_set_mode там тоже нет </I><br>Ну как бы да, странные они. В <noindex><a href="https://intelxed.github.io/ref-manual/group__SMALLEXAMPLES.html" rel="nofollow" target="_blank">первом же сэмпле доков</a></noindex> ее сами юзают <img src="img/smilies/s1.gif" alt=""> <br>В списке функций <noindex><a href="https://intelxed.github.io/ref-manual/group__DEC.html#ga05a09aff67ff9713d7dbf31fcbf0409b" rel="nofollow" target="_blank">тоже присутствует</a></noindex>, а в бинаре <u>заинлайнили</u> <img src="img/smilies/s6.gif" alt=""><br><br>Надо кодесы смотреть, мб там воркэраунд какой есть, типа инициализации xed_state_t и вызова xed_decoded_inst_zero_set_mode (не смотрел, просто размышляю! Сам сабж не юзал)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386338&amp;user=5846&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=24" class="addthx" data-post="386338"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=39934" title="28-07-2018 20:23, ранг:7.2" target="_blank">Ate</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 июля 2018 02:02 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#25');return false;">#25</a> </span><div align=left><br>
<I>VOLKOFF пишет: В списке функций тоже присутствует, а в бинаре заинлайнили </I><br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">static&nbsp;XED_INLINE&nbsp;<span class="hl_function">void</span></li><li class="hl_l1">xed_decoded_inst_set_mode<span class="hl_char">(</span>xed_decoded_inst_t<span class="hl_char">*</span>&nbsp;p<span class="hl_char">,</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xed_machine_mode_enum_t&nbsp;mmode</span><span class="hl_char">,</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xed_address_width_enum_t&nbsp;stack_addr_width</span><span class="hl_char">)</span></li><li class="hl_l0">{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;xed_state_t&nbsp;dstate<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;dstate<span class="hl_char">.</span>mmode&nbsp;<span class="hl_char">=</span>&nbsp;mmode<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;dstate<span class="hl_char">.</span>stack_addr_width&nbsp;<span class="hl_char">=</span>&nbsp;stack_addr_width<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;xed_operand_values_set_mode<span class="hl_char">(</span>p<span class="hl_char">,</span>&nbsp;<span class="hl_char">&amp;</span>dstate<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div>
<br>это в pin&#039;e, а в самостоятельной сборке XED_DLL_EXPORT
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386339&amp;user=41575&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=25" class="addthx" data-post="386339"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]VOLKOFF[/b]','')">VOLKOFF</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 173.8 (ветеран), 208thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.95'>Активность: 0.12<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=5846">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 июля 2018 02:19 <br><script type="text/javascript">QU('VOLKOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VOLKOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#26');return false;">#26</a> </span><div align=left><br>
<I>shellstorm пишет:<br>это в pin&#039;e </I><br>это <noindex><a href="https://github.com/intelxed/xed/blob/master/include/public/xed/xed-decoded-inst-api.h" rel="nofollow" target="_blank">везде</a></noindex> <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386340&amp;user=5846&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=26" class="addthx" data-post="386340"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 июля 2018 03:01 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#27');return false;">#27</a> </span><div align=left><br>
<I>VOLKOFF пишет: это везде </I><br><br>сорян, билдил не из репы и попалась древняя версия. <img src="img/smilies/s1.gif" alt=""><br>последняя https://dropmefiles.com/iVaap
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386342&amp;user=41575&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=27" class="addthx" data-post="386342"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=39934" title="28-07-2018 20:21, ранг:7.2" target="_blank">Ate</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]VOLKOFF[/b]','')">VOLKOFF</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 173.8 (ветеран), 208thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.95'>Активность: 0.12<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=5846">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 июля 2018 23:08 &middot; Поправил: VOLKOFF <br><script type="text/javascript">QU('VOLKOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VOLKOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#28');return false;">#28</a> </span><div align=left><br>
<I>RevCred пишет:<br>так что может это и правда про zydis... </I><br>Похоже такая подача не косяк, ибо даже при прямом чтении из памяти &quot;целым куском&quot; результат получился идентичный (с погрешностью которой можно пренебречь).<br><br>Тест на том же коде (по ссылке выше):<br><b>16.172</b> - при полноценном выводе с адекватными настройками форматирования (короче стандартный рабочий кейс)<br><b>6.688</b> - DECODER_MODE_MINIMAL (из выхлопа выпиливаются операнды атрибуты и прочая необходимая инфа)<br><br>Имхо второй кейс нужен в очень редких специфических случаях, когда нужно узнать лишь саму инструкцию, или добавить в сырки &quot;красивый&quot; бенч, что мы и имеем <img src="img/smilies/s6.gif" alt="">  <br><br>Немного статки:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">По&nbsp;ходу&nbsp;декодирования&nbsp;имеем&nbsp;<span class="hl_number">8034</span>&nbsp;ошибки&nbsp;<span class="hl_char">(</span>это&nbsp;почти&nbsp;нормально<span class="hl_char">*</span><span class="hl_char">,</span>&nbsp;учитывая&nbsp;что&nbsp;в&nbsp;буфере<span class="hl_char">)</span></li><li class="hl_l1"><span class="hl_number">002</span>&nbsp;<span class="hl_char">-</span>&nbsp;ILLEGAL_LEGACY_PFX</li><li class="hl_l0"><span class="hl_number">004</span>&nbsp;<span class="hl_char">-</span>&nbsp;ILLEGAL_REX</li><li class="hl_l1"><span class="hl_number">004</span>&nbsp;<span class="hl_char">-</span>&nbsp;INSTRUCTION_TOO_LONG&nbsp;<span class="hl_char">(</span>&nbsp;на&nbsp;<span class="hl_quote">'2E 2E 03 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E'</span><span class="hl_char">)</span>&nbsp;&nbsp;<span class="hl_char">:</span><span class="hl_char">)</span></li><li class="hl_l0"><span class="hl_number">031</span>&nbsp;<span class="hl_char">-</span>&nbsp;ILLEGAL_LOCK</li><li class="hl_l1"><span class="hl_number">038</span>&nbsp;<span class="hl_char">-</span>&nbsp;BAD_REGISTER</li><li class="hl_l0"><span class="hl_number">054</span>&nbsp;<span class="hl_char">-</span>&nbsp;MALFORMED_EVEX</li><li class="hl_l1"><span class="hl_number">137</span>&nbsp;<span class="hl_char">-</span>&nbsp;INVALID_MAP</li><li class="hl_l0">но&nbsp;многие&nbsp;ошибки&nbsp;избыточны&nbsp;и&nbsp;присущи&nbsp;только&nbsp;ему<span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li>        </ol>
    </div>
</div></div>
<br><br>Да он поумнее* (по факту зависит от кейса) дисторма и за счет этих &quot;умствований&quot; медленнее.<br>В целом все норм, километровые трассы разбирать не мой профиль, однако с джанком зидис дружит (внезапно) сильно хуже остальных* и это безусловно лично меня печалит.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=386363&amp;user=5846&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=28" class="addthx" data-post="386363"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]Boostyq[/b]','')">Boostyq</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/40448.png" alt=""><br><span class=txtSm>Ранг: 90.1 (постоянный), 91thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.32'>Активность: 0.29<span style='color:green'>&nearr;</span>0.56</span><br>Статус: <a href="action=userinfo&amp;user=40448">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 июля 2018 23:46 <br><script type="text/javascript">QU('Boostyq','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Boostyq" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#29');return false;">#29</a> </span><div align=left><br>
<I>VOLKOFF пишет:<br>однако с джанком зидис дружит (внезапно) сильно хуже остальных </I><br>Извините за оффтоп, а для каких целей вам нужен настолько стрессоустойчивый дизасм?
<br><br><font size="1"><i>-----<br>В облачке многоточия</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386366&amp;user=40448&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=29" class="addthx" data-post="386366"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 337.5 (мудрец), 348thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 августа 2018 01:18 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25244&amp;page=1#30');return false;">#30</a> </span><div align=left><br>
<b>Bronco</b><br><br>&gt; А когда сборка начала являться проблемой ? <br><br>Проблема в размере билдера. Студию я не использую(тк не пишу на си), а она весит больше, чем у меня всего сетевого трафа. Использование этого не имеет смысла в моём случае. Можно собрать каким то иным компилером, но это займёт на допил кучу времени, которое можно потратить на более продуктивные задачи, а не заниматься извратом с кривыми скриптовыми сборщиками. Есть какие то версии студии на диске, но нет желания искать и ставить это, только ради сборки единственного семпла. Так то.<br><br><b>Boostyq</b><br><br>&gt; для каких целей вам нужен настолько стрессоустойчивый дизасм? <br><br>Тоесть по вашему нужно юзать кривые и падающие ?<br><br>Подробный вывод инфы про невалид инструкции лишь не нужная опция, либо декодировал, либо нет. Это отладочная инфа и она обычно не нужна.<br><br><b>VOLKOFF</b><br><br>По вашему логу получается что вы тестили мотор на данных, а не на коде. Так это и делается, но при этом нужно результат декодера сравнивать с заранее известным и валидным, а это либо штатный код, либо мотор выполняющий раскодировку без ошибок. Под 86 таких два, под 64 мне не известно, но я бы выбрал ксед. От вендора железа несомненно мотор будет лучшим, чем кривые самопальные сборки.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=386949&amp;user=40990&amp;forum_n=5&amp;topic=25244&amp;page=1&amp;anchor=30" class="addthx" data-post="386949"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=5&amp;topic=25244&amp;page=0.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=5&amp;topic=25244&amp;page=0.html">1</a> . <b>2</b> .</b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Stack BT</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#31" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="25244">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=25244" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
