<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CRACKER. Реализация для WIN32. GUI. - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="============================== CRACKER. Реализация для WIN32 GUI ============================== Наверное, нет нужды рассказывать, что такое крякеры. Вкратце, это двоичные патчеры, работающие в ручном режиме и берущие информацию о">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=33192'>morgot</a>, <a target='_blank' href='?action=userinfo&amp;user=54646'>sashalogout</a>, <a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/default.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=3&sortBy=0&page=0.html"><b>Софт, инструменты</b></a> <b class=bulletHead>&#8212;&#8250;</b> CRACKER. Реализация для WIN32. GUI.</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=0.html">1</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">2</a> . <b>3</b> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=3.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2015 03:27 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#1');return false;">#1</a> </span><div align=left><br>
==============================<br><b>CRACKER. Реализация для WIN32 GUI</b><br>==============================<br><br>Наверное, нет нужды рассказывать, что такое <b>крякеры</b>.<br>Вкратце, это <b>двоичные патчеры</b>, работающие в ручном режиме и берущие информацию о патчах в текстовых <b>файлах .CRK</b> (в простейшем случае CRK, позже появились всевозможные &quot;расширения&quot;, зачастую неоправданные). Эти файлы - и есть <b>кряки</b>.<br><br>Самая старая и заслуженная из этого класса программ датируется ещё 1991 годом, от Corner Crackers   (<b>CRACKER.EXE v.1.1</b>). <br>Позже, в 90-х, появилось ещё несколько аналогичных программ, из которых самая, пожалуй, удачная реализация выполнена Professor&#039;ом Nimnull&#039;ом в 1996 году и назывется она <b>Cracker Advanced (CRA.EXE v.0.2.16 и CRA386.EXE v.0.2.14 с PMODE/W)</b> (CRA386 v.2.16 под WinXP глючит).<br><br>Вот полный их список, все для DOS (по ссылкам архивы с этими программами):<br>------------------------------------------------------------------------------------------------------<br>1) <noindex><a href="http://old-dos.ru/dl.php?id=11310" rel="nofollow" target="_blank"> <b>CRACKER.EXE v.1.1</b> </a></noindex> (by Corner Crackers, 1991)<br>2) <noindex><a href="http://old-dos.ru/dl.php?id=7310" rel="nofollow" target="_blank"><b>Program Cracker</b></a></noindex> (by Dr.Stein&#039;s labs, 1993)<br>3) <noindex><a href="http://old-dos.ru/dl.php?id=12625" rel="nofollow" target="_blank"><b>CRA v.0.2.16</b></a></noindex>,<noindex><a href="http://old-dos.ru/dl.php?id=12624" rel="nofollow" target="_blank"> <b><u>CRA386.EXE v.0.2.14</u></b> </a></noindex> (by Nimnull, 1996)<br>4) <noindex><a href="http://old-dos.ru/dl.php?id=12626" rel="nofollow" target="_blank"><b>CRK</b></a></noindex> (by Bolshun/Ivanov, 1996)<br>5) <noindex><a href="http://old-dos.ru/dl.php?id=6499" rel="nofollow" target="_blank"><b>CRACK-STUDIO</b></a></noindex> (by Turansoft, 1997)<br>------------------------------------------------------------------------------------- <br><br>Так что тема в 90-х была достаточно разработанная.<br><br>До какого-то момента этих программ было вполне достаточно, но время вносит свои коррективы, и все имеющиеся реализации подобного софта (их можно насчитать пять штук, все для DOS) перестали отвечать запросам. Как такое можно терпеть? - Никак. Это невыносимо.<br><br>Недостатки этих реализаций прошлого века вытекают из их DOS-овости. (Здесь CRA386, пожалуй, выглядит более достойно, но от остальных он принципиально ушёл недалеко).<br><br>Недостатки такие: <br>- ограничения оперативной памяти (кроме CRA386);<br>- невозможность работы с длинными именами файлов (LFN) в WIN32;<br>- невозможность работы в 64-битных ОС.<br><br><b>А между тем, формат CRK вполне себя оправдывает и поныне для хранения информации о внесённых в двоичные файлы изменениях и исправлениях.  Поэтому от самой идеи программ-крякеров отказываться вряд ли придётся. </b><br><br><br>Ну, и к собственно сабжу.<br><br>======================================<br><noindex><a href="http://old-dos.ru/dl.php?id=17543" rel="nofollow" target="_blank">--&gt; <b><u>Вот версия 0.002b CRACKER&#039;а для WIN32.</u></b> &lt;--</a></noindex>  (6 May 2018 г.) - Size: ~25 Kb, UPX&#039;ed. MSVC.<br>====================================== <br><br><img src="http://old-dos.ru/screens/5/c/6/32954a2d9e967aac1da74a45339c5.png" border="0" align="" alt=""><br><br>Интерфейс воспроизводит наиболее удачные образцы таких программ прошлого века - минимум лишнего.<br>(В листбоксе виден фрагмент каталога файлов популярной <noindex><a href="http://old-dos.ru/dl.php?id=12670" rel="nofollow" target="_blank"> <b><u>библиотеки кряков</u></b> </a></noindex> от Corner Crackers, 1991).<br><br>Крякер занимается только разбором текста кряков, который составлен руками в желаемом виде,<br>но с соблюдением некоторых &quot;соглашений&quot; вроде синтаксиса комментариев.<br>Сами кряки (файлы .CRK) составляются ручками, можно с использованием какого-либо другого инструмента. <br><br><br><br><br>==============================================<br><b>Краткое описание возможностей этой программы:</b><br>==============================================<br><br>- Работает с форматами CRK,CRA,XCK  (дань традициям).<br><br>- Поддерживаются комментарии в стиле Cracker Advanced (&#039;#&#039; в начале строки),<br>однако его опции #SIZE, #CHCKSUM, #RUN и т.д. игнорируются за явной ненадобностью.<br><br>- Поддерживается корректное использование кириллицы в кодировках DOS/WIN (можно выбрать),<br>(Кстати, все опции программы видны, если отволочь правую границу диалогового окна вправо).<br><br>Вот они, опции программы:<br><br><img src="http://old-dos.ru/screens/e/9/1/a489f343789a3ca71119f4a6d1296.png" border="0" align="" alt=""><br><br><br>- LFN для кряков и имён исправляемых файлов (как и положено в WIN32).<br><br>- Смещения для патчения в файле CRK могут задаваться либо традиционно, в виде абсолютных величин, <b>либо в виде VirtualAddress (VA)</b>, как для WIN32 PE-файлов. Тогда перед адресом нужно указывать точку, например, вот так:<br><b>.00401005 72 EB</b><br>(Это вообще возможность, отсутствующая в программах-аналогах для DOS&#039;а. Расширение синтаксиса CRK).<br><br>В версии 0.002a добавилась возможность для WIN32-PE файлов адреса указывать <b>также и </b> в формате <b>Relative Virtual Address (RVA) </b>,<br>тогда перед адресом нужно задать две точки, как в выводе утилиты CMP32.EXE v.0.002a, например, так:<br><b>..0001005 72 EB</b><br><br><br><b>- и кстати - тут сразу возникает <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=13687&amp;page=11#10" rel="nofollow" target="_blank"><u>предложение</u></a></noindex> к <u>crc1</u> по добавлению в его <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=13687" rel="nofollow" target="_blank"><u>CmpDisasm</u></a></noindex> возможностей, касающихся сохранения различий в сравниваемых файлах в формате CRK, но с виртуальными адресами смещений патчения.</b><br>(<b>--Добавлено--</b>: Наподобие того, как это делает представленная в следующем посте утилита <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834#2" rel="nofollow" target="_blank"><u><b>CMP32.EXE</b></u></a></noindex> с опцией &quot;/v&quot; или &quot;/a&quot;).<br><br>- Имеются расширения синтаксиса CRK - &quot;CHECK&quot; и &quot;FORCE&quot;. Например:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">00001234</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;;&quot;CHECK&quot;  - проверка байта. Удобно применять для контроля нужной версии исправляемого файла.</span></li><li class="hl_l1"><span class="hl_number">00001235</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">23</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;;&quot;FORCE&quot;  - безусловная замена байта (Но. После этого распатчивание уже будет невозможно)</span></li>        </ol>
    </div>
</div></div>
<br>- Имеется опция &quot;Patch All&quot;, когда все кряки, описанные в выбранном CRK-файле, применяются одновременно.<br><br>- Вызов редакторов DOS/WIN для редактирования текста кряков, не выходя из программы (пути к редакторам настраиваются).<br>(Для DOS-овского редактора можно применять LFN или SFN, на выбор.)<br>По умолчанию это &quot;edit&quot;(+SFN) и &quot;notepad&quot;.<br><br>- Корректная работа как в WinXP, так и в Win9x. (Без этого никак. Win9x никуда не делась).<br><br>- Два размера диалогового окна - компактный (size 1) для режима 640x480 и более просторный (size 2) для высокого разрешения экрана.<br><br>- Программа эргономична. Например, фокус ввода c любого из контролов переводится на главный список кряков нажатием клавиши &lt;Esc&gt;.<br>Все опции помимо стандартных контролов продублированы ещё и горячими клавишами, так что можно (и даже удобнее) работать без использования мыша.<br><br>Справку по &quot;горячим&quot; клавишам можно подглядеть по нажатии кнопки F1: <br><br><img src="http://old-dos.ru/screens/8/b/7/c763db6e9e7f6b24e4e14400e783e.png" border="0" align="" alt=""><br><br>- Тут можно ещё что-нибудь написать,  довольно  обильно, - но лучше привести примеры текста CRK, с которым может работать эта программа.<br>Например, так:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;допускаются пустые строки</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">Исрправление&nbsp;ошибок&nbsp;в&nbsp;программе&nbsp;Прога<span class="hl_char">.</span>EXE&nbsp;v<span class="hl_char">.</span><span class="hl_number">1</span><span class="hl_char">.</span><span class="hl_number">2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;можно комментировать, используя ';'</span></li><li class="hl_l1">#SIZE&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">3333</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;эти строки игнорируются,</span></li><li class="hl_l0">#CHKSUM&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">32233223</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;совместимость с CRA286.EXE (даже вернее с C2U.EXE, но это уже другая тема)</span></li><li class="hl_l1">#RUN&nbsp;<span class="hl_char">=</span>&nbsp;UPX&nbsp;<span class="hl_char">-</span>d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; тоже</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="hl_l1"><span class="hl_number">1</span><span class="hl_char">)</span>&nbsp;Убрать&nbsp;наглое&nbsp;окно</li><li class="hl_l0"><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_comment">; тут можно добавить ещё какое-нибудь описание исправления</span></li><li class="hl_l0"><span class="hl_comment">; (Но символ ';' должен быть в первой позиции.)</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0">Прога<span class="hl_char">.</span>EXE&nbsp;&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_comment">; тоже можно добавить строки комментариев. Но символ ';' должен быть в первой позиции.</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">000000222</span><span class="hl_char">:</span>&nbsp;&nbsp;cc&nbsp;<span class="hl_number">90</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_comment">;</span></li><li class="hl_l1">Drv<span class="hl_char">\</span>Прога<span class="hl_char">.</span>DLL</li><li class="hl_l0"><span class="hl_comment">; снова можно добавить строки комментариев. Но символ ';' должен быть в первой позиции.</span></li><li class="hl_l1"><span class="hl_char">.</span>00403С40<span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_number">2</span><span class="hl_char">)</span>&nbsp;Ограничения&nbsp;времени&nbsp;работы</li><li class="hl_l0">Прога<span class="hl_char">.</span>EXE&nbsp;&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">00402222</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li><li class="hl_l0"><span class="hl_number">000000333</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">80</span>&nbsp;<span class="hl_number">00</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Абсолютное смещение в файле</span></li><li class="hl_l1">Drv<span class="hl_char">\</span>Прога<span class="hl_char">.</span>DLL&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l0"><span class="hl_char">.</span>00403С55<span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">73</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li>        </ol>
    </div>
</div></div>
- Ну и так далее.  <br>По мере разбора текста, если встречаются ошибки, то выдаётся номер соответствующей строки. Где вышел затык.<br><br>В <b>крякере</b> при чтении этого всего увидим такую картинку (кстати, выбран размер окна &quot;<b>Size 2</b>&quot;):<br><br><img src="http://old-dos.ru/screens/7/1/3/67aec4248e4e01dd6f19a28e0363c.png" border="0" align="" alt=""><br><br><br><br><br>Сколько кряков может присутствовать в одном файле? - не знаю.  И никто не знает.<br>Но много, и разного размера. Память под них выделяется динамически. Надо пробовать.<br>В случае чего программа скажет &quot;memory allocation error..&quot; и позорно завершится.<br><br>Однако, со всеми старыми, существующими ранее, файлами *.CRK, *.CRA, *.XCK программа должна работать без проблем.<br><br>) Ругань можно оставлять здесь в теме, лишь бы по делу - багрепорты приветствуются.<br><br><br><b>*** См.также: ***</b><br><br>Ссылка на пост #02 этой темы, об утилите <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#2" rel="nofollow" target="_blank">--&gt; CMP32 &lt;--</a></noindex> (для использования её совместно с CRACKER&#039;ом).<br><br>Ссылка на пост #27 этой темы, о HEM-модуле <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=1#27" rel="nofollow" target="_blank">--&gt; CRACK.HEM &lt;--</a></noindex> (для использования его совместно с CRACKER&#039;ом).<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=359910&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=1" class="addthx" data-post="359910"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=30254" title="11-11-2015 12:01, ранг:11.6" target="_blank">elch</a>, <a href="action=userinfo&user=39578" title="18-11-2015 03:24, ранг:2.6" target="_blank">ProstoAndreyX</a>, <a href="action=userinfo&user=39910" title="01-12-2015 00:03, ранг:0.3" target="_blank">wzhick</a>, <a href="action=userinfo&user=31325" title="01-12-2015 02:35, ранг:5.1" target="_blank">zNob</a>, <a href="action=userinfo&user=5173" title="16-02-2016 05:49, ранг:318.5" target="_blank">vnekrilov</a>, <a href="action=userinfo&user=6015" title="17-02-2016 02:17, ранг:28.1" target="_blank">GMAP</a>, <a href="action=userinfo&user=3756" title="03-12-2017 10:12, ранг:57.0" target="_blank">==DJ==[ZLO]</a></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 марта 2017 22:55 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#2');return false;">#2</a> </span><div align=left><br>
<I>dosprog пишет:<br>Но там можно ускорить принятие нужного решения,<br>а тут придётся только ждать.</I><br><br>Тогда я не понимаю, что для тебя будет аналогом MessageBox.<br>Ведь изначально я отвечал на твой комментарий:<br><br><I>Парадокс, что в набор пользовательских функций не включена обычная функция-аналог MessageBox.</I>
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373254&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=2" class="addthx" data-post="373254"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 марта 2017 23:31 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#3');return false;">#3</a> </span><div align=left><br>
Чтоб не ждать.<br>А явно выбрать из двух (трёх и т.д.) вариантов.<br><br>Как оно сделано сейчас, используя ччч_GetStr() [для двух вариантов Enter &amp; Esc].<br>Ну, вот как в обычной MessageBox() в Wind&#039;е.<br><br>В идеале - возвращаемое значение должно быть кодом нажатой клавиши.<br>Но тогда Hiew-шное меню теряет смысл - всё можно делать с помощью такого &quot;диалога&quot;.<br><br>Кстати, вот утилитка полезная на эту же тему: <noindex><a href="http://old-dos.ru/dl.php?id=14506" rel="nofollow" target="_blank">--&gt; MBox &lt;--</a></noindex><br>Утиль обеспечивает ветвления в BAT-файлах <br>путём вызова стандартного MessageBox&#039;а Wind&#039;ы.<br><br>.. Ну и до кучи - подобный же функционал для BAT-файлов, <br>но уже просто с помощью анализа нажатий на кнопки клавиатуры. <noindex><a href="http://old-dos.ru/dl.php?id=13588" rel="nofollow" target="_blank">--&gt; vk_check &lt;--</a></noindex><br>Тут функционал значительно шире, чем в предыдущей утилите Mbox, <br>именно за счёт использования кодов нажатия клавиш, а не кнопок диалога.<br><br>Если бы эти две возможности [кнопки диалога и код клавиш] можно было совместить, было бы очень удобно.<br><br><br><br>В общем, в HEM&#039;ах для каких-то более сложных ветвлений, видимо, нужно использовать меню, с его F-кнопками.<br>[вызов из HIEW/HEM стандартного виндового графического MessageBox&#039;а c негодованием отвергаю]<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373257&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=3" class="addthx" data-post="373257"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 00:34 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#4');return false;">#4</a> </span><div align=left><br>
<I>dosprog пишет:<br>В общем, в HEM&#039;ах для каких-то более сложных ветвлений, видимо, нужно использовать меню, с его F-кнопками. </I><br><br>Ну да, ведь на такой F-навигации весь Hiew построен.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373260&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=4" class="addthx" data-post="373260"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 02:02 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#5');return false;">#5</a> </span><div align=left><br>
Обнаружилась неувязка в выводе CRACK.HEM-плагина при использовании потом CRACKER&#039;а<br><br>Дело в том, что для PE файлов HIEW новых версий назначает &quot;локальную&quot; адресацию для  MZ+PE заголовков.<br>Таким образом, после правки заголовка PE-файла и запуска плагина будет получен такой CRK-файл:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Fixing&nbsp;of&nbsp;<span class="hl_number">1</span>&nbsp;</li><li class="hl_l1">File&nbsp;size&nbsp;<span class="hl_number">492032</span>&nbsp;<span class="hl_char">(</span>0x78200<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1&quot;</span>&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;<span class="hl_quote">&quot;2&quot;</span>&nbsp;</li><li class="hl_l0"><span class="hl_number">1</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004000B0</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span>&nbsp;<span class="hl_comment">;000000B0: </span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">004000B1</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span>&nbsp;<span class="hl_comment">;000000B1: </span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004000B2</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span>&nbsp;<span class="hl_comment">;000000B2: </span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">004000B3</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span>&nbsp;<span class="hl_comment">;000000B3: </span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004000B4</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span>&nbsp;<span class="hl_comment">;000000B4: </span></li>        </ol>
    </div>
</div></div>
<br>Строго говоря, для PE-файла это не является ошибкой.<br><br>Но CRACKER такое не переварит, - для участков модуля, не описанных в таблице секций (например, для заголовков PE) адресация должна быть глобальная (то есть не VA, а абсолютные смещения от начала файла).<br><br>А вот утилита cmp32, даже с ключом &quot;/a&quot;, выдаст подходящий для CRACKER&#039;а скрипт:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1&quot;</span>&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_quote">&quot;2&quot;</span></li><li class="hl_l1"><span class="hl_number">1</span></li><li class="hl_l0"><span class="hl_number">000000B0</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span></li><li class="hl_l1"><span class="hl_number">000000B1</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span></li><li class="hl_l0"><span class="hl_number">000000B2</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span></li><li class="hl_l1"><span class="hl_number">000000B3</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span></li><li class="hl_l0"><span class="hl_number">000000B4</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">11</span></li>        </ol>
    </div>
</div></div>
<br><br>Нужно будет добавить в плагин CRACK.HEM разбор PE-заголовка и подавление &quot;локальной&quot; адресации для смещений в самом PE-заголовке.<br>.. Или останется всё, как есть сейчас, пока неясно.  Это на будущее.<br><br>.. вот так простая, в общем-то, тулза начинает обрастать всякими наворотами ..<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373268&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=5" class="addthx" data-post="373268"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 02:47 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#6');return false;">#6</a> </span><div align=left><br>
<b>dosprog</b><br>По-моему, ты напутал с адресацией, ведь Hiew сам по себе ничего не назначает.<br>Всё зависит от типа адресации, которая переключается по Alt+F1.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373271&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=6" class="addthx" data-post="373271"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 03:09 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#7');return false;">#7</a> </span><div align=left><br>
Да нет, всё правильно.<br><br>Давно обратил на это внимание, что HIEW32 с версий 7.x [проверил только что на HIEW32 v.6.86 и v.7.01 - такое различие, действительно, имеется] - HIEW32 начал включать &quot;локалную&quot; адресацию для всего MZ-PE, считая, что MZ расположен &quot;локально&quot; по адресу .400000 (или что там указано в PE.ModuleBase). <br>Формально-то оно, может, и правильно, но в результате такая вот коллизия, да.<br><br>В Hiew 6.x для DOS/WIN32 этого ещё не было - в заголовках шла глобальная адресация вне зависимости от режима (Alt+F1). <br>[Но там ещё и никаких HEM&#039;ов не было. Они пошли начиная с версий 7.x].<br><br>Да оно и не мешало, зацепился за это только сейчас, в контексте использования CRACKER&#039;а, и как только появился CRACK.HEM.<br><br>Логику определения &quot;Local/Global&quot; в CRACKER&#039;е менять не буду, там в нём кое-что ещё на неё завязано.<br>Так что пока останется всё как есть, просто нужно иметь это в виду.<br>И всё равно полученный с помощью плагина СRK-файл потом редактировать ручками, можно и поправить, при необходимости, прямо там.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373272&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=7" class="addthx" data-post="373272"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 10:20 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#8');return false;">#8</a> </span><div align=left><br>
<b>dosprog</b><br>Мы вроде говорили про метки, которые Names.<br><br>Проведи следующий эксперимент:<br>1. В любом месте файла (будь то заголовок, или код внутри секции), переключись (цикличное переключение по <i class=x>Alt+F1</i>) сначала в режим файловых смещений.<br>2. Установи метку (<i class=x>Shift+F12</i>), например &quot;<b>Local</b>&quot;.<br>3. Переключись на режим виртуальных адресов (всё та же комбинация <i class=x>Alt+F1</i>).<br>4. Переместись на другой участок, но рядом с первым.<br>5. Установи метку (<i class=x>Shift+F12</i>), например &quot;<b>Global</b>&quot;.<br>А теперь зайди в список имён (Names, по клавише <i class=x>F12</i>) и ты увидишь, что заданные тобой метки находятся в <b>разных</b> списках - <b>Local</b> и <b>Global</b> (переключение между ними по F3/F4).
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373275&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=8" class="addthx" data-post="373275"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 11:48 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#9');return false;">#9</a> </span><div align=left><br>
Да, именно это и проделал в самом начале знакомства с этой фичей HIEW.<br>Потом проделал другой эксперимент, когда немного стал понимать, что там происходит:<br><br>Одному и тому же адресу назначил &quot;Local&quot; метку и комментарий.<br><br>В результате работы CRACK.HEM получилось вот такое:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Fixing&nbsp;of&nbsp;<span class="hl_number">1</span>&nbsp;</li><li class="hl_l1">File&nbsp;size&nbsp;<span class="hl_number">492032</span>&nbsp;<span class="hl_char">(</span>0x78200<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1&quot;</span>&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;<span class="hl_quote">&quot;2&quot;</span>&nbsp;</li><li class="hl_l0"><span class="hl_number">1</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004017F9</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">90</span>&nbsp;<span class="hl_number">31</span>&nbsp;<span class="hl_comment">;000019F9: ;L_NAME=&quot;local_label_xor&quot; ;L_COMM=&quot;Local comment - zero eax&quot; </span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">004017FA</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">90</span>&nbsp;C0&nbsp;<span class="hl_comment">;000019FA: </span></li>        </ol>
    </div>
</div></div>
<br><br>Всё вроде чинно и нормально.<br><br>Дальше переключился в режим &quot;Global&quot; и назначил этому же адресу глобальную метку<br>- она записалась ПОВЕРХ и ВМЕСТО заданной ранее &quot;локальной&quot;<br>А перезадать таким же образом глобальный комментарий не получилось вообще - &quot;Error 422&quot;.<br><br>Но главное, что после этого вывод в CRACK.HEM приобрёл вид:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Fixing&nbsp;of&nbsp;<span class="hl_number">1</span>&nbsp;</li><li class="hl_l1">File&nbsp;size&nbsp;<span class="hl_number">492032</span>&nbsp;<span class="hl_char">(</span>0x78200<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1&quot;</span>&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;<span class="hl_quote">&quot;2&quot;</span>&nbsp;</li><li class="hl_l0"><span class="hl_number">1</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004017F9</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">90</span>&nbsp;<span class="hl_number">31</span>&nbsp;<span class="hl_comment">;000019F9: ;L_COMM=&quot;Local comment - zero eax&quot; </span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">004017FA</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">90</span>&nbsp;C0&nbsp;<span class="hl_comment">;000019FA: </span></li>        </ol>
    </div>
</div></div>
<br><br>То есть - <b>глобальная метка вообще не попала в вывод плагина</b>.<br><br>Вот это, собственно, мне тогда и не понравилось.<br>То есть, не только что один адрес может иметь только один комментарий и одно имя (глобально ИЛИ локально),<strike> но и что глобальные имена для адресов в области с локальной адресацией вообще никак не вытащить с помощью плагина. Они ему просто не видны.<br></strike> &lt;&lt;исправлено&gt;&gt;<br><br><b>--Добавлено--</b><br><br>Так. Нашёлся бажек в плагине. Видны будут все имена. Перезаливаю плагин.<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Fixing&nbsp;of&nbsp;<span class="hl_number">1</span>&nbsp;</li><li class="hl_l1">File&nbsp;size&nbsp;<span class="hl_number">492032</span>&nbsp;<span class="hl_char">(</span>0x78200<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1&quot;</span>&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;<span class="hl_quote">&quot;2&quot;</span>&nbsp;</li><li class="hl_l0"><span class="hl_number">1</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004017F9</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">90</span>&nbsp;<span class="hl_number">31</span>&nbsp;<span class="hl_comment">;000019F9: ;L_COMM=&quot;Local comment - zero eax&quot; ;G_NAME=&quot;global_label_xor&quot; </span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">004017FA</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">90</span>&nbsp;C0&nbsp;<span class="hl_comment">;000019FA: </span></li>        </ol>
    </div>
</div></div>
<br><br><b>--Конец добавленного--</b><br><br><br>Это никуда не годится, однозначно. <br><strike>И плагин тут ни при чём. Исключительно фичи HIEW32.<br></strike> &lt;&lt;Добавлено: Исправлен баг в плагине. Всё в порядке &gt;&gt;<br><br><br>Не знаю, как там в новых версиях HEW32 - просто у меня допотопная версия.<br>Может, уже и поправлено.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373278&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=9" class="addthx" data-post="373278"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 12:48 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#10');return false;">#10</a> </span><div align=left><br>
Объясни, зачем давать две разные метки одному и тому же коду? Пока не догнал, зачем это нужно.<br>У Hiew есть API по конверту Local &lt;&gt; Global, если надо из одного в другое преобразовать. Полагаю, что он держит внутри это всё в одной таблице.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373279&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=10" class="addthx" data-post="373279"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 13:06 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#11');return false;">#11</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Объясни, зачем давать две разные метки одному и тому же коду? Пока не догнал, зачем это нужно. <br></I><br>Ну, не нужно, так не нужно, я ж не спорю. <br>Логически такое возможно - например, если в результате корректировки  заголовка PE такие метки одного и того же места &quot;расползутся&quot; по разным адресам.<br><br><strike>Обескуражил  же меня тот факт, который во второй половине приведенного выше эксперимента<br>- что  глобальная метка вообще не попала в вывод плагина.</strike> <br><b>--Добавлено--<br></b>найден баг в плагине. Исправлено.<br><b>--Конец добавленного--</b><br><br><br>Алгоритм в плагине таков:<br>- поток байтов, естественно используется по факту &quot;глобальная&quot; адресация. (curr_offset).<br>Для каждого следующего байта, помимо сравнения с аналогичным в оригинальном файле:<br>- преобразование Global-&gt;Local  ( curr_offset -&gt; curr_offset_local ).<br>- Проверки:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">pName&nbsp;<span class="hl_char">=</span>&nbsp;HiewGate_Names_GetLocal<span class="hl_char">(</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_offset_local&nbsp;<span class="hl_char">,</span><span class="hl_char">&amp;</span>ret_buffer<span class="hl_char">,</span>&nbsp;<span class="hl_number">100</span>&nbsp;<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l0">pName&nbsp;<span class="hl_char">=</span>&nbsp;HiewGate_Names_GetLocalComment<span class="hl_char">(</span>&nbsp;curr_offset_local&nbsp;<span class="hl_char">,</span><span class="hl_char">&amp;</span>ret_buffer<span class="hl_char">,</span>&nbsp;<span class="hl_number">100</span>&nbsp;<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l0">pName&nbsp;<span class="hl_char">=</span>&nbsp;HiewGate_Names_GetGlobal<span class="hl_char">(</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">,</span><span class="hl_char">&amp;</span>ret_buffer<span class="hl_char">,</span>&nbsp;<span class="hl_number">100</span>&nbsp;<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l0">pName&nbsp;<span class="hl_char">=</span>&nbsp;HiewGate_Names_GetGlobalComment<span class="hl_char">(</span>&nbsp;curr_offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">,</span><span class="hl_char">&amp;</span>ret_buffer<span class="hl_char">,</span>&nbsp;<span class="hl_number">100</span>&nbsp;<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li>        </ol>
    </div>
</div></div>
- как только pName не NULL - тут же вывод содержимого буфера в отчёт, снабдив соответствующим тегом (например, &quot;L_NAME=&quot;).<br><br><br><strike><b>--Добавлено--</b><br>.. Хоть бери и, действительно,  утягивай к себе всю базу по именам и дальше работай уже сам с этой копией ..<br>.. Но не факт ещё, что там при получении списков имён нет таких же вот нюансов ..<br><br>В общем, пока более/менее плагин работает, с небольшими странностями, дальше будет видно.<br>Может, он вообще не понадобится, этот плаг. И такое тоже возможно.<br></strike><br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373281&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=11" class="addthx" data-post="373281"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 13:56 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#12');return false;">#12</a> </span><div align=left><br>
<b>dosprog</b><br>Ты упорно стоишь на своём неэффективном (с моей точки зрения, разумеется) решении с проверкой меток для каждого байта.<br><br>А я тебе пытаюсь объяснить неэффективность такого подхода с точки зрения архитектуры самого алгоритма.<br>Но я продолжу пытаться тебя переубедить ))<br><br>Итак, что должно попасть в итоговый файл .crk?<br>(Пункты ТЗ)<br><br>1. Данные об изменённых байтах. Обязательно.<br>2. Метки к изменённым байтам, если есть. Опционально.<br>3. Метки к любым другим данным (не изменённым), если они попадают в определённый диапазон. Опционально.<br><br>Как делаешь ты?<br>Ты пытаешься выполнить сразу все три пункта сразу. На мегабайтных объёмах это крайне неэффективно, поскольку ты гоняешь запросы для каждого (жесть!) байта.<br>Как я уже неоднократно писал, меток в файле обычно меньше, чем байт (десятки, пусть даже сотни меток против тысяч и миллионов байт).<br><br>Как алгоритмически корректнее выстроить логику программы?<br><br>Не пытаться всё сделать за один проход.<br><br>1. Сначала быстро просканировал оба файла блоками по 64КБ, например, нашёл diff&#039;ы (пусть даже пока побайтно, без дельты). Сформировал массив изменённых данных с блоком адресов. Это быстро и компактно. Памяти много не жрёт, особенно если размер блока небольшой. В тех случаях, когда оказываются данные на стыке блоков, можно раздвинуть границы кадра.<br>2. Получаешь от Hiew всю необходимую информацию о метках, комментариях и т.п., собираешь массив данных.<br>3. Вот только теперь за один проход дампишь в файл .crk все найденные данные. При этом если у тебя будет активна опция сохранения вообще всех меток (пункты 2 и 3 ТЗ), то даже проверять ничего не потребуется - просто выводишь их как есть в файл.<br>Если же необходимо фильтровать метки для вывода в файл только тех, которые в непосредственной близости от изменённых данных, то для этого используешь функцию, которая на вход принимает адрес, и если находит его среди меток, то возвращает метку и ближайший адрес, а саму метку удаляет из массива. Таким образом при проходе следующего блока она уже не будет мешаться при поиске.<br>4. Переходишь к следующему блоку.<br><br>Разумеется, тут много нюансов и возможностей оптимизации, но общую мысль ты, надеюсь, уловил.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373282&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=12" class="addthx" data-post="373282"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 14:04 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#13');return false;">#13</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Разумеется, тут много нюансов и возможностей оптимизации, но общую мысль ты, надеюсь, уловил.  <br></I><br>Уловил, да.<br>Об этом и писал выше:<br><br><I>dosprog пишет:<br>Обработка потоковая. Иначе просто море сложностей.<br>Кстати, благодаря этому и кряки могут иметь в результате совершенно безумные размеры, и всё будет работать нормально].<br>Поэтому, по-любому, для каждого из байтов и приходится выполнять поиск в базе имён. [но не наоборот].<br>Хотел сказать, что непринципиально [не так уж и ~], кто и по какой базе выполняет такой поиск<br>- HIEW по своей или плагин по своей [полученной единоразово от HIEW].<br> </I><br>- Так вот такой проход по базе имён для каждого байта всё равно придётся выполнять, на втором проходе, если рассматривать предложенный навороченный алгоритм (пункты 2. и 3.).<br><br><br>Ну, посмотрим.<br><br><strike>А может, если сама идея с таким плагином окажется юсефул, кто-то и возьмётся реализовать навороченный алгоритм.<br>Меня не очень вдохновляют такие усложнения.<br><br>Чисто психологически, возиться с плагинами к чужому софту тяжело, и часто натыкаешься на такое, что обойти просто не в состоянии.</strike><br><br>Надо будет глянуть, по свободе.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373283&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=13" class="addthx" data-post="373283"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 14:19 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#14');return false;">#14</a> </span><div align=left><br>
<I>dosprog пишет:<br>для каждого байта </I><br>Нет, не для каждого. Только для изменённых.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373284&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=14" class="addthx" data-post="373284"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=35473" title="11-03-2017 10:34, ранг:243.6" target="_blank">dosprog</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 14:27 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#15');return false;">#15</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Нет, не для каждого. Только для изменённых.<br> </I><br>.. В принципе, верно, согласен.<br><br>Кстати, и баг отыскал, из-за которого глобальное имя не попадало в отчёт.<br>(перезалью версию в <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=1#27" rel="nofollow" target="_blank">--&gt; посте #27 &lt;--</a></noindex>, для порядку).<br><br>Спасибо за дельные замечания.<br><br><I>Jupiter пишет:<br>Ты упорно стоишь на своём неэффективном (с моей точки зрения, разумеется) решении с проверкой меток для каждого байта.<br> </I><br>.. ну, то, что алгоритм неэффективный, с самого начала и написал.<br>Так что согласен.<br>Вопросы были относительно меры этой неэффективности. <br>Вроде, сейчас ситуация б.м. проясняется.<br><br><I>Jupiter пишет:<br>1. Сначала быстро просканировал оба файла блоками по 64КБ, например, нашёл diff&#039;ы (пусть даже пока побайтно, без дельты). Сформировал массив изменённых данных с блоком адресов. Это быстро и компактно. Памяти много не жрёт, особенно если размер блока небольшой. В тех случаях, когда оказываются данные на стыке блоков, можно раздвинуть границы кадра. </I><br><br>Сканирую блоками по 200h байтов. &quot;На стыках&quot;  проблем быть не может, поскольку размер данных 1 байт.<br>А вот памяти база различий может сожрать немеряно, фактически, в пару раз больше самого размера файла,<br>- Например, если в результате какой-то ошибки пытаются сравнивать файл с ним же самим, сдвинутым на 1 влево/вправо. Тогда вообще программа может завершиться падением или сообщением о нехватке памяти.<br>Как сделано сейчас - просто надуется файл отчёта.<br>Впрочем, это всё надо взвесить, да.<br><br><I>Jupiter пишет:<br>Ты пытаешься выполнить сразу все три пункта сразу. На мегабайтных объёмах это крайне неэффективно, поскольку ты гоняешь запросы для каждого (жесть!) байта. <br></I><br>.. изначально и хотелось уложиться в один проход, пускай и с издержками.<br>Издержки да, могут оказаться велики, на файлах-то по сотне мегабайт..<br><br>Будет что сделать в версии 0.002a.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373286&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=15" class="addthx" data-post="373286"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 15:08 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#16');return false;">#16</a> </span><div align=left><br>
<I>dosprog пишет:<br>база различий может сожрать немеряно</I><br>Не может. Я сразу же в качестве примера привёл размер кадра 64 КБ.<br>Даже если файлы - это белый шум и всегда различаются на 100%, то в таком случае потребление памяти будет только 64 КБ * размер адреса (для 32 бит это 32 бита/4 байта/DWORD), итого 256 КБ в худшем случае, пусть даже 512 КБ..<br>Так или иначе, объём потребляемой памяти измеряется в килобайтах, а никак не &quot;немеряно&quot;.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373288&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=16" class="addthx" data-post="373288"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 15:18 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#17');return false;">#17</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Так или иначе, объём потребляемой памяти измеряется в килобайтах, а никак не &quot;немеряно&quot;.<br> </I><br>Ну, базу-то различий придётся накапливать всё равно в памяти.<br>Потому и написал, что если сравнивать два абсолютно различных файла, например размером 1 Гб,<br>то на базу различий потребуется 1024^3 * (sizeof(__int64)+2) = 10&#039;737&#039;418&#039;240, то есть  10 Гб.<br><br>Связываться с вируальными штучками по &quot;отображению файлов в память&quot; не хочется,<br>обычно стараюсь ориентироваться на доступную оперативную память 64Мб максимум.<br><br>.. Хотя при сравнении таких файлов по 1Гб &quot;с тупым поиском имён&quot; времени уйдёт столько, что можно сделать перерыв и позаниматься чем-то другим. Посмотреть какой-нибудь фильм или сходить по делам ..<br>Да оно и без &quot;тупого поиска имён&quot; будет работать довольно вяло.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373289&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=17" class="addthx" data-post="373289"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 15:28 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#18');return false;">#18</a> </span><div align=left><br>
<I>dosprog пишет:<br>Ну, базу-то различий придётся накапливать всё равно в памяти. </I><br>Нет, не придётся.<br>Обработал блок, если есть различия, то сдампил данные в .crk файл (закрыл файл, открыл заново), перешёл к следующему блоку.<br>Буфер всё тот же. Сравниваемые файлы всё те же. Только смещения меняются. Данные пишутся в конец дампа файла .crk.<br>Перечитай ещё раз то, что я написал ранее в комментарии, где описал <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#12" rel="nofollow" target="_blank">алгоритм</a></noindex>.<br>У меня ощущение, что ты так и не понял, зачем нужно чтение по блокам.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373290&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=18" class="addthx" data-post="373290"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 15:44 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#19');return false;">#19</a> </span><div align=left><br>
Так и надо сделать.<br><br>Тогда и &quot;двух проходов&quot; не потребуется.<br><i class=x>Вернее, их будет по два на каждую порцию.</i><br><br>Вначале создали собственную &quot;базу имён&quot;, потом читаем порции обоих файлов по 10 байтов (пускай по 10, неважно), выводим различие (в память, не в виде просто текста, а в виде &quot;базы текстовых различий&quot; с зарезервированными 4-мя полями под текст для меток/комментарие лок/глоб), дальше по базе имён определяем, попали ли какие-то имена в диапазон считанной порции и если попали, то заполняем в памяти соответствующие поля текста меток/комментариев лок/глоб &quot;базы текстовых различий&quot;, после этого вываливаем текущее содержимое &quot;базы текстовых различий&quot; (игнорируя пустые поля) в виде обычного текста в конец .CRK-файла (его можно не закрывать, зачем?) - и приступаем к следующей порции сравниваемых файлов.<br><br>Должно работать нормально, имхо..<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373292&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=19" class="addthx" data-post="373292"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 16:49 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#20');return false;">#20</a> </span><div align=left><br>
<I>dosprog пишет:<br>его можно не закрывать, зачем? </I><br>Зависит от твоей реализации записи в файл. В общем случае достаточно FlushFileBuffers.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373298&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=20" class="addthx" data-post="373298"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 18:50 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#21');return false;">#21</a> </span><div align=left><br>
Мда.  Такие наблюдения по работе плагина CRACK.HEM:<br><br>1)<br>При &quot;тупом алгоритме поиска имён&quot; файлы размером 140Мб сравниваются примерно 1 минуту. (2.4 GHz CPU) <br>[при том, что файлы свежие, поэтому закэшированы].<br>Если отказаться от поиска имён (CRK без меток и комментариев), то сравнение этих же файлов длится 10 секунд <br>[это если файлы в кэше. При чтении &quot;с нуля&quot; раза в три дольше].<br>Это нереально долго.<br>Эти же файлы сравниваются утилитой cmp32.exe в течение буквально долей секунды (против 10 секунд работы плагина).<br><br>Придётся констатировать, что для гигантских файлов идея с плагином-сравнивальщиком оказалась пагубной.<br>Пагубной - Если он использует для работы с адресами встроенные API-функции HIEW32.<br>Таким образом, пожалуй, целесообразней всего не полагаться на API HIEW, <br>а получить из него список имён и дальше работать <b>совершенно автономно</b>.<br>Это сильно, на порядок, усложняет задачу.<br><br>2) <br>Если вывести &quot;Прогресс&quot; с помощью отображения ччч_WaitMessageOpen(progress_string) на каждой <br>порции сравнения по 200h байтов, то работа плагина тормозится настолько, что можно считать его повисшим. <br>Хотя по этому &quot;Прогрессу&quot; будет видно, что он не висит, а всёже работает. <br>(Пришлось прервать сравнение кнопкой ESC).<br>Таким образом, вывод -  ччч_WaitMessageOpen(progress_string) - крайне медленная функция и использовать её нужно пореже.<br><br>3)<br>Но зато теперь более/менее стало ясно, в каком направлении развивать эту идею с плагином сравнения.<br>Если не пропадёт желание.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373307&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=21" class="addthx" data-post="373307"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2017 22:44 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#22');return false;">#22</a> </span><div align=left><br>
<b>dosprog</b><br>Я подразумеваю, что всё, что нужно от Hiew - это получение имён файлов и меток.<br>Вся остальная работа выполняется своими силами.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373314&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=22" class="addthx" data-post="373314"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 марта 2017 10:08 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#23');return false;">#23</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Я подразумеваю, что всё, что нужно от Hiew - это получение имён файлов и меток.<br>Вся остальная работа выполняется своими силами.  <br></I><br>Ну, для меня это стало очевидно только после того, как повозился с этим компаратором.<br>Просто никогда не пользовался в HIEW комментированием и назначением меток,<br>и никогда не возился с HEM&#039;ами. <br>Так что для меня эта тема абсолютно новая, может, и полезно было.<br>Впрочем, где-то так и предполагал, в смысле эффективности, что оно и будет.<br><br>У меня даже мелькнула идейка сделать в CRACK.HEM просто вывод &quot;списка имён&quot; в заголовке CRK (result.CRK),<br>а дальше вызвать из него SHELL &quot;cmp32 /a&quot; &gt;&gt; result.CRK - оно бы работало нормально, но такие половинчатые решения мне не нравятся.<br><br>.. хотя бы потому, что и cmp32 и CRACKER умеют работать только с x32 PE, а есть ещё и x64 PE, и ELF и что там ещё HIEW поддерживает ..<br>Комплексного и целостного решения у меня не выйдет, должен признать.<br><br><b>--Добавлено--</b><br>Конкретно вот эта задача, имхо, требует даже реализации на asm&#039;е, <br>в виде инлайна в Си или раздельной компиляции. <br>А может, проще даже и целиком на asm&#039;е.<br>Имхо.<br><br>.. Глядя, как вяло работает в самом HIEW тот же поиск байтов ..<br><br><br><I>Jupiter пишет:<br>ЛС открыты и доступны<br> </I><br>Ок. Написал ЛС.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373333&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=23" class="addthx" data-post="373333"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 марта 2017 10:14 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#24');return false;">#24</a> </span><div align=left><br>
<I>dosprog пишет:<br>но у тебя же личка закрыта</I><br>ЛС открыты и доступны
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=373334&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=24" class="addthx" data-post="373334"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 марта 2017 12:38 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#25');return false;">#25</a> </span><div align=left><br>
Почитал документацию по HEM - выходит парадоксальная вещь.<br><br>В HEM-API отсутствует возможность для получения собственного &quot;Списка Имён&quot;.<br>Найти в базе имён HIEW <b>заданное</b> имя - пожалуйста.<br>Но проба наугад с поиском имени &quot;*&quot; ни к чему не привела.<br><br>Функции  типа ччч_NameFindFirs &amp; ччч_NameFindNext  отсутствуют.<br><br>То есть HEM-API позволяет только запросить <b>общее количество</b> имён <br>и получить имена <b>только для конкретного адреса лок/глоб</b>.<br>Для <b>заранее известного</b> имени  также можно получить его адрес.<br>И это всё.<br><br>.. Отсутствие функций ччч_NameFindFirs &amp; ччч_NameFindNext выглядит как явная логическая дыра. ...<br><br>Если так и есть, то затею с &quot;навороченным поиском имён&quot; реализовать не удастся.<br>А существующий алгоритм &quot;тупого поиска имён&quot;, выходит, единственно возможный.<br><br>..Непринципиальная оптимизация может заключаться в том, что, заранее зная количество имён и по мере работы &quot;тупого алгоритма&quot; выведя это количество в отчёт, дальнейшие проверки для каждого адреса можно не проводить. Если имена объявлены только в начале гигантского файла, то такое решение сильно ускорит работу плагина. В противном случае эффект будет никакой.<br><br><br><b>--Добавлено--</b><br><br><b>Малость соптимизировал уже существующую версию CRACK.HEM</b><br><br>Перезалил - <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=1#27" rel="nofollow" target="_blank"><b>--&gt; ссылка в посте #27 стр.2 &lt;--</b></a></noindex>.<br><br>(Увеличен буфер файла и добавлена подстановка умолчательного имени файла отчёта.<br>Работает быстрее, но при выборе опции &quot;Искать Имена&quot; <b>может</b> работать <b>и</b> почти так же вяло, как и раньше.<br>Однако этот процесс немного оптимизирован, как написано выше.<br>Впрочем, если в HIEW никакие имена не объявлялись, тогда плагин работает сравнительно шустро<br>и никакие дополнительные запросы касательно проверок имён не выводятся).<br><br>Файл размером ~50Мб c объявленными именами в его младших адресах сравнивается в течение ~1 секунды <br>(..Хотя это всё равно сильно зависит от состояния кэшированности файла..).<br>Этим уже более/менее можно пользоваться.<br><br><br><br><b>-- Добавлено2--</b><br><br>Раз уж пошёл такой ц<i class=x>ы</i>рк с HEM&#039;ами, - пришлось запилить, для тренировки, ещё пару-тройку полезных плагинов.<br>Ссылка  - в теме про <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=5147&amp;page=6#22" rel="nofollow" target="_blank"><b>--&gt; Hiew &lt;--</b></a></noindex> <br><br><b>PE_RWE.HEM</b> - плагин, устанавливающий атрибуты всех секций PE-файла в [r/w/e]. <br>Там же ссылка на <b>BLOCK.HEM</b> (операции XOR,ADD,SUB блока со строкой или файлом)<br>Там же ссылка на <b>BL_MD5.HEM</b> (подсчёт MD5 суммы выделенного блока)<br>Там же  ссылка на <b>PE_TAILS.HEM </b> - убрать &quot;хвосты&quot; всех секций PE. Устанавлиывает VirtSize&gt;=PhisSize для всех секций. <br>Там же  ссылка на <b>PE_HINTS.HEM </b> - настройка хинтов импорта PE-файла. (<noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=24033" rel="nofollow" target="_blank">--&gt; Original idea by FalseMaster &lt;--</a></noindex>)<br>Там же  ссылка на <b>KBD_CYR.HEM </b> - Русификация ввода в HIEW32, шесть раскладок клавиатуры. <br><br><br><br><br><br><br><br><br><b>--Добавлено--</b><br>По крякеру: если бы кто-то написал, что хорошо бы сделать необязательным <br>пробел после двоеточия адреса в кряк-файле, то это было бы встречено с пониманием. <br><br>Как оно сейчас:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Патч</li><li class="hl_l1">Прога<span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">0401234</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">75</span>&nbsp;EB</li>        </ol>
    </div>
</div></div>
<br>Чтоб можно было и так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Патч</li><li class="hl_l1">Прога<span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">0401234</span><span class="hl_char">:</span><span class="hl_number">75</span>&nbsp;EB</li>        </ol>
    </div>
</div></div>
<br><br>Но <br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=373492&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=25" class="addthx" data-post="373492"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=3230" title="15-03-2017 11:09, ранг:166.5" target="_blank">Bronco</a>, <a href="action=userinfo&user=4109" title="17-03-2017 15:26, ранг:3.2" target="_blank">MarcElBichon</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 ноября 2017 02:22 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#26');return false;">#26</a> </span><div align=left><br>
Minor fix/add to CRACKER.EXE:<br><br>То, о чём было в предыдущем посте.<br>Добавлена корректная обработка случая, когда в описании патча следом за двоеточием адреса сразу без пробела следует оригинальный hex-байт для патчения. Такое отсутствие пробела случается, если файл составляется вручную. Раньше выдавалось невнятное сообщение об ошибке в строке.<br><br>Теперь в кряке не обязательно наличие пробела после двоеточия адреса.<br>Можно и так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Патч</li><li class="hl_l1">Прога<span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">0401234</span><span class="hl_char">:</span><span class="hl_number">75</span>&nbsp;EB</li>        </ol>
    </div>
</div></div>
и так:
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Патч</li><li class="hl_l1">Прога<span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">0401234</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">75</span>&nbsp;EB</li>        </ol>
    </div>
</div></div>
<br><br>Перезалит архив в стартпосте: CRACKER v.0.002a (30 Nov 2017).
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380551&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=26" class="addthx" data-post="380551"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 декабря 2017 15:07 <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#27');return false;">#27</a> </span><div align=left><br>
Слыхал мнение, что в CRACKER неплохо бы ввести возможность поиска с заменой.<br>Но, имхо, это лишнее. <br>Во-первых, такая процедура будет довольно [сравнительно] длительной, особенно для больших файлов,<br>а во-вторых она необратимая, то есть, если пропатчить файл с поиском и заменой, то, чаще всего, обратная операция приведёт к полной порче файла, и концы потом не найдёшь.<br>В функционале CRACKER&#039;а и так уже есть необратимая функция PATCH_FORCE, когда по определённому адресу прописываются нужные байты вне зависимости от текущего их содержимого. <br>Не хотелось бы добавлять в функционал сомнительные операции. <br>В общем, для поиска с заменой лучше использовать HIEW.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380832&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=27" class="addthx" data-post="380832"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 декабря 2017 18:51 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#28');return false;">#28</a> </span><div align=left><br>
<I>dosprog пишет: а во-вторых она необратимая, то есть, если пропатчить файл с поиском и заменой, то, чаще всего, обратная операция приведёт к полной порче файла, и концы потом не найдёшь. </I><br><br>Решается элементарно с помощью fuzzy hashing и созданием лога отката, сигнатура замены old:new и hash блоков в которые происходила замена, работает быстро и лагов не будет даже бинарях за сотню мегабайт.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380842&amp;user=41575&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=28" class="addthx" data-post="380842"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]TryAga1n[/b]','')">TryAga1n</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 262.5 (наставник), 337thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.45'>Активность: 0.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=31275">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 декабря 2017 21:04 <br><script type="text/javascript">QU('TryAga1n','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TryAga1n" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#29');return false;">#29</a> </span><div align=left><br>
<I>dosprog пишет:<br>сомнительные операции. </I><br>А в чем сомнительность? Search and Replace практически во всех патчерах есть и активно используется против всяких &quot;шаблонных&quot; защит
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380845&amp;user=31275&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=29" class="addthx" data-post="380845"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 декабря 2017 01:14 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#30');return false;">#30</a> </span><div align=left><br>
<I>TryAga1n пишет:<br>А в чем сомнительность?  </I><br><br>Необратимость, это раз.<br>А во-вторых, классический формат кряк-файла не позволяет такое делать,<br>CRK это довольно примитивная штука на самом деле.<br>Соответственно и CRACKER тоже, - прост, как велосипед.<br><br>.. вот что действительно было бы нужно - <br>так это возможность дописать n-ное количество байтов к файлу,<br>чтобы потом в тех байтах с помощью CRK прописывать всякие чудеса.<br>Это да. И такое, кстати, вполне даже обратимо.<br><br>-------------------------------------------------------------------------------<br>Логика такая:<br>- <b>если</b> желаемый адрес лежит за концом файла, <b>то</b><br>- - <b>если</b> желаемый адрес совпадает с концом файла, <b>то</b><br>- - добавить указанное число байтов в файл;<br>- - <b>иначе</b> добавить в файл байтов до указанного адреса и следом добавить указанное число байтов.<br>- <b>иначе </b><br>- <b>если</b> по желаемому адресу уже есть заданное количество байтов, <b>то</b><br>- ничего не делать<br>- <b>иначе</b> ошибка [или, как вариант, - добавить в конец файла байтов до желаемого их числа]<br><br>И тут же при использовании VA/RVA адресации для PE начинается сплошной мрак и ужос.<br>-------------------------------------------------------------------------------<br><br><br>Сейчас, если для последующего кряка в файле нужно наличие дополнительных байтов, <br>то описываю это в виде комментариев в словесной форме, перед очередным кряком, <br>для которого нужны те дополнительные байты.<br>Если рекомендация из комментария по добавлению байтов в файл выполнена не будет, <br>тогда такой кряк просто не сработает - будет выдана ошибка, что не найден адрес для патчения.  <br><br><br><I>TryAga1n пишет:<br>против всяких &quot;шаблонных&quot; защит<br> </I><br>Для таких вещей есть хоть бы тот же GSAR, если лень вручную в HIEW ковыряться.<br>[ведь фрагменты для S&amp;R могут быть, и даже должны быть,  довольно приличного размера]<br><br>Назначение CRACKER&#039;а скорее не в снятии защит, а в протоколировании правок, по возможности обратимых.<br><br>Если на каком-то этапе нужно выполнить S&amp;R, тогда можно в кряк-файле в виде комментария <br>указать нужную процедуру поиска и замены. И выполнить её с помощью сторонней утилиты.<br><br>.. может, надо добавить CRK-директиву #EXEC, - вызов shell&#039;а с запуском сторонней какой утилиты, с параметрами ..<br>Но этого не хотелось бы<br><br><br><I>shellstorm пишет:<br>Решается элементарно с помощью fuzzy hashing и созданием лога отката, сигнатура замены old:new и hash блоков в которые происходила замена, работает быстро и лагов не будет даже бинарях за сотню мегабайт.<br> </I><br>)) Ну ты прям генератор <strike>охуитительных </strike>всяких идей какой-то.<br><br>Вон будет следующий турнир по крякерскому софту, предлагаю запелить замену крякеру, элементарно.<br>И чтобы там было всё как надо, по-взрослому.<br><br>Взгляну с нескрываемым интересом.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380848&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=30" class="addthx" data-post="380848"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="31" onfocus="this.blur()" href="JavaScript:di('[b]plutos[/b]','')">plutos</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/4773.png" alt=""><br><span class=txtSm>Ранг: 622.6 (<b>!</b>), 521thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.16'>Активность: 0.33<span style='color:green'>&nearr;</span>0.89</span><br>Статус: <a href="action=userinfo&amp;user=4773">Участник</a><br><font color=blue>_Вечный_Студент_</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 декабря 2017 02:59 <br><script type="text/javascript">QU('plutos','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=plutos" target="_blank">Личное сообщение</a> &middot;  <a href="#31" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=2#31');return false;">#31</a> </span><div align=left><br>
<I>dosprog пишет:<br>Для таких вещей есть хоть бы тот же GSAR </I><br><br>Просто хочу убедиться, что правильно понял:<br>Вы имеете ввиду <br>gsar (General Search And Replace) is a utility for searching for and --- optionally --- replacing strings in both text and binary files?
<br><br><font size="1"><i>-----<br>Give me a HANDLE and I will move the Earth.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380849&amp;user=4773&amp;forum_n=3&amp;topic=23834&amp;page=2&amp;anchor=31" class="addthx" data-post="380849"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=0.html">1</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">2</a> . <b>3</b> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=3.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/default.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=3&sortBy=0&page=0.html"><b>Софт, инструменты</b></a> <b class=bulletHead>&#8212;&#8250;</b> CRACKER. Реализация для WIN32. GUI.</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#32" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="3">
<input type="hidden" name="topic" value="23834">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=23834" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
