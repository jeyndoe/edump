<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Вставка ассемблерного кода в delphi - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Привет парни Есть прога &quot;Нормы времени&quot; производитель [url=http://www.autodealer.ru ]http://www.autodealer.ru [/url] В ней присутствует Б.Д. В базе шифрованные данные (поле WORKS). Вот эти данные я и пытаюсь вытащить.">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=39467'>hgdagon</a>, <a target='_blank' href='?action=userinfo&amp;user=28016'>asfa</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Вставка ассемблерного кода в delphi</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=6&amp;topic=8587&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=6&amp;topic=8587&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 12:38 &middot; Поправил: crc1 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Привет парни<br>Есть прога &quot;Нормы времени&quot;  производитель [url=http://www.autodealer.ru<br>]http://www.autodealer.ru<br>[/url]<br>В ней присутствует Б.Д.<br>В базе шифрованные данные (поле WORKS). Вот эти данные я и пытаюсь вытащить.<br>Что я сделал:<br>   1. Отмал  прогу от starforce<br>   2. Разобрал алгоритм шифрования<br>   3. Написал на ассемблере процедуру расшифровки<br>Все замечательно. НО, мне хочется перетащить эти шифр. данные в свою таблицу. НО, там более 20000 записей и в ручную их перепихивать геморно, поэтому прошу помощи:  нужно внедрить asm вставку в delphi с обработкой всех строк и записью расшифрованного поля WORKS в другое поле<br>ЗЫ Пытался сделать это сам, но башка уже не варит:s14<br>ЗЗЫ: Всевопросы по снятию starforce в ПМ Здесь не флудить
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133837&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=1" class="addthx" data-post="133837"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Player[/b]','')">Player</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2685">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:04 <br><script type="text/javascript">QU('Player','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Player" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
asm<br>// Ассемблерный код<br>end;<br>Если я правильно понял, вроде так, внутри можно обращаться к переменным (mov, EAX, var1).
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133845&amp;user=2685&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=2" class="addthx" data-post="133845"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:09 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>Player</b><br>Ежили было так все просто я б не спрашивал
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133848&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=3" class="addthx" data-post="133848"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]lord_Phoenix[/b]','')">lord_Phoenix</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1858.gif" alt=""><br><span class=txtSm>Ранг: 353.0 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.14'>Активность: 0.37<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1858">Участник</a><br><font color=blue>resreveR</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:16 <br><script type="text/javascript">QU('lord_Phoenix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=lord_Phoenix" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>crc1 пишет:<br>Все замечательно. НО, мне хочется перетащить эти шифр. данные в свою таблицу. НО, там более 20000 записей и в ручную их перепихивать геморно, поэтому прошу помощи: нужно внедрить asm вставку в delphi с обработкой всех строк и записью расшифрованного поля WORKS в другое поле  </I><br>Вырежи расшифровщик и напиши свою прогу, которая достанет записи, расшифрует и запишет в твою таблицу
<br><br><font size="1"><i>-----<br>Тут не могла быть ваша реклама</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133849&amp;user=1858&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=4" class="addthx" data-post="133849"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]tomac[/b]','')">tomac</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 65.3 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.82'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6470">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:21 <br><script type="text/javascript">QU('tomac','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tomac" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Ну так спрашивай что конкретно не получается, а то не понятно что надо. ИМХО Player ответил на вопрос.<br>Максимум могу добавить что возможно имеет смысл написать на асме DLL с расшифровкой
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133853&amp;user=6470&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=5" class="addthx" data-post="133853"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:45 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>lord_Phoenix пишет:<br>Вырежи расшифровщик и напиши свою прогу, которая достанет записи, расшифрует и запишет в твою таблицу </I><br>Мля, дык расшифвщик то еть (asm и он работает), нуна его внедрить в длфя, организоавать цикл ну и т.д.<br>Вот это я и прошу
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133857&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=6" class="addthx" data-post="133857"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]ValdiS[/b]','')">ValdiS</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1263.gif" alt=""><br><span class=txtSm>Ранг: 420.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.42'>Активность: 0.24<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1263">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:54 <br><script type="text/javascript">QU('ValdiS','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ValdiS" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>crc1</b><br>Может реально собрать библиотеку, экспортировать эту функцию в ней, подключить библиотеку. И не мучаться. <img src="img/smilies/s11.gif" alt=""><br><br>ЗЫ Что у тебя на входе процедуры, что на выходе?
<br><br><font size="1"><i>-----<br>Сколько ни наталкивали на мысль – все равно сумел увернуться</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133861&amp;user=1263&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=7" class="addthx" data-post="133861"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:55 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>tomac</b><br>Непонятно следующее<br>я объявляю строковую переменную,  далее пишу asm код  <br><br>var txtcr: AnsiString;<br>asm<br>MOV ESI, txtPnt<br>ля-ля-ля<br>MOV BYTE PTR DS:[ESI], AL   ; вот в этом месте получаю аксес виолант<br>Почему то  адрес переменной оказывается в секции code и я в ауте<img src="img/smilies/s14.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133862&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=8" class="addthx" data-post="133862"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Icelot[/b]','')">Icelot</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/10492.jpg" alt=""><br><span class=txtSm>Ранг: 85.4 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.33'>Активность: 0.08<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10492">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 13:56 &middot; Поправил: Icelot <br><script type="text/javascript">QU('Icelot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Icelot" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>crc1</b> поправь если не так:<br>1. взять шифрованное значение из таблицы<br>2. расшифровать<br>3. записать в свою таблицу<br><br>ADD:<br>помоему надо так mov ESI,[some var]<br>или lea ESI
<br><br><font size="1"><i>-----<br> radio uno in ibisa ...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133863&amp;user=10492&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=9" class="addthx" data-post="133863"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:00 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>ValdiS</b><br>На входе строка типа:<br>F9EDB0F53BD450B753F906D72597E1258EAC674281A7C9339E3125723BD556447BA074 C61C32E430C019EE4B644FC1A34782286E5A781B9CDC0267B546AF<br>на выходе должна быть такая строка:<br>Боковой повторитель указателя поворота на переднем крыле - с/у<br>Все это работает, но 20000 сток, руками<img src="img/smilies/s16.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133865&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=10" class="addthx" data-post="133865"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]ValdiS[/b]','')">ValdiS</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1263.gif" alt=""><br><span class=txtSm>Ранг: 420.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.42'>Активность: 0.24<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1263">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:09 <br><script type="text/javascript">QU('ValdiS','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ValdiS" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<I>crc1 пишет:<br>var txtcr: AnsiString; <br>asm <br>MOV ESI, txtPnt <br>ля-ля-ля <br>MOV BYTE PTR DS:[ESI], AL ; вот в этом месте получаю аксес виолант  </I><br>Проверяй стек, может не выравниваешь после работы процедуры. В начале/конце поставь pushad/popad, чтобы с регистрами косяков не было.<br>После компиляции проекта загружай полученный файл в ольку и смотри, что куда... Насколько изменится твой код после компиляции.
<br><br><font size="1"><i>-----<br>Сколько ни наталкивали на мысль – все равно сумел увернуться</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133869&amp;user=1263&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=11" class="addthx" data-post="133869"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Player[/b]','')">Player</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2685">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:18 <br><script type="text/javascript">QU('Player','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Player" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>crc1 пишет:<br>var txtcr: AnsiString;<br>asm<br>MOV ESI, txtPnt<br>ля-ля-ля<br>MOV BYTE PTR DS:[ESI], AL ; </I><br><br>Ну другое же дело, так гораздо ясней. AnsiString, как и String содержит адрес указателя на данные, поэтому надо<br>mov eax, txtPnt<br>mov esi, [eax]<br> и понеслась<br>P.S. Длина строки будет в [eax - 4]
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133873&amp;user=2685&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=12" class="addthx" data-post="133873"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:19 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Мужики<br>Мне нужна конкретная помощь<br>У меня есть (не воровал, сам распатронил) готовый алгоритм написанный на asme. на ЯВУ перекинуть не получается, нету времени Нужно срочно сваять файло, который линкуется к Б.Д. (dbf; mdb я ее конвертнул)считывает из поля зашифрованныый стринг передает в мою asm вставку и в соседнее поле пишет расшифровку
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133874&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=13" class="addthx" data-post="133874"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:39 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<I>Player пишет:<br>mov eax, txtPnt <br>mov esi, [eax] <br>и понеслась </I><br>Не понял. куда понеслось???<br>У меня в ESI дожен быть указатель на строку, а ты предлагаешь передать в ESI первые байты строки
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133879&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=14" class="addthx" data-post="133879"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Vedrus[/b]','')">Vedrus</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 60.4 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3318">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:44 <br><script type="text/javascript">QU('Vedrus','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vedrus" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>crc1</b>, тебе <b>ValdiS</b> реальную штуку предложил. Оформи свой алгоритм в виде функции, сгороди DLL-библиотеку и юзай её из любого языка. Если надо поищу доку, как DLL&#039;ки на асме городить.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133882&amp;user=3318&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=15" class="addthx" data-post="133882"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 14:56 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>Vedrus</b><br>Да сгородил я dll на асме  и она работает с моим exe&#039;шником. Но я не умею  на асме линковаться к Б.Д.<br>З.Ы.  Исходники могу выложить<br><b> Ребята, прошу только конкретной помощи</b><br>Хотя бы ответте на вопрос<br><I>crc1 пишет:<br>Почему то адрес переменной оказывается в секции code </I><br>ПОЧЕМУ???????????????
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133883&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=16" class="addthx" data-post="133883"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Icelot[/b]','')">Icelot</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/10492.jpg" alt=""><br><span class=txtSm>Ранг: 85.4 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.33'>Активность: 0.08<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10492">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:00 <br><script type="text/javascript">QU('Icelot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Icelot" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<I>crc1 пишет:<br>ПОЧЕМУ </I><br>Загрузи в Ольку да посмотри почему. Бряк на память или потрейсь. А в esi надо указатель на первый байт загружать.
<br><br><font size="1"><i>-----<br> radio uno in ibisa ...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133885&amp;user=10492&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=17" class="addthx" data-post="133885"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]SLV[/b]','')">SLV</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 309.8 (мудрец), 21thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.69'>Активность: 0.17<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=663">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:00 <br><script type="text/javascript">QU('SLV','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SLV" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
&gt; P.S. Длина строки будет в [eax - 4]<br>или в [eax-1] если строка задана String[X] <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>Shalom ebanats!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133886&amp;user=663&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=18" class="addthx" data-post="133886"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Rush[/b]','')">Rush</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 75.0 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.12'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1913">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:11 <br><script type="text/javascript">QU('Rush','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Rush" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<I>crc1 пишет:<br>tomac <br>Непонятно следующее <br>я объявляю строковую переменную, далее пишу asm код <br><br>var txtcr: AnsiString; <br>asm <br>MOV ESI, txtPnt <br>ля-ля-ля <br>MOV BYTE PTR DS:[ESI], AL ; вот в этом месте получаю аксес виолант <br>Почему то адрес переменной оказывается в секции code и я в ауте </I><br><br>Мля, AnsiString - это КЛАСС, вот именно поэтому адрес получается в секции кода.<br>ИМХО, надо txtPnt.c_str() - это на с++ (не помню какой у дельфы синтаксис)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133888&amp;user=1913&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=19" class="addthx" data-post="133888"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]SLV[/b]','')">SLV</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 309.8 (мудрец), 21thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.69'>Активность: 0.17<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=663">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:15 <br><script type="text/javascript">QU('SLV','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SLV" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
&gt; AnsiString - это КЛАСС<br>гг... докажи.. покажи код создания экземпляра и деструкции.. так же методы, свойства... на дельфи...
<br><br><font size="1"><i>-----<br>Shalom ebanats!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133889&amp;user=663&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=20" class="addthx" data-post="133889"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Vedrus[/b]','')">Vedrus</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 60.4 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3318">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:17 &middot; Поправил: Vedrus <br><script type="text/javascript">QU('Vedrus','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vedrus" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<I>crc1 пишет:<br>Но я не умею на асме линковаться к Б.Д. </I><br>Я тоже (но по этой фигне у меня тоже доки есть, но это <img src="img/smilies/s16.gif" alt=""> ). Так можно же подцепиться к базе из Delphi, а обработать всё через асмовскую функцию которая в DLL, или я не прав? Разбираться в коде если честно не охото.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133890&amp;user=3318&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=21" class="addthx" data-post="133890"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:27 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<I>Rush пишет:<br>Мля, AnsiString - это КЛАСС </I><br>Да я разные типы прсваивал переменной , эфект - читай выше<br>Ребята, я конечно решу эту проблему, но <b>нужно срочно</b>. Может пойти на другой форум?<br>Дело в том, что бы добыть эту Б.Д. я раковырял StarForce, отломал exe&#039;шник, нашел алго, реализовал его на асме и попал в ступор остался один шаг....
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133894&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=22" class="addthx" data-post="133894"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:29 &middot; Поправил: crc1 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<I>Vedrus пишет:<br>Разбираться в коде если честно не охото. </I><br>А кто просит разбираться в коде? Все разобрано. Нужно: читай выше
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133895&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=23" class="addthx" data-post="133895"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:39 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<I>ValdiS пишет:<br>Проверяй стек, может не выравниваешь после работы процедуры. В начале/конце поставь pushad/popad, чтобы с регистрами косяков не было. <br>После компиляции проекта загружай полученный файл в ольку и смотри, что куда... Насколько изменится твой код после компиляции. </I><br>Валис, почитай внимательно мои сообщения, стек тут не причем. Под OllyDbg я смотрел, все работает до MOV BYTE PTR DS:[ESI], AL     В ESI указатель на мою строку, НО дело в том, что он находится в секции кода <br>Я начинаю стучатся абпол<img src="img/smilies/s9.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133898&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=24" class="addthx" data-post="133898"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]Hellspawn[/b]','')">Hellspawn</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/72.gif" alt=""><br><span class=txtSm>Ранг: 990.2 <font color=red>(<b>! ! !</b>)</font>, 380thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.95'>Активность: 0.68<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=72">Модератор</a><br><font color=blue>Author of DiE</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:40 &middot; Поправил: Hellspawn <br><script type="text/javascript">QU('Hellspawn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hellspawn" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
я бы лучше посоветовал делать так<br><br><code>var<br>  sTmp:string[255];<br>begin<br>  zeromemory(@sTmp,255);<br>  asm<br>    lea eax,sTmp<br>    бла бла<br>  end;<br>end;</code><br><br>ну и конечно взять код в рамки - pushad/popad
<br><br><font size="1"><i>-----<br>[nice coder and reverser]</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133899&amp;user=72&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=25" class="addthx" data-post="133899"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:44 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<I>Hellspawn пишет:<br>var <br>sTmp:string[255]; </I><br>Делал и так. Все равно строка лежит в секции кода И я получаю акццес виолант<br>Может у меня Delphi 7 глючит при компиляции
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133900&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=26" class="addthx" data-post="133900"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]Player[/b]','')">Player</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2685">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 15:44 <br><script type="text/javascript">QU('Player','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Player" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
<I>crc1 пишет:<br>Не понял. куда понеслось???  </I><br>Извини сам себя перехитрил.<br>Только, что проверил следующее<br>var<br>   Str:     AnsiString;<br>begin<br>   Str := &#039;bla-bla&#039;;<br>   asm<br>      mov eax, Str;<br>      mov byte ptr DS:[eax], &#039;c&#039;;<br>   end;<br>end;<br><br>Всё работает как надо. Ключевой момент - это то, что пока строке ничего не присвоено, её несуществует и надо обязательно выделять память под неё перед использованием.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133901&amp;user=2685&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=27" class="addthx" data-post="133901"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 16:17 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
<I>Player пишет:<br>надо обязательно выделять память под неё перед использованием. </I><br>Как её выделить?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=133906&amp;user=423&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=28" class="addthx" data-post="133906"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]SaNX[/b]','')">SaNX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 456.3 (мудрец), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.03'>Активность: 0.28<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=2108">Участник</a><br><font color=blue>Android Reverser</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 16:26 <br><script type="text/javascript">QU('SaNX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SaNX" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
<b>crc1</b><br>но пример вот так:<br><I>Player пишет:<br>Str := &#039;bla-bla&#039;; </I>
<br><br><font size="1"><i>-----<br>SaNX</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133907&amp;user=2108&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=29" class="addthx" data-post="133907"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]Icelot[/b]','')">Icelot</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/10492.jpg" alt=""><br><span class=txtSm>Ранг: 85.4 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.33'>Активность: 0.08<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10492">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 апреля 2007 16:36 <br><script type="text/javascript">QU('Icelot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Icelot" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=8587&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
Она и будет в секции кода. Это же локальная переменная. Надо размер задать для ней и всё. <b>Hellspawn</b> вроде правильно показал, как под локаль выделить 255 байт. Тоже скомпилировал - всё работает..
<br><br><font size="1"><i>-----<br> radio uno in ibisa ...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=133909&amp;user=10492&amp;forum_n=6&amp;topic=8587&amp;page=0&amp;anchor=30" class="addthx" data-post="133909"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=6&amp;topic=8587&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=6&amp;topic=8587&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Вставка ассемблерного кода в delphi</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=8587" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
