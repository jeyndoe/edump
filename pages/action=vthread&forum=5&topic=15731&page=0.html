<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>генерация PE - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Уважаемые Знатоки!!! Прошу вашей помощи после 2 дней &quot;выходных дей &quot; потраченых на поиски ошибки в программе... простенькая программка которая выполняет генерацию PE файла простенькой программы .net типо hello world .">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=28016'>asfa</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> генерация PE</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 03:45 &middot; Поправил: alexeyshevchenko <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Уважаемые Знатоки!!! Прошу вашей помощи после 2  дней &quot;выходных дей <img src="img/smilies/s9.gif" alt="">&quot; потраченых на поиски ошибки в программе...<br>простенькая программка которая выполняет генерацию PE файла простенькой программы .net типо hello world .  пример переписан с учебника <br>из-за отсутствия опыта в таких делах  не могу понять почему при запуске pe вылазит сообщение &quot;Ошибка запуске приложения 0xc000007b&quot;  - программа <br>переписана 1 в 1 из учебника, и вроде бы логически всё сходится! Заранее спасибо!<img src="img/smilies/s14.gif" alt=""> <img src="img/smilies/s14.gif" alt=""> <img src="img/smilies/s14.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250461&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=1" class="addthx" data-post="250461"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]MasterSoft[/b]','')">MasterSoft</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 281.8 (наставник), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.16'>Активность: 0.25<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=16624">Участник</a><br><font color=blue>Destroyer of protectors</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 06:59 <br><script type="text/javascript">QU('MasterSoft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=MasterSoft" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<b>alexeyshevchenko</b><br>Где инфа? Кроме жалоб на свою тяжкую судьбу и не ничё <img src="img/smilies/s1.gif" alt=""><br>какая книжка? какая прога? где ссылки?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250468&amp;user=16624&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=2" class="addthx" data-post="250468"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 16:12 <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
проект на VS2008 c++<br><br><img src="img/attach.gif" alt=""> <a href="./files/9483_01.02.2010_CRACKLAB.rU.tgz">9483_01.02.2010_CRACKLAB.rU.tgz</a> - pegen.rar
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250492&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=3" class="addthx" data-post="250492"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Coderess[/b]','')">Coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 18:25 <br><script type="text/javascript">QU('Coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<i class=x>пример переписан с учебника</i><br><br>Какой учебник?
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=250501&amp;user=16383&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=4" class="addthx" data-post="250501"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 19:00 &middot; Поправил: alexeyshevchenko <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
ОСНОВЫ ИНФОРМАТИКИ И МАТЕМАТИКИ<br>Серия издается совместно<br>МОСКОВСКИМ ГОСУДАРСТВЕННЫМ УНИВЕРСИТЕТОМ<br>имени М.В. Ломоносова<br>и<br>Интернет-Университетом<br>Информационных Технологий<br>при поддержке корпорации<br>Microsoft<br><br><noindex><a href="http://window.edu.ru/window_catalog/pdf2txt?p_id=30776&amp;p_page=1" rel="nofollow" target="_blank">http://window.edu.ru/window_catalog/pdf2txt?p_id=30776&amp;p_page=1</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250503&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=5" class="addthx" data-post="250503"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 20:08 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
www.troitsk.org/?t=34888&amp;goto=last<br><br><i class=x> вылетает ошибка 0xc000007b ,</i><br><i class=x>может быть вызвана отсутствием .NET Framework </i><br>  Остальные варианты ответов ищи сам <img src="img/smilies/s2.gif" alt=""><br>  И какой же это тривиальный пример, когда там тупо бинарные коды заголовка вбиты.<br> Берешь справочники и проверяешь, где там опечатка. Т.к. там еще .NET порылся, то отнюдь не тривиально все будет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250506&amp;user=4072&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=6" class="addthx" data-post="250506"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]_ruzmaz_[/b]','')">_ruzmaz_</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 114.8 (ветеран), 41thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.01'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21589">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2010 22:47 <br><script type="text/javascript">QU('_ruzmaz_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=_ruzmaz_" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
В Project Properties ставь Struct Member Alignment не больше 2 байт или используй #pragma pack для структуры _JMP_STUB (и возможно еще где-нибудь =), иначе под JmpInstruction выделяется больше 2 байт, что приводит к непредвиденному сдвигу .NET Directory. По крайней мере у меня такая трабла была (VS2008).<br>Но это только одна проблема, прога все равно не хочет пахать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250516&amp;user=21589&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=7" class="addthx" data-post="250516"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2010 01:47 &middot; Поправил: alexeyshevchenko <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
в иде выглядит  примерно так <br>.cli:00404000                 public start<br>.cli:00404000 start           proc near<br>.cli:00404000                 jmp     ds:dword_404086<br>.cli:00404000 start           endp<br>.cli:00404000<br>.cli:00404000 ; ---------------------------------------------------------------------- -----<br>.cli:00404006                 dw 48h<br>.cli:00404008                 dd 20000h, 20000000h, 2140000h, 2 dup(10000h), 600h, 0Bh dup(0)<br>.cli:0040404C                 db 2 dup(0)<br>.cli:0040404E ;<br>.cli:0040404E ; Imports from mscoree.dll<br>.cli:0040404E ;<br>.cli:0040404E _CorExeMain     dd ?<br>.cli:00404052                 dd 0<br>.cli:00404056                 dw 407Eh<br>.cli:00404058                 dd 2 dup(0)<br>.cli:00404060                 dd 40940000h, 404E0000h, 5 dup(0)<br>.cli:0040407C                 dd 40860000h, 0<br>.cli:00404084                 db 2 dup(0)<br>.cli:00404086 dword_404086    dd 435F0000h            ; DATA XREF: startr<br>.cli:0040408A aOrexemain      db &#039;orExeMain&#039;,0<br>.cli:00404094 aMscoree_dll    db &#039;mscoree.dll&#039;,0<br>.cli:004040A0                 align 1000h<br>.cli:004040A0 _cli            ends<br>.cli:004040A0<br>.cli:004040A0<br>.cli:004040A0                 end start<br>вот  сижу думаю dword_404086 должно быть или _CorExeMain<br>доходит оно вообще до jmp  непонятно ... в дебаге сразу падает
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250534&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=8" class="addthx" data-post="250534"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]zeppe1in[/b]','')">zeppe1in</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/18780.png" alt=""><br><span class=txtSm>Ранг: 127.3 (ветеран), 44thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.68'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18780">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2010 12:41 <br><script type="text/javascript">QU('zeppe1in','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zeppe1in" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>alexeyshevchenko пишет:<br>проект на VS2008 c++ </I><br>у меня почему то fopen(&quot;hello.exe&quot;,&quot;wb&quot;); не создаёт фаил. а если без b то создаёт. почему так?
<br><br><font size="1"><i>-----<br>zzz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=250548&amp;user=18780&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=9" class="addthx" data-post="250548"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2010 15:41 &middot; Поправил: alexeyshevchenko <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<noindex><a href="http://devoid.com.ua/functions-about/c-functions/fopen.html" rel="nofollow" target="_blank">http://devoid.com.ua/functions-about/c-functions/fopen.html</a></noindex><br>посмотри что она вернёт когда не создаёт
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250561&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=10" class="addthx" data-post="250561"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]zeppe1in[/b]','')">zeppe1in</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/18780.png" alt=""><br><span class=txtSm>Ранг: 127.3 (ветеран), 44thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.68'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18780">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2010 17:39 <br><script type="text/javascript">QU('zeppe1in','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zeppe1in" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
разобрался, это пакастный нод, в тихоря отправлял фаил в карантин)
<br><br><font size="1"><i>-----<br>zzz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=250569&amp;user=18780&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=11" class="addthx" data-post="250569"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]_ruzmaz_[/b]','')">_ruzmaz_</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 114.8 (ветеран), 41thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.01'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21589">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2010 22:11 &middot; Поправил: _ruzmaz_ <br><script type="text/javascript">QU('_ruzmaz_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=_ruzmaz_" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Еще одна ошибка, но в данном случае несущественная)<br>pe.cpp, строка 293  -&gt;  cls.JMP_STUB.JmpAddress = RVA_OF_CLI(inP) + OFFSETOF(struct CLI_SECTION_IMAGE, <u>IMPORT_TABLE.Hint</u>) + inP-&gt;ImageBase;<br>... благодаря чему прыжок с EP, если что, будет делаться не по адресу, лежащему в IAT, а на 0x435F0000 (Hint функи _CorExeMain + первые два байта названия =)<br>Надо<br>cls.JMP_STUB.JmpAddress = RVA_OF_CLI(inP) + OFFSETOF(struct CLI_SECTION_IMAGE, <u>IMPORT_TABLE.HintNameTableRVA2</u>) + inP-&gt;ImageBase;
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250605&amp;user=21589&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=12" class="addthx" data-post="250605"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 февраля 2010 02:06 &middot; Поправил: alexeyshevchenko <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
сейчас я переписываю  это  на c# дмаю  там больше шансов что заработает<br>удя по всему с++ както выравнивает поля не так , дело  в том что пример в книге реализован на си, при переносе на с++  чото работает не так как ожидалось ,  что именно  не понтно
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250611&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=13" class="addthx" data-post="250611"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]zeppe1in[/b]','')">zeppe1in</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/18780.png" alt=""><br><span class=txtSm>Ранг: 127.3 (ветеран), 44thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.68'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18780">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 февраля 2010 14:51 <br><script type="text/javascript">QU('zeppe1in','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zeppe1in" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>alexeyshevchenko</b><br>а вообще какая конечная цель?<br>там пример какойто странный, я не встречал секцию .cli у net прог.<br>Можешь скомпилить прогу на C# и из неё сделать шаблон. получится примерно тоже самое, что в книге, только ошибку будет проще искать.<br>А если ты хочеш собирать чо нить серьёзное, то придётся плотно изучать формат.
<br><br><font size="1"><i>-----<br>zzz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=250650&amp;user=18780&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=14" class="addthx" data-post="250650"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 февраля 2010 20:43 <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Цель изучить формат PE содержащий . Net ! Чтобы сделать шаблон из проги скомпилиной на C# надо как минимум знать форамт файла  наизусть до последнего бита ... Получается колизея ))) эмн насчёт .cli меня тоже удивило в книге написано что  там нранится загоовок именно уже для нужд CLR ! Вообщето во всех книгах написано что там хранится заголовок clr  притом на него должна указывать 15 секция данныхточный  формат можно посмотреть в corhdr.h  структура  image_cor20_header corhdr долженбыть в WinSdk если vs  стоит то и corhdr тоже на компе будет.  Вобщемто в самих исходниках приатаченых чтото напутано с  image_cor20_header corhdr , там заполняется какаято другая структура а  image_cor20_header corhdr непонятно зачем
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250672&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=15" class="addthx" data-post="250672"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]zeppe1in[/b]','')">zeppe1in</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/18780.png" alt=""><br><span class=txtSm>Ранг: 127.3 (ветеран), 44thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.68'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18780">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 февраля 2010 22:54 <br><script type="text/javascript">QU('zeppe1in','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zeppe1in" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>alexeyshevchenko</b><br>попробуй вот такое.<br>www.rsdn.ru/article/dotnet/phmetadata.xml<br>www.ecma-international.org/publications/standards/Ecma-335.htm
<br><br><font size="1"><i>-----<br>zzz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=250677&amp;user=18780&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=16" class="addthx" data-post="250677"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]alexeyshevchenko[/b]','')">alexeyshevchenko</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23866">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 февраля 2010 23:49 &middot; Поправил: <a href="action=stats#mods">Модератор</a> <br><script type="text/javascript">QU('alexeyshevchenko','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=alexeyshevchenko" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=15731.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<noindex><a href="http://www.rsdn.ru/article/dotnet/phmetadata.xml" rel="nofollow" target="_blank">http://www.rsdn.ru/article/dotnet/phmetadata.xml</a></noindex> видел уже там про мето данные меня пока это не интересует , в спецификации тое про мето данные есть ,  а то что надо  нету<br>а нет извеняюсь в спецификации на 179 странице есть полное описание pe<br><b>не умеешь править? давай я это сделаю за тебя</b>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=250679&amp;user=23866&amp;forum_n=5&amp;topic=15731.html&amp;page=0&amp;anchor=17" class="addthx" data-post="250679"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> генерация PE</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#18" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="15731">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=15731" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
