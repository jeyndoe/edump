<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Справочник по командам ассемблера - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Начал писать проги на асме буквально 2-3 дня назад и вот у меня возник такая проблема. Нужен справочник по командам асма. Не учебник, а именно справочник(с програмированием проблем не возникало, но чувствую, что команд я заню">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=26261'>bartolomeo</a>, <a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a> (+3 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Справочник по командам ассемблера</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=5&amp;topic=3996&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=5&amp;topic=3996&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Klajnor[/b]','')">Klajnor</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.7 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.78'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2708">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 февраля 2006 23:42 <br><script type="text/javascript">QU('Klajnor','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Klajnor" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Начал писать проги на асме буквально 2-3 дня назад и вот у меня возник такая проблема.
<br>Нужен справочник по командам асма. Не учебник, а именно справочник(с програмированием проблем не возникало, но чувствую, что команд я заню маловато). 
<br>Перечень команд, что команда делает, какие регистры и флаги меняет и т.д. и .т.п. Но желательно, чтобы всё это было описано в минимальном, но достаточном для понимания объёме.
<br>Кто чё посоветует?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=53969&amp;user=2708&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=1" class="addthx" data-post="53969"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]asd[/b]','')">asd</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 162.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.58'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3241">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 00:01 <br><script type="text/javascript">QU('asd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=asd" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Вот в разделе описанме команд. Мне хватает.<br><br><img src="img/attach.gif" alt=""> <a href="./files/26c0_AZM.part1.rar.zip">26c0_AZM.part1.rar.zip</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=53973&amp;user=3241&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=2" class="addthx" data-post="53973"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]asd[/b]','')">asd</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 162.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.58'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3241">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 00:05 <br><script type="text/javascript">QU('asd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=asd" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
№ 2<br><br><img src="img/attach.gif" alt=""> <a href="./files/f061_AZM.part2.rar.zip">f061_AZM.part2.rar.zip</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=53974&amp;user=3241&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=3" class="addthx" data-post="53974"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]asd[/b]','')">asd</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 162.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.58'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3241">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 00:07 <br><script type="text/javascript">QU('asd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=asd" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
№3
<br><i class=x>вы не можете отправмть пустое сообщение. Это, имхо, никому не нужно</i>
<br><img src="img/smilies/s2.gif" alt="">Класная надпись.<br><br><img src="img/attach.gif" alt=""> <a href="./files/56aa_AZM.part3.rar.zip">56aa_AZM.part3.rar.zip</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=53975&amp;user=3241&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=4" class="addthx" data-post="53975"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Klajnor[/b]','')">Klajnor</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.7 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.78'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2708">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 00:14 <br><script type="text/javascript">QU('Klajnor','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Klajnor" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Первая часть не приаттачилась. 
<br>Приаттачь ещё раз,plz
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=53977&amp;user=2708&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=5" class="addthx" data-post="53977"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]asd[/b]','')">asd</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 162.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.58'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3241">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 00:46 <br><script type="text/javascript">QU('asd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=asd" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
№1
<br><br><br><img src="img/attach.gif" alt=""> <a href="./files/a968_AZM.part1.rar.zip">a968_AZM.part1.rar.zip</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=53981&amp;user=3241&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=6" class="addthx" data-post="53981"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 07:18 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Подробную информацию об устройстве машинных команд смотри в документации на IA-32 от Intel (http://www.intel.com), том второй. Номера для поиска:
<br>253665?? - том 1-й,
<br>253666?? и 253667?? - том 2-й, глава &quot;Instruction Format&quot;
<br>253668?? - том 3-й.
<br>
<br>Самый определённый источник среди русскоязычных, который я нашёл, - &quot;Специальный справочник&quot; Юрова.
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=53986&amp;user=410&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=7" class="addthx" data-post="53986"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Klajnor[/b]','')">Klajnor</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.7 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.78'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2708">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 13:45 <br><script type="text/javascript">QU('Klajnor','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Klajnor" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>asd</b>, спасибо. Полистал - то что нужно =)
<br><b>Bitfry</b>, сам сайт интела - жутко тяжёлый, а уменя ща временно GPRS, т.ч. пока найду эту документацию потрачу кучу денег =( Через недельку - другую проведу себе локалку, тогда посмотрю. 
<br>А Юрова есть электронный вариант? Если не лень, кинь пожалуйста ссылку.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=54010&amp;user=2708&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=8" class="addthx" data-post="54010"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Mordred[/b]','')">Mordred</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 39.3 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.76'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2766">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 18:40 <br><script type="text/javascript">QU('Mordred','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mordred" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
education.aspu.ru/get.php?fi=assembl/Ass_Yurov_Assembler.rar
<br>
<br>Хотя имхо лучше Абеля возьми, у Юрова косяков немерено. Впрочем, как и почти у всех...<img src="img/smilies/s6.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=54034&amp;user=2766&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=9" class="addthx" data-post="54034"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]asd[/b]','')">asd</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 162.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.58'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3241">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 19:47 <br><script type="text/javascript">QU('asd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=asd" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
Точно не скажу, но то что я выложил по-моему и есть Юров, хоть там и не написано.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=54041&amp;user=3241&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=10" class="addthx" data-post="54041"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Klajnor[/b]','')">Klajnor</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.7 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.78'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2708">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 февраля 2006 19:52 <br><script type="text/javascript">QU('Klajnor','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Klajnor" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>asd</b>,я в нете видел, что книга выходит с дискетой, а то что ты выложил - электронный вариант какой-то книги и там тоже упоминается дискета. Так что вполне может быть =)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=54043&amp;user=2708&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=11" class="addthx" data-post="54043"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 февраля 2006 10:28 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>Klajnor пишет:
<br>т.ч. пока найду эту документацию потрачу кучу денег </I>
<br>Чего там искать? Я ж номера дал. Вот прямая ссылка:
<br>Instruction Set Reference, A-M
<br>File Name/Size:
<br>25366618.pdf
<br>2229503 bytes 
<br>Download From:
<br>download.intel.com/design/Pentium4/manuals/25366618.pdf
<br>
<br>Instruction Set Reference, N-Z
<br>File Name/Size:
<br>25366718.pdf
<br>1654166 bytes 
<br>Download From:
<br>ftp://download.intel.com/design/Pentium4/manuals/25366718.pdf
<br>
<br><I>Mordred пишет:
<br>Ass_Yurov_Assembler.rar</I>
<br>Это учебник, а я сказал &quot;Спец. справочник&quot;.
<br>Вообще у Юрова трёхтомник:
<br>Издательство &quot;Питер&quot;
<br>Assembler. Учебник для вузов. 2-е издание - 637 с. 
<br>Assembler. Практикум. 2-е издание - 399 с. 
<br>Assembler. Специальный справочник. 2-е издание. - 416 с. 
<br> 
<br>Я себе купил бумагу и всем советую, тем более что у кого-то инет дорого стоит. 
<br>ЗЫ А на халяву можно попробовать этот скачать (сам не смотрел):
<br>asm.shadrinsk.net/download/asmjurov.zip
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=54086&amp;user=410&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=12" class="addthx" data-post="54086"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]ValdiS[/b]','')">ValdiS</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1263.gif" alt=""><br><span class=txtSm>Ранг: 420.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.42'>Активность: 0.24<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1263">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 февраля 2006 12:19 <br><script type="text/javascript">QU('ValdiS','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ValdiS" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>Bitfry пишет:
<br>Вообще у Юрова трёхтомник: 
<br>Издательство &quot;Питер&quot; 
<br>Assembler. Учебник для вузов. 2-е издание - 637 с. 
<br>Assembler. Практикум. 2-е издание - 399 с. 
<br>Assembler. Специальный справочник. 2-е издание. - 416 с.  </I>
<br>Очень хорошая подборка. Советую именно купить книги. С ними работать приятнее, чем в моник пялиться.
<br><br><font size="1"><i>-----<br>Сколько ни наталкивали на мысль – все равно сумел увернуться</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=54096&amp;user=1263&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=13" class="addthx" data-post="54096"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 февраля 2006 12:42 <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Тогда может кто нибудь подскажет ссылку на нормальную и подробную доку по DR регистрам. А то уже все поисковики облазил. На WASM&#039;е отправили к интелу. Но мне хотелось бы именно DR регистры.
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=54102&amp;user=3232&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=14" class="addthx" data-post="54102"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]killsniper[/b]','')">killsniper</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 42.4 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3210">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 февраля 2006 05:13 <br><script type="text/javascript">QU('killsniper','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=killsniper" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Есть у меня учебник для ВУЗов, батя 2 года назад из Москвы привёз. Но я чё-то плохо в него врубаюсь, там всё куда мудрёнее, чем у Фаронова или даже Кнута.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=54208&amp;user=3210&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=15" class="addthx" data-post="54208"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 февраля 2006 11:01 <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
Может кто нибудь все же даст линк на доку по DR регистрам?
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=54335&amp;user=3232&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=16" class="addthx" data-post="54335"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.53'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 февраля 2006 02:55 <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<b>Klajnor</b>
<br>вот лови хороший справочник по командам асма
<br><br><br><img src="img/attach.gif" alt=""> <a href="./files/e925_asm_abc.zip.zip">e925_asm_abc.zip.zip</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55042&amp;user=3355&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=17" class="addthx" data-post="55042"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 февраля 2006 08:26 <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
Кому надо именно про DR регистры зайдите на WASM - там самая последняя статья. Видимо компьютерной бог услышал мои заклинания второго уровня <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=55050&amp;user=3232&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=18" class="addthx" data-post="55050"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Klajnor[/b]','')">Klajnor</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.7 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.78'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2708">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 февраля 2006 12:30 <br><script type="text/javascript">QU('Klajnor','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Klajnor" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<b>Mavlyudov</b>,
<br><b>Cправочник основан на книге
<br>К.Г. Финогенова &quot;Самоучитель по системным функциям MS-DOS&quot;, 1995</b>. ИМХО это смешно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55067&amp;user=2708&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=19" class="addthx" data-post="55067"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:40 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
Вот ещё справочник:
<br>
<br>ААА ASCII-коррекция регистра АХ после сложения
<br>
<br>Команда ааа используется вслед за операцией сложения add в регистре AL двух неупакованных двоично-десятичных (BCD) чисел, если в АХ находится двухразрядное неупакованное двоично-десятичное число. Команда не имеет параметров. Она преобразует результат сложения в неупакованное двоично-десятичное число, младший десятичный разряд которого находится в AL. Если результат превышает 9, выполняется инкремент содержимого регистра АН. Команда воздействует на флаги AF и CF.
<br>
<br>Пример
<br>
<br>
<br>mov AX,0605h ; Неупакованное BCD 65
<br>
<br>add AL,09h ;Неупакованное BCD 9, AX=060Eh
<br>
<br>ааа ;AX=0704h, неупакованное BCD 74
<br>
<br>AAD ASCII-коррекция регистра АХ перед делением
<br>
<br>
<br>Команда aad используется перед операцией деления неупакованного двоично-десятичного (BCD) числа в регистре АХ на другое неупакован
<br>ное двоично-десятичное число. Команда не имеет параметров. Она преобразует делимое в регистре АХ в двоичное число без знака, чтобы в результате деления получились правильные неупакованные двоично-десятичные числа (частное в AL, остаток в АН). Команда воздействует на флаги SF, ZF и PF.
<br>
<br>Пример
<br>
<br>
<br>raov AX,0207h ;Неупакованное BCD 27
<br>
<br>mov DL,06h ;Неупакованное BCD 6
<br>
<br>aad ;AX=001Bh=27
<br>
<br>div DL ;AX=0304h, т.е. 4 и З в остатке
<br>
<br>
<br>AAM ASCII-коррекция регистра АХ после умножения
<br>
<br>
<br>Команда aam используется вслед за операцией умножения двух неупакованных двоично-десятичных чисел. Команда не имеет параметров. Она преобразует результат умножения, являющийся двоичным числом, в правильное неупакованное двоично-десятичное (BCD) число, младший разряд которого помещается в AL, а старший - в АН. Команда воздействует на флаги SF, ZF и PF.
<br>
<br>Пример
<br>
<br>
<br>mov AL,08h ;Неупакованное BCD 8
<br>
<br>mov CL,07h ;Неупакованное BCD 7
<br>
<br>mul CL ;AX=0038h=56
<br>
<br>aam ;AX=0506h, BCD 56
<br>
<br>
<br>AAS ASCII-коррекция регистра AL после вычитания
<br>
<br>
<br>Команда aas используется вслед за операцией вычитания одного неупакованного двоично-десятичного числа (BCD) из другого в AL. Команда не имеет параметров. Она преобразует результат вычитания в неупакованное двоично-десятичное число. Если результат вычитания оказывается меньше 0, выполняется декремент содержимого регистра АН. Команда воздействует на флаги AF и CF; после ее выполнения AF=1, CF=1.
<br>
<br>
<br>Пример
<br>
<br>
<br>mov AX,0708h ;Неупакованное BCD 78
<br>
<br>mov CL,09h ;Неупакованное BCD 9
<br>
<br>sub AL,CL ;AX=07FFh
<br>
<br>aas ;AX=0609h, неупакованное BCD 69
<br>
<br>
<br>ADC Целочисленное сложение с переносом
<br>
<br>Команда adc осуществляет сложение первого и второго операндов, прибаатяя к результату значение флага переноса CF. Исходное значение первого операнда (приемника) теряется, замещаясь результатом сложения. Второй операнд не изменяется. В качестве первого операнда команды adc можно указывать регистр (кроме сегментного) или ячейку памяти, в качестве второго - регистр (кроме сегментного), ячейку памяти или непосредственное значение, однако не допускается определять оба операнда одновременно как ячейки памяти. Операнды могут быть байтами или словами и представлять числа со знаком или без знака. Команда adc (совместно с командой add) обычно используется для сложения 32-разрядных чисел. Команда воздействует на флаги OF, SF, ZF, AF, PF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,1125h
<br>
<br>adc AX,2C25h ;AX=3D4Bh, если CF был = 1
<br>
<br>;AX=3D4Ah, если CF был = 0
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных:
<br>numlow dw 0FFFFh ;Младшая часть 2-го слагаемого
<br>numhigh dw 000Sh ;Старшая часть 2-го слагаемого
<br>;Число 0005FFFFh=393215
<br>;В программном сегменте:
<br>mov AX,000Sh ;Младшая часть 1-го слагаемого
<br>mov BX,0002h ;Старшая часть 1-го слагаемого
<br>;Число 00020005h=131077
<br>add АХ,numlow ;Сложение младших частей. АХ=4, CF=1
<br>adc BX, numhigh ;Сложение старших частей с
<br>;переносом.ВХ:АХ=0008:0004h.
<br>;Число 00080004h=524292
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров. Команда adc с 32-разрядными операндами может использоваться для сложения 64-разрядных целых чисел.
<br>
<br>Пример
<br>
<br>
<br>; В полях данных
<br>mem321 dd 0FFFFFFFFh ;Младшая часть 1-го слагаемого
<br>mem32h dd 98765432h ;Старшая часть 1-го слагаемого
<br>; В программном сегменте
<br>mov EAX,1 ;Младшая часть 2-го слагаемого
<br>mov EBX,0 ;Старшая часть 2-го слагаемого
<br>add EAX,mem321 ;Складываем младшие половины
<br>;Сумма=100000000Ь&gt;32 бит
<br>;EAX=000000h, перенос
<br>adc EBX,mem32h ;Складываем старшие половины
<br>;и перенос. EBX=90000001h ;Сумма: 9876543300000000h
<br>
<br> 
<br>
<br>ADD Целочисленное сложение
<br>
<br>
<br>Команда add осуществляет сложение первого и второго операндов. Исходное значение первого операнда (приемника) теряется, замещаясь результатом сложения. Второй операнд не изменяется. В качестве первого операнда команды add можно указывать регистр (кроме сегментного) или ячейку памяти, в качестве второго - регистр (кроме сегментного), ячей-ку памяти или непосредственное значение, однако не допускается опре-делять оба операнда одновременно как ячейки памяти. Операнды могут быть байтами или словами и представлять числа со знаком или без знака. Команду add можно использовать для сложения как обычных целых чи-сел, так и двоично-десятичных (с использованием регистра АХ для хра-нения результата). Если складываются неупакованные двоично- десятич-ные (BCD) числа, после команды add следует использовать команду ааа; если складываются упакованные числа, то команду daa. Команда воздействует на флаги OF, SF, ZF, AF, PF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov BX,lFFEh
<br>
<br>mov CX,3
<br>
<br>add BX,CX ;BX=2001h, CX=0003h
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,25h
<br>
<br>add AX,12h ;AX=0037h
<br>
<br>Пример 3
<br>
<br>
<br>; В полях данных:
<br>
<br>mem dw 128
<br>
<br>;B программном сегменте:
<br>
<br>add mem,100 ;mem=228
<br>
<br>Пример 4
<br>
<br>
<br>mov AX,0507h ;BCD распакованное 57
<br>
<br> add AL,05h ;BCD 5, AX=050Ch 
<br>
<br>aaa ;AX=0602h, BCD 62
<br>
<br> 
<br>
<br>Пример 5
<br>
<br>
<br>mov AL,57h ;BCD упакованное 57
<br>
<br> add AL,05h ;BCD 5, AL=5Ch 
<br>
<br>daa ;AL=62h, BCD 62
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>mov EAX,98765432h
<br>
<br>add EAX,11111111h ; EAX=A9876543h
<br>
<br>
<br>
<br>AND Логическое И
<br>
<br>
<br>Команда and осуществляет логическое (побитовое) умножение первого операнда на второй. Исходное значение первого операнда (приемника) теряется, замещаясь результатом умножения. В качестве первого операнда команды and можно указывать регистр (кроме сегментного) или ячейку памяти, в качестве второго - регистр (кроме сегментного), ячейку памяти или непосредственное значение, однако не допускается определять оба операнда одновременно как ячейки памяти. Операнды могут быть байтами или словами. Команда воздействует на флаги SF, ZF и PF.
<br>Правила побитового умножения:
<br>
<br>
<br>Первый операнд-бит 0101
<br>Второй операнд-бит 0011
<br>Бит результата 0001
<br>
<br>Пример 1
<br>mov AX,0FFEh
<br>and AX,5555h ;AX=0554h
<br>
<br>Пример 2
<br>; В полях данных:
<br>mem dw 0С003h
<br>;В программном сегменте:
<br>mov AX,700Eh
<br>and AX,mem ;AX=4002h
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>mov EDX, 0FA8 8 0 0 4 lh
<br>and EDX,0FF00000Fh ; EDX = FA000001h
<br>
<br> 
<br>
<br>386P+ ARPL
<br>Коррекция запрашиваемого уровня привилегий селектора
<br>
<br>
<br>Команда aprl сравнивает селектор с образцом, содержащим максимально допустимый уровень привилегий (обычно используется селектор CS) и устанавливает проверяемое значение в соответствии с меньшим из двух уровней привилегий. Если изменение уровня не потребовалось, флаг ZF сбрасывается, если потребовалось - устанавливается. В качестве первого операнда команды aprl может использоваться 16-разрядный регистр или слово памяти с проверяемым селектором; в качестве второго операнда - 16-разрядный регистр с селектором-образцом.
<br>
<br> 
<br>
<br>386+ BOUND
<br>Проверка индекса массива на выход за границы массива
<br>
<br>
<br>Команда bound проверяет, лежит ли указанный индекс, рассматриваемый, как число со знаком, внутри заданных вторым операндом границ.
<br>Если индекс выходит за границы массива снизу или сверху, генерируется прерывание с вектором 5. Первый операнд должен быть регистром, содержащим проверяемый индекс, второй - адресом поля памяти с двумя границами проверяемого массива. В команде bound допустимо использование как 16-битовых, так и 32-битовых операндов (но и первый, и второй операнды должны быть одного типа).
<br>
<br> 
<br>
<br>386+ BSF Прямое сканирование битов
<br>
<br>Команда bsf сканирует слово или двойное слово в поисках бита, равного 1. Сканирование выполняется от младшего бита (0) к старшему. Если в слове не найдено установленных битов, то устанавливается флаг ZF. Если установленные биты есть, то номер первого установленного бита заносится в указанный в команде регистр. Номером бита считается его позиция в слове, отсчитываемая от бита 0. В качестве первого операнда команды bsf следует указывать регистр, куда будет помещен результат сканирования, в качестве второго - регистр или ячейку памяти со сканируемым словом. В команде bsf допустимо использование как 16-битовых, так и 32-битовых операндов (но и первый, и второй операнды должны быть одного типа).
<br>
<br>Пример 1
<br>
<br>
<br>mov BX,70h ;Анализируемое данное
<br>
<br>bsf АХ,ВХ ;АХ=4, ZF=0
<br>
<br>Пример 2
<br>
<br>
<br>mov SI,0 ;Анализируемое данное
<br>
<br>bsf BX,SI ;ZF=1, в ВХ прежнее значение
<br>
<br> 
<br>
<br>Пример 3
<br>
<br>
<br>mov SI,8 ;Анализируемое данное
<br>
<br>bsf BX,SI ;BX=3, ZF=1
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных
<br>
<br>mem dw 9000h Анализируемое данное
<br>
<br>;В программном сегменте:
<br>
<br>bsf AX, mem ;AX=000Ch=12, ZF=0
<br>
<br> 
<br>
<br>386+ BSR Обратное сканирование битов
<br>
<br>
<br>Команда bsf сканирует слою или двойное слово в поисках бита, равного 1. Сканирование выполняется от старшего бита (15 или 31) к младшему. Если в слове не найдено установленных битов, то устанавливается флаг ZF. Если установленные биты есть, то номер первого установленного бита заносится в указанный в команде регистр. Номером бита считается его позиция в слове, отсчитываемая от бита 0. В качестве первого операнда команды bsf следует указывать регистр, куда будет помещен результат сканирования, в качестве второго - регистр или ячейку памяти со сканируемым словом. В команде bsf допустимо использование как 16-битовых, так и 32-битовых операндов, но и первый, и второй операнды должны быть одного типа (за исключением случая, когда второй операнд - константа).
<br>
<br>Пример 1
<br>
<br>
<br>mov BX,70h ;Анализируемое данное
<br>
<br>bsr AX,BX ;AX=6, ZF=0
<br>
<br>Пример
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55280&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=20" class="addthx" data-post="55280"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:44 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
Пример 2
<br>
<br>
<br>mov SI,0 ;Анализируемое данное
<br>
<br>bsr BX,SI ;ZF=1, в ВХ прежнее значение
<br>
<br> 
<br>
<br>Пример 3
<br>
<br>
<br>mov SI,8 ;Анализируемое данное
<br>
<br>bsf BX,SI ;BX=3, ZF=1
<br>
<br>
<br>Пример 4
<br>
<br>
<br>; В полях данных
<br>
<br>mem dw 9000h ; Анализируемое данное
<br>
<br>;В программном сегменте:
<br>
<br>bsr AX, mem ;AX=000Fh=15, ZF=0
<br>
<br> 
<br>
<br>486+ BSWAP Обмен байтов
<br>
<br>
<br>Команда bswap изменяет порядок байтов в своем единственном операнде, в качестве которого может выступать только 32-разрядный регистр общего назначения. Биты 7...0 обмениваются с битами 31...24, а биты 15... 18 с битами 23...16. Другими словами, нумерация байтов регистра изменяется на противополжную (вместо 3, 2, 1,0 - 0, 1, 2, 3). Команда не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>mov ЕАХ, 01234567h
<br>
<br>bswapEAX ;EAX=67452301h
<br>
<br> 
<br>
<br>386+ ВТ Проверка бита
<br>
<br>
<br>Команда bt позволяет определить, установлен ли в заданном слове определенный бит. Анализируемое слово выступает в качестве первого операнда, номер бита - в качестве второго. Первым операндом команды bt может служить регистр или ячейка памяти, вторым - регистр или непосредственное значение. В команде допустимо использование как 16-битовых, так и 32-битовых операндов, но и первый, и второй операнды должны быть одного типа (за исключением случая, когда второй операнд - константа).
<br>Значение проверяемого бита копируется в флаг CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,00FFh ;Анализируемое данное
<br>
<br>bt AX,5 ; бит 5=1, ZF=1
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,00FFh ;Анализируемое данное
<br>
<br>bt AX,8 ;бит 8=0, ZF=0
<br>
<br>Пример 3
<br>
<br>
<br>mov AX,8001h ;Анализируемое данное
<br>
<br>mov BX,15 ;Номер проверяемого бита
<br>
<br>bt АХ,ВХ ;бит 15 = 1, ZF=1
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных
<br>
<br>mem dw IFh ;Анализируемое данное
<br>
<br>;В программном сегменте:
<br>
<br>bt mem, 4 ;бит 4 = 1, ZF=1
<br>
<br> 
<br>
<br>386+ ВТС Проверка и инверсия бита
<br>
<br>
<br>Команда btc проверяет определенный бит в слове, заданном первым операндом, копирует его значение в флаг CF и инвертирует. Номер бита выступает в качестве второго операнда. Первым операндом команды btc может служить регистр или ячейка памяти, вторым - регистр или непосредственное значение. В команде допустимо использование как 16-битовых, так и 32-битовых операндов, но и первый, и второй операнды должны быть одного типа (за исключением случая, когда второй операнд - константа).
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,00FFh ;Анализируемое данное
<br>
<br>btc АХ, 5 ;AX=00DFh Бит 5 был = 1
<br>
<br>;Сброс бита 5, ZF=1
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,OOFFh /Анализируемое данное
<br>
<br>btc АХ, 8 ;AX=lFFh Бит 8 был = О
<br>
<br>;Установка бита 8, ZF=0
<br>
<br>Пример 3
<br>
<br>
<br>mov AX,8001h ;Анализируемое данное
<br>
<br>mov BX,15 ;Номер проверяемого бита
<br>
<br>btc AX,BX ;AX=0001h, ZF=1
<br>
<br>Пример 4
<br>
<br>
<br>; В полях данных
<br>
<br>mem dw IFh
<br>
<br>;В программном сегменте: ; Анализируемое данное
<br>
<br>btc mem, I /mem=lEh, ZF=1
<br>
<br>
<br>386+ BTR Проверка и сброс бита
<br>
<br>Команда btr проверяет определенный бит в слове, заданном первым операндом, копирует его значение в флаг CF и сбрасывает. Номер бита выступает в качестве второго операнда. Первым операндом команды btr может служить регистр или ячейка памяти, вторым - регистр или непосредственное значение. В команде допустимо использование как 16-битовых, так и 32-битовых операндов, но и первый, и второй операнды должны быть одного типа (за исключением случая, когда второй операнд - константа).
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,00Fh ;Анализируемое данное
<br>
<br>btr АХ, 5 ;AX=00DFh. Бит 5 был = 1
<br>
<br>;Сброс бита 5, ZF=1
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,00FFh ;Анализируемое данное
<br>
<br>btr AX, 8 ;AX=0FFh Бит 8 был =0
<br>
<br>;Остался 0, ZF=0
<br>
<br>Пример 3
<br>
<br>
<br>mov AX,8001h ;Анализируемое данное
<br>
<br>mov BX,15 ;Номер проверяемого бита
<br>
<br>btr AX,BX ;AX=0001h Бит 15 был = 1
<br>
<br>;Сброс бита 15, ZF=1
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных
<br>
<br>mem dw IFh
<br>
<br>;В программном сегменте: ;Анализируемое данное
<br>
<br>btr mem,10 ;mem=lFh Бит 10 был = 0
<br>
<br>;Остался 0, ZF=0
<br>
<br> 
<br>
<br>386+ BTS Проверка и установка бита
<br>
<br>
<br>Команда bts проверяет определенный бит в слове, заданном первым операндом, копирует его значение в флаг CF и устанавливает. Номер бита выступает в качестве второго операнда. Первым операндом команды bts может служить регистр или ячейка памяти, вторым - регистр или непосредственное значение. В команде допустимо использование как 16-битовых, так и 32-битовых операндов, но и первый, и второй операнды должны быть одного типа (за исключением случая, когда второй операнд - константа).
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,OOFFh ;Анализируемое данное
<br>
<br>bts AX, 5 ;AX=OOFFh Бит 5 был = 1
<br>
<br>;Остался 1, ZF=1
<br>
<br>
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,OOFFh ;Анализируемое данное
<br>
<br>bts AX, 8 ;AX=lFFh Бит 8 был = 0
<br>
<br>;Установка бита 8, ZF=0
<br>
<br>Пример 3
<br>
<br>
<br>mov AX,8001h ; Анализируемое данное
<br>
<br>mov BX,15 ;Номер проверяемого бита
<br>
<br>bts AX,BX ;AX=8001h Бит 15 был = 1
<br>
<br>;Остался 1, ZF=1
<br>
<br>Пример 4
<br>
<br>
<br>; В полях данных
<br>
<br>mem dw IFh ; Анализируемое данное
<br>
<br>;В программном сегменте:
<br>
<br>bts mem,10 ;mem=4lFh Бит 10 был = 0
<br>
<br>; Установка бита 10, ZF=0
<br>
<br> 
<br>
<br>CALL Вызов подпрограммы
<br>
<br>
<br>Команда call передает управление подпрограмме, сохранив перед этим в стеке смещение к точке возврата. Команда ret, которой обычно заканчивается подпрограмма, забирает из стека адрес возврата и возвращает управление на команду, следующую за командой call. Команда не воздействует на флаги процессора.
<br>Команда call имеет четыре модификации:
<br>- вызов прямой ближний (в пределах текущего программного сегмента);
<br>- вызов прямой дальний (вызов подпрограммы, расположенной в другом программном сегменте);
<br>- вызов косвенный ближний;
<br>- вызов косвенный дальний.
<br>Все разновидности вызовов имеют одну и ту же мнемонику call, хотя и различающиеся коды операций. Во многих случаях транслятор может определить вид вызова по контексту, в тех же случаях, когда это невозможно, следует использовать атрибутные операторы:
<br>
<br>
<br>near ptr - прямой ближний вызов;
<br>
<br>far ptr - прямой дальний вызов;
<br>
<br>word ptr - косвенный ближний вызов;
<br>
<br>dword ptr - косвенный дальний вызов.
<br>
<br>
<br>Команда call прямого ближнего вызова заносит в стек относительный адрес точки возврата в текущем программном сегменте и модифицирует IP так, чтобы в нем содержатся относительный адрес точки перехода в том же программном сегменте. Необходимая для вычисления этого адреса величина смещения от точки возврата до точки перехода содержится в коде команды, который занимает 3 байт (код операции E8h и смещение к точке перехода).
<br>Команда call прямого дальнего вызова заносит в стек два слова - сначала сегментный адрес текущего программного сегмента, а затем (выше, в слово с меньшим адресом) относительный адрес точки возврата в текущем программном сегменте. Далее модифицируются регистры IP и CS: в IP помещается относительный адрес точки перехода в том сегменте, куда осуществляется переход, а в CS - сегментный адрес этого сегмента. Обе эти величины берутся из кода команды, который занимает 5 байтов (код операции 9А1г, относительный адрес вызываемой подпрограммы и ее сегментный адрес).
<br>Косвенные вызовы отличаются тем, что адрес перехода извлекается не из кода команды, а из ячеек памяти; в коде команды содержится информация о том, где находится адрес вызова. Длина кода команды зависит от используемого способа адресации.
<br>
<br>Примеры прямого ближнего вызова
<br>
<br>
<br>call near ptr subl ;Вызов подпрограммы subl
<br>
<br>;из того же сегмента
<br>
<br>call subl ;To же самое
<br>
<br>Косвенные ближние вызовы
<br>
<br>Пример 1
<br>
<br>
<br>mov BX,offset subl ;ВХ=адрес подпрограммы
<br>
<br>call BX ;Вызов подпрограммы
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных:
<br>
<br>addr dw subl ;Ячейка с адресом подпрограммы
<br>
<br>;В программном сегменте:
<br>
<br>call DS:addr ;Вызов подпрограммы
<br>
<br>call word ptr addr ;To же самое
<br>
<br> 
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных:
<br>
<br>addr dw subl ;Ячейка с адресом подпрограммы
<br>
<br>;В программном сегменте:
<br>
<br>mov SI,offset addr ;SI=адрес ячейки с адресом
<br>
<br>;подпрограммы
<br>
<br>call [SI] ;Вызов подпрограммы
<br>
<br> 
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных:
<br>tbl dw subl ;Ячейка с адресом
<br>;подпрограммы 1
<br>dw sub2 ;Ячейка с адресом
<br>;подпрограммы 2
<br>dw sub3 ;Ячейка с адресом
<br>;подпрограммы 3
<br>;В программном сегменте:
<br>mov BX,offset tbl ;ВХ=адрес таблицы адресов
<br>;подпрограмм
<br>mov SI, 2 ;SI=смещение к адресу sub2
<br>call [BX] [SI] ;Вызов подпрограммы 2
<br>
<br>Пример прямого дальнего вызова
<br>
<br>
<br>call far ptr subl ;Вызов подпрограммы sub2,
<br>;расположенной в другом
<br>
<br>;программном сегменте
<br>
<br>Косвенные дальние вызовы
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных:
<br>addr dd subl ;Поле с двухсловным
<br>;адресом подпрограммы
<br>;В программном сегменте:
<br>call DS:addr ;Вызов подпрограммы
<br>call dword ptr addr;To же самое
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных:
<br>addr dd subl ;Поле с двухсловным
<br>;адресом подпрограммы
<br>;В программном сегменте:
<br>mov DI,offset addr ;В1=адрес поля с адресом
<br>;подпрограммы
<br>call [DI] ;Вызов подпрограммы
<br>
<br>Пример 3
<br>
<br>
<br>; В полях данных:
<br>tbl dd subl ;Адрес подпрограммы 1
<br>dd sub2 ;Адрес подпрограммы 2
<br>dd sub3 ;Адрес подпрограммы 3
<br>;В программном сегменте:
<br>mov SI,offset tbl ;DI=адрес таблицы адресов
<br>mov DI,8 ;Смещение к адресу sub3
<br>call [SI] [DI] ;Вызов подпрограммы sub3
<br>
<br> Допустимо использование дополнительных режимов адресации 32-разрядных процессоров. В 32-разрядных приложениях допустимо использование 32-битовых операндов. В защищенном режиме роль сегментного адреса выполняет селектор.
<br>
<br>Примеры
<br>
<br>
<br>call [EAX] ;Косвенный вызов
<br>
<br>call 8[ЕСХ] ;Косвенный вызов
<br>
<br> 
<br>
<br>CBW Преобразование байта в слово
<br>
<br>
<br>Команда cbw заполняет регистр АН знаковым битом числа, находящегося в регистре AL, что дает возможность выполнять арифметические операции над исходным операндом-байтом, как над словом в регистре АХ. Команда не имеет параметров и не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>mov AL,5
<br>
<br>cdw ;AX=0005h
<br>
<br>Пример 2
<br>
<br>
<br>mov AL, - 2 ;AL=FEh=-2 (байт)
<br>
<br>cdv ;AX=FFFEh=-2 (слово)
<br>
<br> 
<br>
<br>386+ CDQ Преобразование двойного слова в четверное
<br>
<br>
<br>Команда cdq расширяет знак двойного слова в регистре ЕАХ на регистр EDX. Эту команду можно использовать для образования четырехсловного делимого из двухсловного перед операцией двухсловного деления. Команда не имеет параметров и не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных
<br>
<br>mem dd -2 ; Отрицательное число
<br>
<br>;В программном сегменте
<br>
<br>mov ЕАХ,mem ;EAX=FFFFFFFEh
<br>
<br>cdq ;EDX=FFFFFFFFh, EAX=FFFFFFFEh
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных
<br>
<br>mem dd 7FFFFFFEh ,&#039;Положительное число
<br>
<br>;В программном сегмен
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55281&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=21" class="addthx" data-post="55281"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:45 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
;В программном сегменте
<br>
<br>mov ЕАХ,mem ;EAX=7FFFFFFEh
<br>
<br>cdq ;EDX=00000000h, EAX=7FFFFFFEh
<br>
<br>
<br>
<br>CLC Сброс флага переноса
<br>
<br>Команда clc сбрасывает флаг переноса CF в регистре флагов. Команда не имеет параметров и не воздействует на остальные флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>clc ;CF=0, независимо от
<br>
<br>;исходного состояния
<br>
<br>CLD Сброс флага направления
<br>
<br>
<br>Команда eld сбрасывает флаг направления DF в регистре флагов, устанавливая прямое (в порядке возрастания адресов) направление выполнения операций со строками (цепочками). Команда не имеет параметров и не воздействует на остальные флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>cld ;DF=0, независимо от
<br>
<br>;исходного состояния
<br>
<br>CL1 Сброс флага прерываний
<br>
<br>
<br>Команда sti сбрасывает флаг разрешения прерываний IF в регистре флагов, запрещая (до установки этого флага командой sti) все аппаратные прерывания (от таймера, клавиатуры, дисков и т.д.) Команда не запрещает процессору выполнение команды hit (реализация программных прерываний); также не запрещаются немаскируемые прерывания, поступающие на вход NMI микропроцессора. Команда не имеет параметров и не воздействует на остальные флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>cli ;IF=0, независимо от
<br>
<br>;исходного состояния
<br>
<br>386Р+ CLTS Сброс флага переключения задачи в управляющем регистре 0
<br>
<br>
<br>Команда cits сбрасывает флаг TS в регистре CR0.
<br>
<br> 
<br>
<br>CMC Инвертирование флага переноса
<br>
<br>
<br>Команда сmс изменяет значение флага переноса CF в регистре флагов на обратное. Команда не имеет операндов и не воздействует на остальные флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>cmc ;Состояние флага CF
<br>
<br>;изменяется на обратное
<br>
<br> 
<br>
<br>СМР Сравнение
<br>
<br>Сами операнды не изменяются. Таким образом, если команду сравнения записать в общем виде
<br>
<br>стр операнд_1, операнд_2
<br>
<br>
<br>то ее действие можно условно изобразить следующим образом:
<br>
<br>операнд_1 - операнд_2 -&gt; флаги процессора
<br>
<br>В качестве первого операнда команды сmр можно указывать регистр (кроме сегментного) или ячейку памяти, в качестве второго - регистр (кроме сегментного), ячейку памяти или непосредственное значение, однако не допускается определять оба операнда одновременно, как ячейки памяти. Операнды могут быть байтами или словами и представлять числа со знаком или без знака. Обычно вслед за командой сmр стоит одна из команд условных переходов, анализирующих состояние флагов процесс
<br>сора. При сравнении чисел без знака необходимо использовать команды условных переходов, предназначенные для анализа чисел без знака (ja, jb и проч.). При сравнении чисел со знаком необходимо использовать команды условных переходов, предназначенные для анализа чисел со знаком (jl, jg и проч.).
<br>
<br>Пример 1
<br>
<br>
<br>cmp АХ,10000 ;АХ-10000
<br>
<br>je eqlOOOO ;Переход на метку eql0000,
<br>
<br>;если АХ=10000
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных:
<br>base dw 8002h
<br>;В программном сегменте:
<br>cmp DX,base DX-base
<br>jb below ;Переход на метку below,
<br>;если DX, рассматриваемое
<br>;как число без знака, меньше
<br>;числа без знака 8002h=32770
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных:
<br>base dw 8002h
<br>;В программном сегменте:
<br>cmp DX,base DX-base
<br>jl less ;Переход на метку less, если
<br>;DX, рассматриваемое как
<br>;число со знаком, меньше
<br>;числа со знаком 8002h=-32766
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>cmp EAX,8000000 Oh
<br>
<br>ja above ;Переход, если
<br>
<br>;EAX=80000001h...FFFFFFFFh
<br>
<br> 
<br>
<br>CMPS Сравнение строк
<br>
<br> CMPSB Сравнение строк по байтам
<br>
<br> CMPSW Сравнение строк по словам
<br>
<br>
<br>Команды предназначены для операций над строками (строкой называется последовательность байтов или слов памяти с любым содержимым). Они сравнивают по одному элементу каждой строки, фактически осуществляя вычитание второго операнда из первого и устанавливая в соответствии с результатом вычитания флаги CF, PF, AF, ZF, SF и OF. Команда cmpsb выполняет сравнение по байтам, команда cmpsw - по словам, а команда cmps может быть использована для сравнения как байтов, так и слов. В последнем случае размер сравниваемых элементов определяется их описанием (с помощью директив db или dw). Первый операнд адресуется через DS:SI, второй - через ES<img src="img/smilies/s5.gif" alt="">I. Таким образом, операцию сравнения можно условно изобразить следующим образом:
<br>
<br>
<br>(DS:SI) - (ES<img src="img/smilies/s5.gif" alt="">I) -&gt; флаги процессора
<br>
<br>
<br>После каждой операции сравнения регистры SI и DI получают положительное (если флаг DF=0) или отрицательное (если флаг DF=1) приращение. Величина приращения составляет 1 или 2 в зависимости от размера сравниваемых элементов (байт или слово).
<br>Вариант команды cmps имеет формат
<br>
<br>
<br>cmps строка_1, строка_2
<br>
<br>
<br>(что не избавляет от необходимости инициализировать регистры DS:SI и ES<img src="img/smilies/s5.gif" alt="">I адресами строк строка_1 и строка_2 соответственно). В этом формате возможна замена сегмента первой строки:
<br>
<br>
<br>cmps ES:строка_ 1, строка_2
<br>
<br>
<br>Рассматриваемые команды могут предваряться префиксами повторения repe/repz (повторять, пока элементы равны, т.е. до первого неравенства) и repne/repiiz (повторять, пока элементы не равны, т.е. до первого равенства). В любом случае выполняется не более СХ операций над последовательными элементами.
<br>После выполнения рассматриваемых команд регистры SI и DI указывают на ячейки памяти, находящиеся за теми (если DF=0) или перед теми (если DF=1) элементами строк, на которых закончились операции сравнения.
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных сегмента данных, адресуемого через DS:
<br>strl db &#039;FILE.001&#039; ;1-я строка
<br>;В полях данных сегмента данных, адресуемого через ES:
<br>str2 db &#039;FILE.012&#039; ;2-я строка
<br>;В программном сегменте:
<br>eld ;Сравнение вперед
<br>mov SI,offset strl ;DS:SI ® strl
<br>mov DI, off set str2 ;ES<img src="img/smilies/s5.gif" alt="">I ® str2
<br>mov CX,8 ;Длина сравниваемых строк
<br>repe cmpsb ;Поиск различия в строках
<br>je equal ;Переход, если строки
<br>;совпадают
<br>notequ: ;Продолжение, если строки
<br>;не совпадают
<br>
<br>
<br>В примере 1 строки не совпадают, и команда je выполнена не будет. После завершения сравнения строк управление будет передано на метку notequ. Содержимое регистров в этой точке: СХ=1 (так как не выполнено сравнение одной последней пары символов), SI = &lt;смещение strl&gt; + 7, DI = &lt;смещение strl&gt; + 7 (выполнено сравнение 7 пар символов).
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных сегмента данных, адресуемого через DS:
<br>strl db &#039;12345678*90&#039; ;1-я строка
<br>;В полях данных сегмента данных, адресуемого через ES:
<br>str2 db &#039; abcdefgh*ij&#039; ;2-я строка
<br>; В программном сегменте:
<br>cld ;Сравнение вперед
<br>mov SI,offset strl;DS:SI &#039; strl
<br>mov DI,offset str2;ES<img src="img/smilies/s5.gif" alt="">I &#039; str2
<br>mov CX,11 ;Длина сравниваемых строк
<br>repne cmpsb ;Поиск первой пары
<br>;одинаковых элементов
<br>jne notequ ;Переход, если таковой нет
<br>found: ;Продолжение, если пара
<br>;одинаковых элементов найдена
<br>
<br>В примере 2 имеется пара одинаковых элементов (*) в позиции 8 от начата строк. Поэтому команда jne выполнена не будет. После завершения сравнения строк управление будет передано на метку found. Содержимое регистров в этой точке: СХ=2 (так как не выполнено сравнение двух последних пар символов), SI = &lt;смещение strl&gt; + 9, DI = &lt;смешенис strl&gt; + 9 (выполнено сравнение 9 пар символов).
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных сегмента, адресуемого через ES:
<br>strl db &#039;09.12.1998&#039; ;1-я строка
<br>str2 db &#039;09.12.1998&#039; ;2-я строка
<br>;В программном сегменте:
<br>eld ;Сравнение вперед
<br>mov SI, off set strl ;DS:SI -&gt; strl
<br>mov DI,offset str2 ;ES<img src="img/smilies/s5.gif" alt="">I -&gt; str2
<br>mov CX,10 ;Длина сравниваемых строк
<br>repe cmps ES:str1,ES:str2 ;Поиск различия в строках
<br>je equal ; Переход, если строки
<br>;одинаковы
<br>notequal: ;Продолжение, строки
<br>;различаются
<br>
<br>
<br>В примере 3 строки одинаковы и после завершения сравнения управление будет передано на метку equal. Поскольку строки описаны с помощью директив db, фактически выполняется команда cmpsb, т.е. побайто вое сравнение.
<br>
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br> 
<br>
<br>386+ CMPSD Сравнение строк по двойным словам
<br>
<br>
<br>Команда аналогична командам МП 86 cmpsb и cmpsw, но позволяет сравнивать 32-битовые участки строк, адресуемых через регистры DS:ESI и ES:EDI (или, в 16-разрядных приложениях, через DS:SI и ES<img src="img/smilies/s5.gif" alt="">I). Использование мнемоники cinpsd с префиксом rep не означает, что в качестве счетчика будет автоматически использоваться расширенный регистр ЕСХ.
<br>
<br>Пример
<br>
<br>
<br>;В полях данных сегмента, адресуемого через DS
<br>areal dd 152345,168666,954333
<br>area2 dd 152345,168666,954331
<br>;B программном сегменте
<br>push DS
<br>pop ES ;ES=DS
<br>mov SI,offset areal ;DS:SI -&gt;areal
<br>mov DI,offset area2 ;ES<img src="img/smilies/s5.gif" alt="">I -&gt;area2
<br>mov CX,3 ;Будем сравнивать З числа
<br>repe cmpsd
<br>je equal
<br>
<br>В приведенном примере в строках (фактически это целочисленные массивы) различаются последние элементы, и команды jc выполнена не будет. 
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55282&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=22" class="addthx" data-post="55282"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:46 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
486+ CMPXCHG Сравнение и обмен
<br>
<br>Команда cmpxchg выполняет в одной операции сравнение и обмен операндов. Команда требует два параметра и неявным образом использует третий операнд - регистр ЕАХ. Первый операнд (приемник) должен находиться в 16- или 32-битовой ячейке памяти, второй операнд (источник) - в регистре общего назначения такого же размера. Команда выполняет сравнение операнда-приемника с содержимым неявного операнда - регистра ЕАХ. Если сравниваемые значения совпадают, операнд-приемник замещается операндом-источником (т.е. содержимое регистра записывается в память). Если сравниваемые значения не совпадают, содержимое памяти (приемник) поступает в регистр ЕАХ (рис. П1). Команда воздействует на флаги OF, SF, ZF, AF, PF и CF.
<br>
<br>
<br>
<br>Рис.П1. Действие команды cmpxchg
<br>
<br>Пример 1
<br>
<br>
<br>; В полях данных
<br>mem dw 135
<br>; В программном сегменте
<br>mov AX,135
<br>mov BX,60
<br>cmpxchg mem,BX ;mem=AX. Регистр ® память ;
<br>mem=60, BX=60, АХ=135
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных
<br>mem dw 135
<br>;В программном сегменте
<br>mov AX,148
<br>mov BX,60
<br>cmpxchg mem,BX ;mem&lt;&gt;AX. Память ® АХ
<br>;mem=135, BX=60, AX=148
<br>
<br> 
<br>
<br>Pentium+ CMPXCHG8B Сравнение и обмен 8 байтов
<br>
<br>
<br>Команда cmpxchgSb выполняет в одной операции сравнение и обмен 8-байтовых операндов. Команда требует один параметр и неявным образом использует еще два операнда - пары регистров EDX:EAX и ЕСХ:ЕВХ. В качестве явного операнда команды (приемника) может выступать только 64-битная (8-байтовая) ячейка памяти. Команда выполняет сравнение операнда-приемника в памяти с содержимым EDX:EAX. Если сравниваемые значения совпадают, то операнд-приемник в памяти замещается 64-битным значением ЕСХ:ЕВХ. Если сравниваемые значения не совпадают, содержимое памяти поступает в пару регистров EDXrEAX, замещая один из сравниваемых операндов (рис. П2). Команда воздействует на флаг ZF.
<br>
<br>
<br>
<br>Рис. П2. Действие команды cmpxchg8b
<br>
<br>
<br>Пример 1
<br>
<br>
<br>; В полях данных
<br>mem dq 1122334455667788h
<br>;В программном сегменте
<br>mov ЕСХ,9
<br>mov ЕВХ,5
<br>mov EDX,11223344h
<br>mov EAX,55667788h
<br>cmpxchgSb mem ;mem=EDX:EAX. ECX:EBX ® mem ;
<br>mem=0000000900000005h
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных
<br>mem dq 1122334455667788h
<br>;B программном сегменте
<br>mov ECX,9
<br>mov EBX,5
<br>mov EDX,11223344h
<br>mov EAX,55667789h
<br>cmpxchgSb mem ;memOEDX: EAX. Mem -&quot; EDX : EAX ;mem=1122334455667788h ;EDX=11223344h, EAX=55667788h
<br>
<br>При работе с многобайтовыми данными не следует забывать о том, что в памяти байты любых данных всегда выстраиваются в порядке их номеров, т.е. от младшим к все более старшим, в то время как при изображении чисел мы применяем обратный порядок - сначала пишем старшие разряды числа, затем младшие. В то же время символьные строки мы изображаем так же, как они располагаются в памяти - для нас естественно считать, что по мере движения по строке вправо номер символа возрастает.
<br>
<br>Пример 3
<br>
<br>
<br>; В полях данных
<br>meml db &#039;12345678&#039; ;Строка-операнд
<br>mem2 db &#039;12345678&#039; ;Сравниваемая строка
<br>;В программном сегменте
<br>mov ECX,68676665h ;&#039;efgh&#039;
<br>mov EBX,64636261h ;&#039;abcd&#039;
<br>mov EDX,dword ptr mem2+4 ;Забираем старшую
<br>;часть строки
<br>mov EAX,dword ptr mem2 ;Забираем младшую
<br>;часть строки
<br>cmpxchg8b gword ptr meml ;Операнды совпадают
<br>;ZF=1, mem1=&#039;&#039;abcdefgh&#039;&#039;
<br>;ECX:EBX без изменений
<br>;EDX:EAX без изменений
<br>
<br> 
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных
<br>meml db &#039;12345678&#039; ;Строка-операнд
<br>mem2 db &#039;abcdefgh&#039; ;Сравниваемая строка
<br>; В программном сегменте
<br>mov ECX,68676665h ;&#039;efgh&#039;
<br>mov EBX,64636261h ;&#039;abed&#039;
<br>mov EDX,dword ptr mem2+4 ;3абираем старшую
<br>;часть строки
<br>mov EAX,dword ptr mem2 ;Забираем младшую
<br>;часть строки
<br>cmpxchg8b qword ptm mem1 ;Операнды не совпадают
<br>;ZF=0, EDX=38373635=&#039;5678&#039;
<br>;EAX=34333231=&#039;1234&#039;
<br>;mem1s без изменения
<br>;При неравенстве ЕСХ:ЕВХ не принимают участие в операции
<br>
<br> 
<br>Pentium+ CPUID Идентификация процессора
<br>
<br>
<br>Команда cpuid позволяет получить код идентификации процессора, установленного на данном компьютере. Команда в качестве неявного операнда использует регистр ЕАХ. Для процессоров Pentium регистр ЕАХ перед вызовом команды cpuid может принимать два значения: 0 и 1. Если ЕАХ=0, то команда возвращает в регистре ЕАХ код 1, а в регистрах ЕВХ, EDX и ЕСХ (именно в таком порядке) - три части символьной строки, идентифицирующей изготовителя процессора. Для процессоров Intel возвращаемая строка в целом имеет вид &quot;Genumclatcl&quot;.
<br>Если перед вызовом команды cpuid значение ЕАХ равно 1, то команда возвращает в регистре ЕАХ коды разработки конкретной версии процессора, а в регистре EDX код IBFli, содержащий информацию о возможностях процессора.
<br>Коды разработки в регистре ЕАХ хранятся в следующем формате:
<br>
<br>
<br>биты 0 ... 3 - номер поколения (например, 3);
<br>
<br>биты 4 ... 7 - модель (например, 4);
<br>
<br>биты 8 ... 11 - семейство (5 для Pentium).
<br>
<br>
<br>Содержимое регистра EDX включает конфиденциальную информацию изготовителя, а также говорит о наличии на кристалле микропроцессора арифметического сопроцессора (бит 0) и поддержке команды cmpxchgSb (бит 8).
<br>
<br>Пример
<br>
<br>
<br>;В полях данных mem dd 0,0,0 ;В программном сегменте
<br>mov ЕАХ,О
<br>cpuid ;EAX=0001h
<br>mov mem, ЕВХ
<br>mov mem+4, EDX
<br>mov mem+8, ECX ;mem=&#039;Genuinelntel&#039;
<br>cpuid EAX=543h (например) ,EDX = lBFh
<br>
<br> 
<br>
<br>CWD Преобразование слова в двойное слово
<br>
<br>
<br>Команда cwd заполняет регистр DX знаковым битом содержимого регистра АХ, преобразуя тем самым 16-разрядное число со знаком в 32-разрядное, размещаемое в регистрах DX:AX. Команду удобно использовать для преобразования двухбайтового делимого в четырехбайтовое (двойное слово) при делении на 16-разрядный операнд. Команда не имеет параметров и не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,32767 ;AX=7FFFh
<br>cwd ;AX=7FFFh, DX=OOOOh.
<br>;DX:AX=32767
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,-32768 ;AX=8000h
<br>cwd ;AX=8000h, DX=FFFFh.
<br>;DX:AX=-32768
<br>
<br> 
<br>
<br>386+ CWDE Преобразование слова в двойное слово с расширением
<br>
<br>
<br>Команда cwde заполняет старшую половину регистра ЕАХ знаковым битом содержимого регистра АХ, преобразуя тем самым 16-разрядное число со знаком в 32-разрядное, размещаемое в расширенном регистре ЕАХ. Команда не имеет операндов и не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>; В полях данных
<br>mem dw - 3
<br>;В программном сегменте
<br>mov AX,mem ;AX=FFFD
<br>cwde ;EAX=FFFFFFFDh
<br>
<br> 
<br>
<br>DAA Десятичная коррекция в регистре AL после сложения
<br>
<br>Команда daa корректирует результат сложения в регистре AL двух упакованных двоично-десятичных (BCD) чисел (по одной цифре в каждом полубайте), чтобы получить пару правильных упакованных двоично-десятичных цифр. Команда используется вслед за операцией сложения упакованных двоично-десятичных чисел. Если результат сложения превышает 99, возникает перенос и устанавливается флаг CF. Команда воздействует на флаги SF, ZF, AF, PF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov AL,87h ;Упакованное BCD 87
<br>
<br>add AL,04h ;После сложения AL=8Bh
<br>
<br>daa ;AL=91h, т.е. упакованное BCD 91
<br>
<br>Пример 2
<br>
<br>
<br>mov AL,87h ;Упакованное BCD 87
<br>add AL,11h ;После сложения AL=97h
<br>daa ;AL=97h, т.е. упакованное
<br>;BCD 97 (в данном случае
<br>;команда daa ничего не делает)
<br>
<br> 
<br>
<br>DAS Десятичная коррекция в регистре AL после вычитания
<br>
<br>
<br>Команда das корректирует результат вычитания в регистре AL двух упакованных двоично-десятичных (BCD) чисел (по одной цифре в каждом полубайте), чтобы получить пару правильных упакованных десятичных цифр. Команда используется вслед за операцией вычитания упакованных двоично-десятичных чисел. Если для вычитания требовался заем, устанавливается флаг CF. Команда воздействует на флаги SF, ZF, AF, PF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov AL,55h ;Упакованное BCD 55
<br>
<br>sub AL,19h ;После вычитания AL=3Ch
<br>
<br>das ;AL=36h, т.е. упакованное BCD 36
<br>
<br>Пример 2
<br>
<br>
<br>mov AL,55h ;Упакованное BCD 55
<br>
<br>sub AL,15h ;После вычитания AL=40h
<br>
<br>das ;AL=40h, т.е. упакованное
<br>
<br>;BCD 40 (в данном случае
<br>
<br>;команда das ничего не делает)
<br>
<br> 
<br>
<br>DEC Декремент (уменьшение на 1)
<br>
<br>
<br>Команда dec вычитает 1 из операнда, в качестве которого можно указывать регистр (кроме сегментного) или ячейку памяти размером как в байт, так и в слово. Не допускается использовать в качестве операнда непосредственное значение. Операнд интерпретируется как число без знака. Команда воздействует на флаги OF, SF, ZF, AF и PF.
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,0FFFFh
<br>dec AX ;AX=FFFEh
<br>
<br>Пример 2
<br>
<br>
<br>mov CX,0
<br>dec CX ;CX=FFFFh
<br>
<br>Пример 3
<br>
<br>
<br>mov CX,3500h
<br>dec CL ;CX=35FFh
<br>
<br>Пример 4
<br>
<br>
<br>; В полях данных
<br>mem dw 68
<br>;B программном сегменте
<br>dec mem mem=67
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>mov EAX, 0
<br>dec EAX ;EAX=FFFFFFFFh
<br>
<br> 
<br>
<br>DIV Деление целых чисел без знака
<br>
<br>
<br>Команда div выполняет деление целого числа без знака, находящегося в регистрах АХ (в случае деления на байт) или DX:AX (в случае деления на слово), на операнд-источник (целое число без знака). Размер делимого в два раза больше размеров делителя и остатка.
<br>Для однобайтовых операций делимое помещается в регистр АХ; после выполнения операции частное записывается в регистр AL, остаток - в регистр АН.
<br>Для двухбайтовых операций делимое помещается в регистры DX:AX (в DX - старшая часть, в АХ - младшая); после выполнения операции частное записывается в регистр АХ, остаток - в регистр DX.
<br>В качестве операнда-делителя команды div можно указывать регистр (кроме сегментного) или ячейку памяти; не допускается деление на непосредственное значение. Если делитель равен 0, или если частное не помещается в назначенный регистр, возбуждается прерывание с вектором 0. Команда не воздействует на флаги процессора.
<br>Команду div можно использовать для целочисленного деления неупакованного двоично-десятичного числа в регистре АХ не неупакованный двоично-десятичный делитель, если перед ней выполнить команду aad (см. пример 3).
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,506 ;Делимое
<br>mov BL,50 ;Делитель
<br>div BL ;AL=0Ah (частное), AH=06h (остаток)
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных
<br>long dd 65537 ;Делимое
<br>;В программном сегменте
<br>mov DX,word ptr long+2 ;DX=0001h, старшая
<br>;часть делимого
<br>mov AX,word ptr long ;AX=0001h, младшая
<br>;часть делимого
<br>mov CX,256 ;Делитель
<br>div CX ;AX=0100h (частное),
<br>;DX=0001h (остаток)
<br>
<br>Пример З
<br>
<br>
<br>mov AX,0807h ;Неупакованное BC
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55283&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=23" class="addthx" data-post="55283"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:48 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
mov DL,09h ;Неупакованное BCD 9
<br>aad ;AX=0057h=87
<br>div DL ;AX=0609h, т.е. 9 и 6 в остатке
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров. При этом, если делитель представляет 32-битовую величину, то возможен только один вариант команды деления, когда делимое находится в парс регистров EDX:EAX. В этом случае частное будет помещено в регистр ЕАХ, остаток - в EDX.
<br>
<br>Пример
<br>
<br>
<br>mov ЕАХ, 0FFFFFFFh ;Младшая часть делимого
<br>mov EDX,0 ;Старшая часть делимого
<br>mov EBX,256 ;Делитель
<br>div EBX ;Частное в EAX=000FFFFFh,
<br>;Остаток в EDX=000000FFh
<br>
<br> 
<br>
<br>386+ ENTER Создание стекового кадра для параметров процедуры
<br>
<br>
<br>Команда enter, обычно являющаяся первой командой процедуры, выделяет заданный объем стекового пространства для локальных (автоматических) параметров процедуры, предоставляя процедуре указатель на выделенную область (в качестве такого указателя используется регистр ЕВР) и смещая указатель стека ESP так, чтобы он указывал на начало свободного стекового пространства. В результате процедура имеет возможность обращаться по ходу своего выполнения к своим локальным параметрам и, в то же время, пользоваться оставшимся пространством стека для временного сохранения в нем любых данных с помощью команд push и pop. Команда leave в конце процедуры выполняет обратные действия, возвращая стек в исходное состояние и уничтожая область локальных переменных. Локальными, как известно, называются как раз те переменные, которые существуют только в течение времени выполнения некоторой процедуры, и автоматически исчезают после се завершения.
<br>Команды enter и leave используются многими языками высокого уровня для управления доступом к локальным переменным вложенных процедур.
<br>Команда enter имеет два операнда. Первый (16-битовое непосредственное значение) определяет число байтов, выделяемых в стеке для локальных переменных. Для 32-разрядных приложений место в стеке выделяется двойными словами (по 4 байт), для 16-разрядных - словами (по 2 байт). Второй операнд (8-битовос непосредственное значение) задаст так называемый лексический уровень процедуры, характеризующий степень ее вложенности. В зависимости от значения лексического уровня, команда enter выполняется по-разному. При лексическом уровне, равном 0, реализуется невложенная форма команды enter. В этом случае после входа в процедуру (командой call) с сохранением в стеке адреса возврата, в стек заносится текущее содержимое регистра ЕВР, в ЕВР копируется текущее значение указателя стека, а указатель стека смещается на число байтов, заданное первым операндом команды enter . Создаваемая на сте-ке структура носит название стекового кадра, а регистр ЕВР выполняет в данном случае функцию указателя стекового кадра.
<br>
<br>Подпрограмма имеет возможность обращаться к своим локальным переменным по адресам ESP-4 и ESP-8 (для случая резервирования места под две переменные). Занеся в стек по этим адресам некоторые данные (полученные в качестве параметров вызова через регистры общего назначения или созданные самостоятельно) подпрограмма может затем многократно к ним обращаться, не боясь их затирания в процессе использования стека. Поскольку команда enter настроила указатель стека на область, находящуюся за пределами локальных переменных, программа может использовать команды push для сохранения в стеке временных данных.
<br>Команда leave, размещаемая в самом конце процедуры, перед завершающей командой ret, копирует содержимое ЕВР в ESP, освобождая (в логическом плане) область локальных переменных, и снимает со стека сохраненное там исходное содержимое ЕВР. После этого командой ret можно вернуться в вызывающую процедуру.
<br>Поскольку первый параметр команды enter имеет размерность слова, процедура в принципе имеет возможность зарезервировать в стеке для своих локальных переменных до 64 Кбайт стекового пространства.
<br>Лексические уровни, отличные от 0, используются в тех случаях, когда по правилам языка высокого уровня каждая вложенная процедура имеет право обращаться к локальным переменным всех вышележащих процедур, но не к процедурам, находящимся на параллельных с ней ветвях вложенности. Другими словами, область видимости переменных распространяется на все вложенные процедуры, но две подпрограммы, вызываемые из одной и той же (вышележащей) процедуры, &quot;не видят&quot; друг друга.
<br>В таких случаях главной процедуре назначается лексический уровень 1, все вызываемые из нее подпрограммы получают значение лексического уровня 2, подпрограммы, вызываемые из этих процедур, имеют уровень 3 и т.д. Команды enter при ненулевом значения второго параметра создают в стеке стековые кадры с более сложной структурой. Отличие такого стекового кадра от рассмотренного выше заключается в том, что в него, помимо области локальных переменных, входят также указатели стековых кадров всех вышележащих процедур. В результате любая подпрограмма может с помощью своего указателя (т.е. содержимого ESP) обратиться к собственных! переменным, а используя хранящиеся в стеке указатели кадров вышележащих процедур, &quot;дотянуться&quot; и до их локальных переменных. По-прежнему команды leave освобождают стек от стековых кадров вместе со всеми находящимися в них данными.
<br>
<br>Пример
<br>
<br>
<br>;Вызывающая процедура
<br>call subrl
<br>;Подпрограмма subrl
<br>subrl proc
<br>enter2048,0 ;Место под локальные данные
<br>. . . ;Работа с локальными данными
<br>leave
<br>ret
<br>
<br> 
<br>
<br>HLT Останов
<br>
<br>Команда hlt прекращает выполнение программы и переводит процессор в состояние останова. Работа процессора возобновляется после операции запуска, а также в случае прихода немаскируемого или разрешенного маскируемого прерываний.
<br>
<br> 
<br>
<br>IDIV Деление целых чисел со знаком
<br>
<br>
<br>Команда IDIV выполняет деление целого числа со знаком, находящегося в регистрах АХ (в случае деления на байт) или DX:AX (в случае деления на слово), на операнд-источник (целое число со знаком). Размер делимого в два раза больше размеров делителя и остатка. Оба результата рассматриваются как числа со знаком, причем знак остатка равен знаку делимого.
<br>Для однобайтовых операций делимое помещается в регистр АХ; после выполнения операции деления частное записывается в регистр AL, остаток - в регистр АН.
<br>Для двухбайтовых операций делимое помещается в регистры DX:AX (в DX - старшая часть, в АХ - младшая); после выполнения операции деления частное записывается в регистр АХ, остаток - в регистр DX.
<br>В качестве операнда-делителя команды idiv можно указывать регистр данных или ячейку памяти; не допускается деление на непосредственное значение. Если делитель равен 0, или если частное не помещается в назначенный регистр, возбуждается прерывание через вектор 0. Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,506 ;Делимое
<br>mov BL,50 ;Делитель
<br>idiv BL ;AL=0Ah (частное), AH=06h
<br>; (остаток)
<br>
<br>
<br>
<br>Рис.П3. Состояние стека после входа в подпрограмму и выполнения команды enter8,0(на рисунке адреса ячеек уменьшаются в низ)
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных
<br>long dd 0F0007h ;Делимое
<br>; В программном сегменте
<br>mov DX,word ptr long+2;DX=000Fh, старшая
<br>;часть делимого
<br>mov AX,word ptr long;AX=0007h, младшая
<br>;часть делимого
<br>mov CX,256 ;Делитель
<br>idiv СХ ;AX=0F00h (частное),
<br>;DX=0007h (остаток)
<br>Пример 3
<br>mov AX,-506 ;AX=FE06h, делимое
<br>mov BL,50 ;Делитель
<br>idiv BL ;AL=F6h (-10), AH=FAh (-6)
<br>
<br>Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров. При этом, если делитель представляет 32-битовую величину, то возможен только один вариант команды деления, когда делимое находится в парс регистров EDX:EAX. В этом случае частное будет помещено в регистр БАХ, остаток - в EDX.
<br>
<br>Пример
<br>
<br>
<br>; В полях данных
<br>dvd dq -100001 Делимое
<br>;B программном сегменте
<br>mov EAX,dword ptr dvd EAX=FFFE795Fh
<br>;(младшая часть делимого)
<br>mov EDX,dword ptr dvd+4 EDX=FFFFFFFFh (старшая
<br>;часть делимого)
<br>mov EBX,50 Делитель
<br>idiv EBX Частное в EAX=FFFFF830h=
<br>;-2000, остаток в EDX=FFFFFFFFh=-1
<br>
<br> 
<br>
<br>IMUL Умножение целых чисел со знаком
<br>
<br>
<br>Команда IMUL выполняет умножение целого числа со знаком, находящегося в регистре AL (в случае умножения на байт) или АХ (в случае умножения на слово), на операнд-источник (целое число со знаком). Размер произведения в два раза больше размера сомножителей.
<br>Для однобайтовых операций один из сомножителей помещается в регистр AL; после выполнения операции произведение записывается в регистр АХ.
<br>Для двухбайтовых операций один из сомножителей помещается в регистр АХ; после выполнения операции произведение записывается в регистры DX:AX (в DX - старшая часть, в АХ - младшая).
<br>В качестве операнда-сомножителя команды imul можно указывать регистр (кроме сегментного) или ячейку памяти; не допускается умножение на непосредственное значение. Команда воздействует на флаги OF и CF. Если АН или DX представляют собой просто знаковое расширение AL или АХ, соответственно (т.е. результат умножения со знаком верен), OF и CF сбрасываются в 0; в противном случае (результат со знаком не помещается в АХ или DX:AX) OF и CF устанавливаются в 1.
<br>
<br>Пример 1
<br>
<br>
<br>mov AL,5 ;Первый сомножитель
<br>mov BL,3 ;Второй сомножитель
<br>imul BL ;AX=000Fh (произведение)
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,256 ;Первый сомножитель
<br>mov BX,256 ;Второй сомножитель
<br>imul BX ;DX=0001h, AX=0000h
<br>;(число 65536)
<br>
<br>Пример 3
<br>
<br>
<br>mov AL,-5 ;AL=FBh
<br>mov BL,3 ;BL=03h
<br>imul BL ;AX-&#039;FFF1h (-15)
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров. Имеются также варианты команды с двумя и тремя операндами.
<br>
<br>
<br>Для команды imul с одним операндом второй сомножитель должен располагаться в AL, АХ или ЕАХ. Процессор выбирает размерность второго сомножителя, исходя из размерности первого, указанного в качестве операнда. 16-, 32- или 64-битовый знаковый результат помещается в регистры АХ, DX:AX или EDX:EAX, соответственно. Если после операции умножения содержимое АН, DX или EDX является лишь знаковым расширением AL, АХ или ЕАХ, соответственно, то флаги CF и OF сбрасываются в 0. В противном случае они устанавливаются в 1.
<br>Для команды imul с двумя операндами их произведение записывается в первый операнд; второй операнд не изменяется. В качестве первого операнда могут выступать 16- или 32-разрядные регистры общего назначения; в качестве второго
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55284&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=24" class="addthx" data-post="55284"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:50 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
в качестве второго операнда - 16- или 32-разрядные регистры общего назначения, 16- или 32-битовые ячейки памяти или непосредственное значение. Оба операнда должны иметь один размер. Если результат умножения помещается в первый операнд, флаги CF и OF сбрасываются в 0. В противном случае они устанавливаются в 1.
<br>Для команды imul с тремя операндами произведение второго и третьего операндов записывается в первый операнд. В качестве первого операнда могут выступать 16- или 32-разрядные регистры общего назначения; в качестве второго операнда - 16- или 32-разрядные регистры общего назначения или 16- или 32-битовые ячейки памяти; в качестве третьего операнда - только непосредственное значение. Два первых операнда должны иметь один размер. Если результат умножения помещается в первый операнд, флаги CF и OF сбрасываются в 0. В противном случае они устанавливаются в 1.
<br>
<br>Пример 1
<br>
<br>
<br>mov EAX,-1 ;Первый сомножитель
<br>mov ESI,100000000 ;Второй сомножитель
<br>imul ESI ;EDX=FFFFFFFFh,
<br>;EAX=FA0AlF00h
<br>;Результат=-100000000
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных
<br>ор2 dd 100h ;Первый сомножитель
<br>; В программном сегменте
<br>mov EAX,400000h ;Второй сомножитель
<br>imul EAX,op2 ;EAX=40000000h
<br>Пример 3
<br>mov BX,300h
<br>imul АХ,ВХ,4 ;AX=300h*4=0C00h
<br>
<br> 
<br>
<br>IN Ввод из порта
<br>
<br>
<br>Команда in вводит в регистр AL или АХ соответственно байт или слово из порта, указываемого вторым операндом. Адрес порта помещается в регистр DX. Если адрес порта не превышает 255, он может быть указан непосредственным значением. Указание регистра-приемника (AL или АХ) обязательно, хотя с другими регистрами команда in не работает, и их указывать нельзя. Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>in AL, 60h ;Ввод байта из порта 60h
<br>
<br>Пример 2
<br>
<br>
<br>mov DX,3D5h ;Адрес порта
<br>in AL,DX ;Ввод байта из порта 3D5h
<br>
<br> Допустимо использование в качестве операнда-приемника расширенного регистра ЕАХ (если адресуемое устройство позволяет прочитать из его порта двойное слово).
<br>
<br>Пример
<br>
<br>
<br>mov DX,345h ;Адрес порта
<br>in EAX,DX
<br>
<br> 
<br>
<br>INC Инкремент (увеличение на 1)
<br>
<br>
<br>Команда inc прибавляет 1 к операнду, в качестве которого можно указывать регистр (кроме сегментного) или ячейку памяти размером как в байт, так и в слово. Не допускается использовать в качестве операнда непосредственное значение. Операнд интерпретируется как число без знака. Команда воздействует на флаги OF, SF, ZF, AF и PF. Команда не воздействует на флаг CF; если требуется воздействие на этот флаг, необходимо использовать команду add op,l.
<br>
<br> 
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,0563h
<br>inc AX ;AX=0564h
<br>
<br>Пример 2
<br>
<br>
<br>mov BH,15h
<br>inc BH ;BH=16h
<br>
<br>Пример 3
<br>
<br>
<br>mov AX,A5FFh
<br>inc AL ;AX=A500h
<br>inc AH ;AX=A600h
<br>
<br>Пример 4
<br>
<br>
<br>mov AX,0FFFFh
<br>inc AX ;AX=0000h, ZF=1, CF=0
<br>;Для сравнения:
<br>mov CX,0FFFFh
<br>add CX,1 ;CX=0000h, ZF=1, CF=1
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>;В полях данных
<br>mem dd 12345678h
<br>; В программном сегменте
<br>inc mem ;mem=12345679h
<br>
<br> 
<br>
<br>NS Ввод строки из порта
<br>
<br>INSB Ввод байта из порта
<br>
<br>INSW Ввод слова из порта
<br>
<br>INSD Ввод двойного слова из порта
<br>
<br>
<br>Команды предназначены для ввода данных из порта непосредственно в память. Адрес порта указывается, как и для команды in, в регистре DX, при этом задание адреса порта непосредственным значением не допускается. Данные пересылаются по адресу, находящемуся в паре регистров ES:EDI. Замена сегмента не допускается. Команда insb переносит из порта 1 байт, команда insw - 1 слово, команда insd - 1 двойное слово, а команда ins может быть использована для передачи байтов, слов и двойных слов. В последнем случае размер загружаемого данного определяется описанием строки (с помощью директив db, dw или dd). После передачи данных регистр EDI получает положительное (если флаг DF=0) или отрицательное (если флаг DF=1) приращение. Величина приращения составляет 1, 2 или 4, в зависимости от размера передаваемых данных. Вариант команды ins имеет формат
<br>
<br>ins строка, DX
<br>
<br>(что не избавляет от необходимости инициализировать регистры ES:EDI адресом строки).
<br>Если устройство, адресуемое через порт, может передавать последовательность данных, то команды ins можно предварить префиксом повторения rep. В этом случае из порта принимается СХ элементов данных заданного размера.
<br>Команды ins не воздействуют на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>;В сегменте данных, адресуемых через DS
<br>mem dw 0
<br>;В программном сегменте
<br>push DS
<br>pop ES ;ES=DS
<br>mov DI,offset mem;ES<img src="img/smilies/s5.gif" alt="">I -&gt; mem
<br>mov DX,303h ;Адрес порта
<br>insw ;Ввод из порта 16-битового данного
<br>
<br> 
<br>
<br>INT Программное прерывание
<br>
<br>Команда hit инициирует в процессоре процедуру прерывания, в результате которой управление передается на обработчик прерывания с номером n, который указан в качестве операнда команды int. В стек текущей программы заносится содержимое регистра флагов, сегментного регистра CS и указателя команд IP, после чего в регистры IP и CS передается содержимое двух слов из вектора прерывания с номером n (расположенных по адресам 0:n*4 и 0:n*4+2). Команда сбрасывает флаги IF и TF в 0. Команда iret, которой всегда завершается обработчик прерывания, восстанавливает исходное состояние этих флагов.
<br>
<br>Пример 1
<br>
<br>
<br>int 60h ;Переход на прикладной
<br>;обработчик прерывания 60h
<br>
<br>Пример 2
<br>
<br>
<br>mov AH,1 ;Функция MS-DOS - ввод с
<br>;клавиатуры кода ASCII символа
<br>int 2h ;Вызов MS-DOS
<br>
<br>Пример 3
<br>
<br>
<br>mov АН, 0 ;Функция BIOS (прерывание
<br>;16h) - ввод с клавиатуры
<br>;кода ASCII и скен-кода символа
<br>int 16h ;Вызов BIOS
<br>
<br> 
<br>
<br>INTO Прерывание по переполнению
<br>
<br>
<br>Команда into, будучи установлена вслед за какой-либо арифметической, логической или строковой командой, вызывает обработчик прерываний через вектор 4, если предшествующая команда установила флаг переполнения OF. Перед использованием команды INTO прикладной программист должен поместить в вектор прерывания 4 двухсловный адрес своей программы обработки прерывания по переполнению. Команда сбрасывает флаги IF и TF в 0. Команда iret, которой всегда завершается обработчик прерывания, восстанавливает исходное состояние этих флагов.
<br>
<br>Пример
<br>
<br>
<br>add AX,BX ;Произвольная команда
<br>into ;Вызов прикладного
<br>;обработчика через вектор 4,
<br>;если OF=1
<br>... ;Продолжение программы, если OF=0
<br>
<br> 
<br>
<br>IRET Возврат из прерывания
<br>
<br>
<br>Команда iret возвращает управление прерванному в результате аппаратного или программного прерывания процессу. Команда извлекает из стека три верхние слова и помещает их в регистры IP, CS и флагов (см. команду int). Командой iret должен завершаться любой обработчик прерываний, как аппаратных, так и программных (от команды int). Команда не воздействует на флаги, однако она загружает в регистр флагов из стека его исходное содержимое, которое было там сохранено процессором в процессе обслуживания прерывания. Если требуется, чтобы после возврата из обработчика программного прерывания командой iret какие-либо флаги процессора были установлены требуемым образом (весьма распространенный прием), их установку надо выполнить в копии флагов в стеке.
<br>
<br> 
<br>
<br>386+ IRETD
<br>
<br>
<br>Возврат из прерывания в 32-разрядном режиме
<br>Команда iretd используется в защищенном режиме для возврата из обработчика прерывания или исключения, а также для переключения на исходную задачу. В отличие от 16-разрядной команды iret, данная команда, завершая обработку прерывания или исключения, снимает со стека 3 двойных слова, содержащие расширенный регистр флагов EFALGS, CS и расширенный указатель команд EIP. В случае переключения задач команда iretd выполняет переключение контекстов задач - сохранение состояния завершающейся задачи в ее сегменте состояния задачи и загрузку регистров процессора из сегмента состояния исходной задачи.
<br>
<br> 
<br>
<br>Jcc Команды условных переходов
<br>
<br>
<br>Команды, обозначаемые (в книгах, не в программах!) Jcc, осуществляют переход по указанному адресу при выполнении условия, заданного мнемоникой команды. Если заданное условие не выполняется, переход не осуществляется, а выполняется команда, следующая за командой Jcc. Переход может осуществляться как вперед, так и назад в диапазоне + 127...-128 байтов.
<br>В составе команд процессора предусмотрены следующие команды условных переходов:
<br>
<br>
<br>Команда Перейти, если Условие перехода
<br>ja выше CF=0 и ZF=0
<br>jae выше или равно CF=0
<br>jb ниже CF=1
<br>jbe ниже или равно CF=1 или ZF=1
<br>jc перенос CF=1
<br>jcxz CX=0 CX=0
<br>je равно ZF=1
<br>jg больше ZF=0 или SF=OF
<br>jge больше или равно SF=OF
<br>jl меньше SF не равно OF
<br>jle меньше или равно ZF=1 или SF не равно OF
<br>jna не выше CF=1 или ZF=1
<br>jnae не выше и не равно CF=1
<br>jnb не ниже CF=0
<br>jnbe не ниже и не равно CF=0 и ZF=0
<br>jnc нет переноса CF=0
<br>jne не равно ZF=0
<br>jng не больше ZF=1 или SF не равно OF
<br>jnge не больше и не равно SF не равно OF
<br>jnl не меньше SF=OF
<br>jnle не меньше и не равно ZF=0 и SF=OF
<br>jno нет переполнения OF=0
<br>jnp нет четности PF=0
<br>jns знаковый бит равен О SF=0
<br>jnz не нуль ZF=0
<br>jo переполнение OF=1
<br>jp есть четность PF=1
<br>jpe сумма битов четная PF=1
<br>jpo сумма битов нечетная PF=0
<br>js знаковый бит равен SF=1
<br>jz нуль ZF= I
<br>
<br>
<br>Команды условных переходов, осуществляющие переход по условию &quot;выше - ниже&quot;, предназначены для анализа чисел без знака; команды, осуществляющие переход по условию &quot;больше - меньше&quot;, предназначены для анализа чисел со знаком.
<br>
<br>Пример 1
<br>
<br>
<br>cmp СХ,0 ;CX=0?
<br>je equal ;Если да, перейти па метку equal
<br>
<br>Пример 2
<br>
<br>
<br>cmp AX,1000 ;Пусть AX=8000h=32768
<br>;(=-32768)
<br>ja above ;32768 &gt; 1000. Переход будет
<br>
<br>Пример 3
<br>
<br>
<br>cmp AX,1000h ;Пусть AX=8000h=-32768
<br>; (=32768)
<br>jg greater ;-32768 &lt; 1000h. Перехода не будет
<br>
<br>Пример 4
<br>
<br>
<br>int 21h ;Вызов системной функции
<br>jc error ;Если CF=1 (ошибка), перейти
<br>; на метку error
<br>
<br> Команды условных переходов имеют варианты 16- и 32-разрядной адресации (при тех же мнемонических обозначениях) и могут передавать управление в диапазоне -32768...+32767 байт для сегментов с атрибутом размера 16 и в диапазоне -231...+231-1 байт для сегментов с атрибутом размера 32.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55285&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=25" class="addthx" data-post="55285"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:52 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
JMP Безусловный переход
<br>
<br>Команда jmp передает управление в указанную точку того же или другого программного сегмента. Адрес возврата не сохраняется. Команда не воздействует на флаги процессора.
<br>Команда jmp имеет пять разновидностей:
<br>- переход прямой короткий (в пределах -128... + 127 байтов);
<br>- переход прямой ближний (в пределах текущего программного сегмента) ;
<br>- переход прямой дальний (в другой программный сегмент);
<br>- переход косвенный ближний;
<br>- переход косвенный дальний.
<br>Все разновидности переходов имеют одну и ту же мнемонику jmp, хотя и различающиеся коды операций. Во многих случаях транслятор может определить вид перехода по контексту, в тех же случаях, когда это невозможно, следует использовать атрибутные операторы:
<br>
<br>
<br>short - прямой короткий переход;
<br>
<br>near ptr - прямой ближний переход;
<br>
<br>far ptr - прямой дальний переход;
<br>
<br>word ptr - косвенный ближний переход;
<br>
<br>dword ptr - косвенный дальний переход.
<br>
<br>Примеры прямого короткого перехода
<br>
<br>
<br>jmp short shpt ;Переход на метку shpt
<br>;в пределах +127...-128 байтов
<br>jmp shpt ;To же самое, если shpt
<br>;находится выше по тексту программы
<br>
<br>Примеры прямого ближнего перехода
<br>
<br>
<br>jmp pt ;Переход на метку pt
<br>;в пределах текущего сегмента
<br>jmp near ptr pt ;To же самое
<br>
<br>Примеры косвенных ближних переходов
<br>
<br>
<br>Пример 1
<br>
<br>
<br>mov BX,offset pt ;ВХ=адрес точки перехода
<br>jmp BX ;Переход в точку pt
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных:
<br>addr dw pt ;Ячейка с адресом точки перехода
<br>;В программном сегменте:
<br>jmp DS:addr ;Переход в точку pt
<br>jmp word ptr addr ;To же самое
<br>
<br>Пример 3
<br>
<br>
<br>; В полях данных:
<br>addr dw pt ;Ячейка с адресом точки перехода
<br>;В программном сегменте:
<br>mov DI,offset addr ;В1=адрес ячейки с адресом
<br>;точки перехода
<br>jmp [DI] ;Переход в точку pt
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных:
<br>tbl dw ptl ;Ячейка с адресом 1
<br>dw pt2 ;Ячейка с адресом 2
<br>dw pt3 ;Ячейка с адресом 3
<br>;В программном сегменте:
<br>mov BX,offset tbl ;BX=aflpec таблицы адресов переходов
<br>mov SI, 4 ;31=смещение к адресу pt3
<br>call [BX][SI] ;Переход в точку pt3
<br>
<br>Примеры прямых дальних переходов
<br>
<br>
<br>jmp far ptr farpt ;Переход на метку farpt в
<br>;другом программном сегменте
<br>jmp farpt ;Переход на метку farpt в другом
<br>;программном сегменте, если farpt
<br>;объявлена дальней меткой
<br>;директивой farpt label far
<br>
<br>Примеры косвенных дальних переходов
<br>
<br>Пример 1
<br>
<br>
<br>; В полях данных:
<br>addr dd pt ;Поле с двухсловным
<br>;адресом точки перехода ;В программном сегменте:
<br>jmp DS:addr ;Переход в точку pt
<br>jmp dword ptr addr ;To же самое
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных:
<br>addr dd pt ;Поле с двухсловным
<br>;адресом точки перехода
<br>;В программном сегменте:
<br>mov DI,offset addr ;DI =адрес поля с адресом
<br>;точки перехода jmp [DI] ;Переход в точку pt
<br>
<br> Допустимо использование дополнительных режимов адресации 32-разрядных процессоров. Для 32-разрядных приложений допустимо использование 32-битовых операндов. В защищенном режиме вместо сегментного адреса сегмента (при дальних переходах) выступает его селектор.
<br>
<br> 
<br>
<br>LAHF Загрузка флагов в регистр АН
<br>
<br>
<br>Команда lahf копирует флаги SF, ZF, AF, PF и CF соответственно в разряды 7, 6, 4, 2 и 0 регистра АН. Значение битов 5, 3 и 1 регистра АН не определено. Команда не имеет параметров и не изменяет флаги процессора.
<br>Команда lahf (совместно с командой sahf) дает возможность читать и изменять значения флагов процессора, в том числе флагов SF, ZF, AF и PF, которые нельзя изменить непосредственно. Однако следует иметь в виду, что команда lahf переносит в АН только младший байт регистра флагов. Поэтому нельзя изменить с ее помощью, например, состояние флага OF.
<br>
<br>Пример 1
<br>
<br>
<br>lahf ;Регистр АН отображает
<br>;состояние регистра флагов
<br>or AH,80h ;Установка бита 7 = SF
<br>sahf ;Загрузка АН в регистр
<br>;флагов, где теперь SF = 1
<br>
<br>Пример 2
<br>
<br>
<br>lahf ;Регистр АН отображает
<br>;состояние регистра флагов
<br>and AH,0BFh ;Сброс бита 6 = ZF
<br>sahf ;Загрузка АН в регистр
<br>;флагов, где теперь ZF = О
<br>
<br> 
<br>
<br>386Р+ LAR Загрузка прав доступа
<br>
<br>
<br>Команда lar загружает в первый операнд (16- или 32-разрядный регистр) поле атрибутов сегмента из дескриптора сегмента, заданного селектором во втором операнде. В качестве операнда с селектором может использоваться 16- или 32-разрядный регистр или ячейка памяти. В операнд-приемник поступают два байта атрибутов селектора с замаскированным полем старших битов границы сегмента.
<br>
<br> 
<br>
<br>LDS Загрузка указателя с использованием регистра DS
<br>
<br>
<br>Команда Ids считывает из памяти по указанному адресу двойное слово (32 бит), содержащее указатель (полный адрес некоторой ячейки), и загружает младшую половину указателя (т.е. относительный адрес) в указанный в команде регистр, а старшую половину указателя (т.е. сегментный адрес) в регистр DS. Таким образом, команда
<br>
<br>Ids reg, mem
<br>
<br>эквивалентна следующей группе команд:
<br>
<br>mov reg,word ptr mem
<br>mov DS,word ptr mem+2
<br>
<br>В качестве первого операнда команды Ids указывается регистр общего назначения; в качестве второго - ячейка памяти с двухсловным содержимым. Указатель, содержащийся в этой ячейке, может быть адресом как процедуры, так и поля данных. Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>; В полях данных:
<br>addr dd myproc ;Двухсловный адрес процедуры
<br>;myproc
<br>;В программном сегменте:
<br>Ids SI,addr ;DS:SI -&gt; myproc
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных:
<br>mem dw 25 ;Ячейка памяти с
<br>; произвольным содержимым
<br>addr dd myproc ;Двухсловный адрес этой
<br>;ячейки
<br>;В программном сегменте:
<br>mov BX,offset addr ;ВХ=адрес ячейки addr
<br>Ids DX, [BX] ;DХ=смещение ячейки mem,
<br>;DS=сегментный адрес ячейки
<br>;mem
<br>
<br>Пример 3
<br>
<br>
<br>; В полях данных:
<br>dptr dd procl ;Полный адрес процедуры
<br>; р г о с 1
<br>dd proc2 ;Полный адрес процедуры
<br>;ргос2
<br>dd ргосЗ ;Полный адрес процедуры
<br>; р г о с 3
<br>;В программном сегменте:
<br>mov SI, 8 ; Смещение к адресу ргосЗ
<br>Ids DI,dptr[SI] ;DS<img src="img/smilies/s5.gif" alt="">I ® ргосЗ
<br>
<br> Допустимо использование 32-разрядного регистра-приемника и 32-битового смещения в памяти, а также дополнительных режимов адресации 32-разрядных процессоров. В защищенном режиме вместо сегментного адреса сегмента выступает его селектор.
<br>
<br> 
<br>
<br>LEA Загрузка исполнительного адреса
<br>
<br>
<br>Команда lea загружает в регистр, указанный в команде в качестве первого операнда, относительный адрес второго операнда (не значение операнда!). В качестве первого операнда следует указывать регистр общего назначения (не сегментный), в качестве второго - ячейку памяти. Команда
<br>
<br>lea reg,mem
<br>
<br>эквивалентна команде
<br>
<br>mov reg,offset mem
<br>
<br>но у первой команды больше возможностей описания адреса интересующей нас ячейки. Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>; В полях данных:
<br>message db ; &#039;Идут измерения&#039;
<br>;В программном сегменте:
<br>lea SI,message ;DS:SI -&gt; message
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных:
<br>nmb db &#039;0123456789&#039;
<br>;В программном сегменте:
<br>mov SI,7 ;Смещение символа &#039;7&#039;
<br>lea DX,nmb[SI] ;ВХ=адрес символа &#039;7&#039;
<br>
<br>Пример 3
<br>
<br>
<br>; В полях данных:
<br>nmb db &#039;0123456789&#039;
<br>;В программном сегменте:
<br>mov BX, off set msg
<br>mov SI, 9 ;Смещение символа &#039;9&#039;
<br>lea SI, [BX] [SI] ;31=адрес символа &#039;9&#039;
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>
<br>386+ LEAVE Выход из процедуры высокого уровня
<br>
<br>Команда leave выполняет действия, противоположные действиям последней команды enter. Она логически уничтожает созданный командой enter стековый кадр со всеми содержащимися в нем локальными переменными и подготавливает стек к выполнению команды irct, завершающей переход в вызывающую процедуру. Команда leave не имеет параметров. Более подробное описание и пример см. в описании команды enter.
<br>
<br> 
<br>
<br>LES Загрузка указателя с использованием регистра ES
<br>
<br>
<br>Команда les считывает из памяти по указанному адресу двойное слово (32 бит), содержащее указатель (полный адрес некоторой ячейки), и загружает младшую половину указателя (т.е. относительный адрес) в указанный в команде регистр, а старшую половину указателя (т.е. сегментный адрес) в регистр ES. Таким образом, команда
<br>
<br>les reg,mem
<br>
<br>эквивалентна следующей группе команд:
<br>
<br>mov reg,word ptr mem
<br>
<br> mov ES,word ptr mem+2
<br>
<br>В качестве первого операнда команды les указывается регистр общего назначения; в качестве второго - ячейка памяти с двухсловным содержимым. Указатель, содержащийся в этой ячейке, может быть адресом как процедуры, так и поля данных. Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных:
<br>addr dd myproc ;Двухсловный адрес процедуры
<br>;myproc
<br>;В программном сегменте:
<br>les SI,addr ;ES:SI ® myproc
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных:
<br>mem dw 25 ;Ячейка памяти с
<br>;произвольным содержимым
<br>addr dd myproc ;Двухсловный адрес этой ячейки
<br>;В программном сегменте:
<br>mov BX,offset addr ;ВХ=адрес ячейки addr
<br>…
<br>les DX, [BX] ; DХ=смещение ячейки mem,
<br>;ЕS=сегментный адрес ячейки mem
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных:
<br>dptr dd procl ;Полный адрес процедуры prod
<br>dd proc2 ;Полный адрес процедуры ргос2
<br>dd ргосЗ ;Полный адрес процедуры ргосЗ
<br>;В программном сегменте:
<br>mov SI, 8 ;Смещение к адресу ргосЗ
<br>les DI,dptr[SI] ;ES<img src="img/smilies/s5.gif" alt="">I -&gt; ргосЗ
<br>
<br> Допустимо использование 32-разрядного регистра-приемника и 32-битового смещения в памяти, а также дополнительных режимов адресации 32-разрядных процессоров. В защищенном режиме вместо сегментного адреса сегмента выступает его селектор.
<br>
<br>
<br>LFS Загрузка указателя с использованием регистра FS
<br>
<br>LGS Загрузка указателя с использованием регистра FS
<br>
<br>LSS Загрузка указателя с использованием регистра FS
<br>
<br>
<br>Команды считывают из памяти полный указатель, состоящий из селектора и 16-битового или 32-битового смещения, и загружают младшую половину указателя (т.е. относительный адрес) в указанный в команде регистр общего назначения, а старшую половину указателя (т.е. селектор) в сегментный регистр, указанный в мнемонике команды.
<br>В качестве первого операнда всех перечисленных команд указывается 16- или 32-разрядный регистр общего назначения; в качестве второго - ячейка памяти с 32- или 48-битовым содержимым. Команда не воздействует на флаги процессора.
<br>Примеры см. в описании команд Ids и les.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55286&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=26" class="addthx" data-post="55286"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:53 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
86Р+ LGDT Загрузка регистра таблицы глобальных дескрипторов
<br>
<br>Команда Igdt загружает регистр таблицы глобальных дескрипторов (GDTR) из 48-битового псевдодескриптора, содержащего 32-битовый базовый адрес и 16-битовую границу таблицы глобальных дескрипторов, находящейся в памяти. В качестве операнда команды Igdt выступает относительный адрес псевдодескриптора.
<br>
<br> 
<br>
<br>386Р+ LIDT Загрузка регистра таблицы дескрипторов прерываний
<br>
<br>
<br>Команда lidt загружает регистр таблицы дескрипторов прерываний (IDTR) из 48-битового псевдодескриптора, содержащего 32-битовый базовый адрес и 16-битовую границу таблицы дескрипторов прерываний, находящейся в памяти. В качестве операнда команды lidt выступает относительный адрес псевдодескриптора.
<br>
<br> 
<br>
<br>386Р+ LLDT Загрузка регистра таблицы локальных дескрипторов
<br>
<br>
<br>Команда lldt загружает регистр таблицы локальных дескрипторов (LDTR) селектором, определяющим таблицу локальных дескрипторов (LDT). Селектор LDT должен входить в таблицу глобальных дескрипторов. В качестве операнда команды lldt, содержащего селектор LDT, можно использовать 16- или 32-разрядный регистр общего назначения или 16-или 32-битовое поле памяти.
<br>
<br> 
<br>
<br>386Р+ LMSW Загрузка слова состояния машины
<br>
<br>
<br>Команда Imsw загружает в регистр слова состояния машины (так называется младшая половина управляющего регистра процессора CRO) слово состояния машины, взятое из указанного в команде операнда. В качестве операнда можно использовать 16- или 32-разрядный регистр общего назначения или 16- или 32-битовое поле памяти.
<br>Команду Imsw можно использовать для перевода процессора из реального в защищенный режим или наоборот. В первом случае после чтения слова состояния командой smsw надо установить в нем бит 0 (бит РЕ) и загрузить назад в CRO командой Imsw. Во втором случае после после чтения слова состояния командой smsw надо сбросить в нем бит 0 и загрузить назад в CRO командой Imsw.
<br>
<br>
<br>LOCK Запирание шины
<br>
<br>Префикс lock, помещенный перед командой, устанавливает сигнал на линии LOCK системной шины и запрещает доступ к шине другим процессорам на время выполнения данной команды. Этот префикс предназначен для использования в многопроцессорных многозадачных системах для обеспечения исключительного доступа к памяти данного процесса (и данного процессора) на время проверки или модификации некоторой ячейки памяти. Типичный пример операций такого рода - работа с семафорами.
<br>Если два (или более) процесса, идущие на разных процессорах, используют какой-либо общий ресурс, например, файл или лазерный диск, то необходимо обеспечить механизм, запрещающий одновременное обращение процессов к общему ресурсу. Эта задача решается с помощью семафора - ячейки памяти (байта или даже бита), состояние которого отражает доступность или, наоборот, занятость ресурса.
<br>Если процессору понадобился общий ресурс, он читает состояние семафора и, если ресурс занят, продолжает опрашивать семафор до тех пор, пока другой процессор, использующий в настоящий момент общий ресурс, не освободит его. Обнаружив, что ресурс свободен, первый процессор устанавливает семафор в состояние &quot;занят&quot; и использует ресурс. Закончив работу с ресурсом, процессор сбрасывает его семафор и дает возможность другому процессу обратиться к тому же ресурсу.
<br>Описанный алгоритм будет работать только в том случае, если операция чтения- модификации- записи семафора будет выполняться в непрерываемом режиме. В противном случае оба процесса могут, одновременно обратившись к семафору, увидеть, что ресурс свободен, и начать его совместное использование. Избежать такой ситуации и позволяет префикс lock в сочетании с командами типа btr или bts, выполняющими комплексные операции проверки и сброса или проверки и установки бита.
<br>Будем считать, что семафор расположен в бите 0 байта по адресу sem, причем сброшенное состояние бита свидетельствует о занятости ресурса, а установленное состояние о том, что ресурс свободен. Тогда типичная процедура ожидания освобождения ресурса выглядит следующим образом:
<br>
<br>mov SI,offset sem ;Адрес байта с семафором
<br>getsem:
<br>lock btr byte ptr [SI],1 ;Проверка и сброс бита 0
<br>jnc getsem
<br>
<br>Проверка состояния семафора и его модификация (запись в бит семафора 0, т.е. признака &quot;занят&quot;) осуществляется в одной команде btr. На время выполнения этой команды шина многопроцессорной системы блокируется префиксом lock, и другой процессор обратиться к тому же семафору не может. Блокировка шины снимается уже после того, как семафор будет переведен в состояние занятости.
<br>Если при обращении к байту sem оказывается, что в битс семафора записан 0, т.е. ресурс занят другим процессом, команда btr сбрасывает флаг CF (путем переноса в него содержимого анализируемого бита), что приводит к многократному повторению процедуры getsem, т.е. к циклу ожидания освобождения ресурса.
<br>Типичная процедура освобождения занятого данным процессом ресурса выглядит следующим образом:
<br>
<br>freesem:
<br>lock bts byte ptr [SI],1 ;Проверка и установка бита 0
<br>
<br>Собственно говоря, никакая проверка здесь не выполняется, однако процесс будет освобождать ресурс лишь если он этот ресурс использует, и проверять состояние флага в этой операции нет необходимости. Однако и здесь необходимо запирание шины на время записи в бит семафора 1, чтобы исключить одновременное обращение двух процессов к одной ячейке памяти.
<br>386+ Префикс lock может быть использован только со следующими командами (и лишь при условии, что при их выполнении происходит обращение к памяти): adc, add, and, bt, bts, btr, btc, or, sbb, sub, xor, xchg, dec, inc, neg, not.
<br>
<br> 
<br>
<br>LODS Загрузка операнда из строки
<br>
<br>LODSB Загрузка байта из строки
<br>
<br>LODSW Загрузка слова из строки
<br>
<br>
<br>Команды предназначены для операций над строками (строкой называется последовательность байтов или слов памяти с любым содержимым). Они загружают в регистр AL (в случае операций над байтами) или АХ (в случае операций над словами) содержимое ячейки памяти по адресу, находящемуся в паре регистров DS:SI. Команда lodsb загружает 1 байт, команда lodsw - 1 слово, а команда lods может быть использована для загрузки как байтов, так и слов. В последнем случае размер загружаемого данного определяется описанием строки (с помощью директив db или dw). После операции загрузки регистр SI получает положительное (если флаг DF=0) или отрицательное (если флаг DF=1) приращение. Величина приращения составляет 1 или 2, в зависимости от размера загружаемого элемента. Команда не имеет параметров и не воздействует на флаги процессора.
<br>Вариант команды lods имеет формат
<br>
<br>lods строка
<br>
<br>(что не избавляет от необходимости инициализировать регистры DS:SI адресом строки). В этом формате возможна замена сегмента строки строка:
<br>
<br>lods ES:строка
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных сегмента данных, адресуемого через DS:
<br>str db &#039;qwertyuiop&#039;
<br>; В программном сегменте:
<br>сld ;Двигаемся по строке вперед
<br>mov SI, off set str ;Адрес строки
<br>add SI,BX ;Добавим смещение (пусть ВХ=4)
<br>lodsb ;AL=&#039;t&#039;, SI -&gt; &#039;у&#039;
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных сегмента данных, адресуемого через ES:
<br>str db &#039;qwertyuiop&#039;
<br>;В программном сегменте:
<br>сld ;Двигаемся по строке вперед
<br>mov SI,offset str ;Адрес строки
<br>lodsbES:str ;AL=&#039;q&#039;, ES:SI -&gt; &#039;w&#039;
<br>
<br> 
<br>
<br>386+ LODSD Загрузка двойного слова из строки
<br>
<br>Команда аналогична командам МП 86 lodb и lodsw, но позволяет загрузить из строки, адресуемой через регистры DS:ESI (DS:SI для 16-разрядных приложений), двойное слово в регистр ЕАХ.
<br>
<br>Пример
<br>
<br>
<br>; В полях данных
<br>dat dd 12789,200000,550000,8000000
<br>;В программном сегменте
<br>mov SI,offset dat
<br>add SI, 4*3 ;DS:SI -&gt; 4-й элемент массива чисел
<br>lodsd ;EAX=8000000
<br>
<br> 
<br>
<br>LOOP Циклическое выполнение, пока содержимое СХ не равно нулю
<br>
<br>
<br>Команда loop выполняет декремент содержимого регистра СХ, и если оно не равно 0, осуществляет переход на указанную метку вперед или назад в том же программном сегменте в диапазоне -128... + 127 байт. Обычно метка помещается перед первым предложением тела цикла, а команда loop является последней командой цикла. Содержимое регистра СХ рассматривается как целое число без знака, поэтому максимальное число повторений группы включенных в цикл команд составляет 65536 (если перед входом в цикл СХ=0). Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных:
<br>array dw 4096 dup (?) ;Массив из 4096 слов
<br>;В программном сегменте:
<br>lea BX,array ;ВХ -&gt; array
<br>xor SI,SI ;SI=0
<br>mov CX,4096 ;Счетчик повторений
<br>mov AX,1 ;Число-заполнитель
<br>array: mov [BX] [SI],AX ;Очистка элемента массива
<br>inc SI ;Сдвиг к следующему
<br>inc SI ;слову массива
<br>loop array ;Повторить СХ раз
<br>
<br>Пример 2
<br>
<br>
<br>mov CX,20
<br>delay :loop delay ;Небольшая задержка
<br>
<br> При использовании в качестве счетчика расширенного регистра ЕСХ максимальное число шагов в цикле увеличивается до 232. Для того чтобы в 16-разрядном приложении процессор при выполнении команды loop использовал не 16-разрядный регистр СХ, а 32-разрядный регистр ЕСХ, перед командой loop необходимо указать префикс замены размера адреса 67h.
<br>
<br>Пример
<br>
<br>
<br>mov ЕСХ,О
<br>zzzz: db 67h ;Префикс замены размера адреса
<br>loop zzzz ;Цикл из 232: шагов, реализующий
<br>;программную задержку порядка минут
<br>
<br> 
<br>
<br>LOOPE/LOOPZ Циклическое выполнение, пока равно/циклическое выполнение, пока нуль
<br>
<br>
<br>Оба обозначения представляют собой синонимы и относятся к одной команде. Команда выполняет декремент содержимого регистра СХ, и если оно не равно 0, и флаг ZF установлен, осуществляет переход на указанную метку вперед или назад в том же программном сегменте в диапазоне -128...+127 байтов. Содержимое регистра СХ рассматривается как целое число без знака, поэтому максимальное число повторений группы включенных в цикл команд составляет 65536. Команда не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>;В полях данных, адресуемых через DS:
<br>command db 80 dup (&#039; &#039;)
<br>;В программном сегменте:
<br>. . . ;Копирование в поле command строки,
<br>;содержимое которой следует анализировать
<br>lea SI, command ;Настроим DS:SI
<br>сld ;Обработка вперед
<br>mov CX,80 ;Обрабатывать не более 80
<br>;байтов
<br>pass: lodsb ;Загрузим в AL очередной
<br>;символ
<br>сmр АL, &#039; &#039; ;Пропустим все пробелы в
<br>loopepass ;начале строки
<br>dec SI ;Сдвиг на 1 символ назад
<br>;DS:SI -&gt; первый
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55287&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=27" class="addthx" data-post="55287"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:55 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
;DS:SI -&gt; первый символ, отличный от пробела
<br>
<br> При использовании в качестве счетчика расширенного регистра ЕСХ максимальное число шагов в цикле увеличивается до 232. Для того, чтобы в 16-разрядном приложении процессор при выполнении команд loope/loopz использовал не 16-разрядный регистр СХ, а 32-разрядный регистр ЕСХ, перед командами loope/loopz необходимо указать префикс замены размера адреса 67h.
<br>
<br>Пример
<br>
<br>
<br>mov ЕСХ, 1000000 ;Предельное число шагов
<br>хххх: ... ;Тело цикла
<br>db 67h
<br>loopexxxx
<br>
<br> 
<br>
<br>LOOPNE/LOOPNZ Циклическое выполнение, пока не равно/циклическое выполнение, пока не нуль
<br>
<br>
<br>Оба обозначения представляют собой синонимы и относятся к одной команде. Команда выполняет декремент содержимого регистра СХ, и если оно не равно 0, и флаг ZF сброшен, осуществляет переход на указанную метку вперед или назад в том же программном сегменте в диапазоне -128... + 127 байтов. Содержимое регистра СХ рассматривается как целое число без знака, поэтому максимальное число повторений группы включенных в цикл команд составляет 65536. Команда не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>;В полях данных:
<br>command db 80 dup (0)
<br>;В программном сегменте:
<br>. . . ;Копирование в поле command строки,
<br>; содержимое которой следует анализировать
<br>lea SI,command ;Настроим DS:SI
<br>cld ;Обработка вперед
<br>mov CX,80 ;Обрабатывать не более 80
<br>;байтов
<br>slash: lodsb ;Загрузим в AL очередной символ
<br>cmp AL, &#039; / &#039; ;Ищем знак &#039; / &#039;
<br>loopne slash ;во всей строке
<br>;DS:SI -&gt; первый символ за знаком &#039;/&#039;
<br>
<br> При использовании в качестве счетчика расширенного регистра ЕСХ максимальное число шагов в цикле увеличивается до 232. Для того чтобы в 16-разрядном приложении процессор при выполнении команд loopne/loopnz использовал не 16-разрядный регистр СХ, а 32-разрядный регистр ЕСХ, перед командами loopne/loopnz необходимо указать префикс замены размера адреса 67h.
<br>
<br>Пример
<br>
<br>
<br>mov ЕСХ,1000000 ;Предельное число шагов
<br>хххх: . . . ;Тело цикла
<br>db 67h
<br>loopne xxxx
<br>
<br> 
<br>
<br>386Р+ LSL Загрузка границы сегмента
<br>
<br>
<br>Команда Isl загружает в первый операнд границу сегмента из дескриптора сегмента, заданного селектором во втором операнде.
<br>В качестве первого операнда команды Isl можно использовать 16- или 32-разрядный регистр общего назначения; в качестве второго - 16- или 32-разрядный регистр общего назначения или 16- или 32-битовое поле памяти.
<br>
<br> 
<br>386Р+ LTR Загрузка регистра задачи TR
<br>
<br>Команда Itr загружает регистр задачи TR селектором сегмента состояния задачи TSS из второго операнда, в качестве которого можно использовать 16- или 32-разрядный регистр общего назначения или 16- или 32-битовое поле памяти. Команда используется в защищенном режиме, если программный комплекс выполнен в виде нескольких самостоятельных задач, и переключения между ними осуществляются с использованием включенных в процессор аппаратных средств поддержки многозадачности.
<br>
<br> 
<br>
<br>MOV Пересылка данных
<br>
<br>
<br>Команда mov замещает первый операнд (приемник) вторым (источником). При этом исходное значение первого операнда теряется. Второй операнд не изменяется. В зависимости от описания операндов, пересылается слово или байт. Если операнды описаны по-разному или режим адресации не позволяет однозначно определить размер операнда, для уточнения размера передаваемых данных в команду следует включить один из атрибутных операторов byte ptr или word ptr. Команда не воздействует на флаги процессора. В зависимости от используемых режимов адресации, команда mov может осуществлять пересылки следующих видов:
<br>- из регистра общего назначения в регистр общего назначения;
<br>- из регистра общего назначения в ячейку памяти;
<br>- из регистра общего назначения в сегментные регистры DS, ES и SS;
<br>- из ячейки памяти в регистр общего назначения;
<br>- из ячейки памяти в сегментный регистр;
<br>- из сегментного регистра в регистр общего назначения;
<br>- из сегментного регистра в ячейку памяти;
<br>- непосредственный операнд в регистр общего назначения;
<br>- непосредственный операнд в ячейку памяти.
<br>Запрещены пересылки из ячейки памяти в ячейку памяти (для этого предусмотрена команда movs), а также загрузка сегментного регистра непосредственным значением, которое, таким образом, приходится загружать через регистр общего назначения:
<br>
<br>mov AX,seg mem ;Сегментный адрес ячейки mem
<br>mov DS,AX ;Загрузка его в регистр DS
<br>
<br>Нельзя также непосредственно переслать содержимое одного сегментного регистра в другой. Такого рода операции удобно выполнять с использованием стека:
<br>
<br>push DS
<br>pop ES ; DS копируется в ES
<br>
<br>Примеры
<br>
<br>
<br>;В полях данных:
<br>memb db 5,6
<br>memd dd 0 ;Двухсловная ячейка
<br>;В программном сегменте:
<br>mov DX,AX ;Из регистра в регистр
<br>mov AL,memb ;Из памяти в регистр
<br>mov AX,0B800h ;Непосредственное значение в
<br>;регистр
<br>mov ES,AX ;Из регистра в сегментный
<br>;регистр
<br>mov word ptr memd+2,ES ;Из сегментного
<br>;регистра в память
<br>mov word ptr memd, 2000;Непосредственное
<br>;значение в память
<br>mov BX,word ptr memb ;Слово из памяти в
<br>;регистр (число 0605)
<br>mov DI,word ptr memd ;Слово из памяти в
<br>;регистр
<br>mov ES,word ptr memd+2;Слово из памяти в
<br>;сегментный регистр
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример 1
<br>
<br>
<br>mov EAX,ESI
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных
<br>mem dd 0
<br>;В программном сегменте
<br>mov mem,EBP
<br>
<br> 
<br>
<br>386Р+ MOV Пересылка в&#92;из специальных регистров
<br>
<br>
<br>Этот вариант команды mov (с той же мнемоникой, но другими кодами операций) используется в защищенном режиме и предназначен для обмена данными со специальными регистрами процессора: управляющими CRO...CR3, тестирования TR6 и TR7, а также регистрами отладки DRO...DR7. Один из операндов команды mov должен быть 32-разрядным регистром общего назначения, другим - один из специальных регистров процессора.
<br>
<br> 
<br>
<br>MOVS Пересылка данных из строки в строку
<br>
<br>MOVSB Пересылка байта данных из строки в строку
<br>
<br>MOVSW Пересылка слова данных из строки в строку
<br>
<br>
<br>Команды предназначены для операций над строками (строкой называется последовательность байтов или слов памяти с любым содержимым). Они пересылают по одному элементу строки, который может быть байтом или словом. Первый операнд (приемник) адресуется через ES<img src="img/smilies/s5.gif" alt="">I, второй (источник) - через DS:SI. Операцию пересылки можно условно изобразить следующим образом:
<br>
<br>(DS:SI) -&gt; (ES<img src="img/smilies/s5.gif" alt="">I)
<br>
<br>После каждой операции пересылки регистры SI и DI получают положительное (если флаг DF=0) или отрицательное (если флаг DF=1) приращение. Величина приращения составляет 1 или 2 в зависимости от размера пересылаемых элементов. Вариант команды movs имеет формат:
<br>
<br>movs строка_1, строка_2
<br>
<br>В этом случае байты или слова из строки строка_2 пересылаются на место строки строка_]. Размер пересылаемых элементов определяется описанием строк (с помощью директив db или dw). Это не избавляет от необходимости инициализировать регистры ES<img src="img/smilies/s5.gif" alt="">I и DS:SI адресами строк строка _1 и строка_2. В этом формате возможна замена сегмента второй строки (источника):
<br>
<br>movs строка_1, ES:строка_2
<br>
<br>Рассматриваемые команды могут предваряться префиксом повторения rep (повторять СХ раз). После выполнения рассматриваемых команд регистры SI и DI указывают на ячейки памяти, находящиеся за теми (если DF=0) или перед теми (если DF=1) элементами строк, на которых закончились операции пересылки. Если флаг DF сброшен, то пары регистров DS:SI и ES<img src="img/smilies/s5.gif" alt="">I следует инициализировать начальными адресами строк-операндов; строка-источник будет пересылаться от се начала, в порядке возрастания номеров ее байтов. Если флаг DF установлен, то пары регистров DS:SI и ES<img src="img/smilies/s5.gif" alt="">I следует инициализировать конечными адресами строк-операндов; строка-источник будет пересылаться от ее конца, в порядке уменьшения номеров ее байтов. Команды не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных основного сегмента данных,
<br>;адресуемого через DS:
<br>txt db &#039;Урок 1&#039; ;Пересылаемая строка
<br>txt_len equ S-txt ;Ee длина
<br>;В &#039;полях данных дополнительного сегмента данных,
<br>;адресуемого через ES :
<br>string db 80 dup (&#039; &#039;)
<br>;В программном сегменте:
<br>lea SI,txt ;DS:SI -&gt; txt
<br>lea DI,string+10.;ES<img src="img/smilies/s5.gif" alt="">I -&gt; string+10
<br>сld ;Движение по строке вперед
<br>mov CX,txt_len ;Столько байтов переслать
<br>rep movsb ;Пересылка
<br>
<br>Пример 2
<br>
<br>
<br>;В полях данных сегмента данных, адресуемого через DS:
<br>txt db &#039;А&#039;,84h, &#039;В&#039;,84h, &#039;A&#039;,84h, &#039;P&#039;,
<br>db 84h,&#039;И&#039;,84h,&#039;Я&#039;,84h,&#039;!&#039;,84h
<br>txt_len=&#036;-txt ;B программном сегменте:
<br>mov AX,0B800h ;Сегментный адрес видеобуфера
<br>mov ES,AX ;Инициализируем ES
<br>;Выведем на экран текст
<br>mov DI,1672 ;Смещение к середине экрана
<br>lea SI,txt ;DS:SI ® txt
<br>сld ;Движение по строке вперед
<br>mov CX,txt_len/2 ;Столько слов переслать
<br>rep movsw ;Пересылка в середину экрана
<br>;красной мерцающей (атрибут
<br>;84h) надписи &#039;АВАРИЯ!&#039;
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных сегмента данных, адресуемого через DS:
<br>datal dw 10000 dup(&#039;) ;Массив произвольных данных
<br>data2 dw 5000 dup(&#039;) ;Массив-приемник
<br>;В программном сегменте
<br>push DS ;Настроим
<br>pop ES ;ES на тот же сегмент данных
<br>mov SI,offset datal;SI -&gt; datal
<br>add SI,5000 ;Сместим SI к середине
<br>;массива
<br>mov DI,offset data2;DI -&gt; data2
<br>mov CX,2500 ;Размер половины массива (в
<br>;словах)
<br>сld ;Движение вперед
<br>rep movsw ;Перешлем вторую половину
<br>;массива datal на место data2
<br>
<br>Пример 4
<br>
<br>
<br>;В полях данных сегмента, адресуемого через DS
<br>file db &#039;MYFILE.01.DAT1,0 ;Строка-источник
<br>fname db 128 dup(?) ;Строка-приемник
<br>;В программном сегменте
<br>push DS
<br>pop ES ;Теперь ES=DS
<br>mov SI,offset file;DS:SI -&gt; strl
<br>mov SI,128 ;Максимальная длина имени
<br>;файла
<br>сld ;Движение по строке вперед
<br>null: lodsb ;Загрузим в AL очередной
<br>; символ
<br>cmp AL, 0 ;Ищем 0 в конце имени файла
<br>loopne null
<br>;DS:SI ® Первый символ
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55288&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=28" class="addthx" data-post="55288"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:57 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
;DS:SI ® Первый символ за концом имени файла (за
<br>;завершающим нулем)
<br>dec SI ;SI -&gt; байт с 0 std ;Движение по строке назад
<br>mov ВХ,128 ;Из начального значения СХ
<br>sub BX,CX ;вычтем то, что в СХ осталось
<br>mov СХ,ВХ ;СХ=число символов в имени (с 0)
<br>dec ВХ ;Смещение к 0 от начала имени файла
<br>lea DI,fname[ВХ] ;Смещение завершающего 0
<br>rep movsb ;Перешлем все имя (от конца к началу)
<br>
<br> 
<br>
<br>386+ MOVSD Пересылка двойного слова из строки в строку
<br>
<br>
<br>Команда аналогична командам МП 86 movsb и movsw, но позволяет скопировать двойное слово из строки, адресуемой через регистры DS:ESI, в строку, адресуемую через регистры ES:EDI.
<br>
<br>Пример 1
<br>
<br>
<br>;В полях данных сегмента, адресуемого через DS
<br>strl db &#039;01234567890ABCDEF&#039; ;Строка-источник
<br>str2 db 16 dup(?) ;Строка-приемник
<br>;B программном сегменте
<br>push DS
<br>pop ES ;Теперь ES=DS
<br>mov SI,offset strl ;DS:SI ®strl
<br>mov DI,offset str2 ;ES<img src="img/smilies/s5.gif" alt="">I -&gt; str2
<br>сld ;Движение по строке вперед
<br>mov CX,4 ;Коэффициент повторения
<br>rep movsd ;Копирование по 4*4 байт
<br>
<br> 
<br>
<br>386+ MOVSX Пересылка с расширением знака
<br>
<br>
<br>Команда пересылает байт в слово или двойное слово, а также слово в двойное слово с расширением знака. В качестве первого операнда (приемника) может использоваться 16- или 32-разрядный регистр общего назначения, в качестве второго - 8- или 16-разрядный регистр общего назначения или ячейка памяти такого же размера. Недопустима пересылка из памяти в память, в или из сегментного регистра, а также непосредственного значения. Фактически команда movsx увеличивает размер как положительного, так и отрицательного числа, ни изменяя ни его значения, ни знака.
<br>
<br>Пример 1
<br>
<br>
<br>mov CL,-5 ;CL=FBh
<br>movsxAX,CL ;AX=FFFBh
<br>
<br>Пример 2
<br>
<br>
<br>mov CL,+5 ;CL=05h
<br>movsxAX,CL ;AX=0005h
<br>
<br>Пример 3
<br>
<br>
<br>mov BL,-128 ;BL=80h
<br>movsxECX,BL ;ECX=FFFFFF80h
<br>
<br>Пример 4
<br>
<br>
<br>; В полях данных
<br>mem dw -3 ;mem=FFFDh
<br>;В программном сегменте
<br>movsxEB-X,mem ; EBX=FFFFFFFDh
<br>
<br> 
<br>
<br>386+ MOVZX Пересылка с расширением нуля
<br>
<br>
<br>Команда пересылает байт в слово или двойное слово, а также слово в двойное слово с заполнением старших разрядов нулями. В качестве первого операнда (приемника) может использоваться 16- или 32-разрядный регистр общего назначения, в качестве второго - 8- или 16-разрядный регистр общего назначения или ячейка памяти такого же размера. Недопустима пересылка из памяти в память, в или из сегментного регистра, а также непосредственного значения. Фактически команда movzx увеличивает размер числа, считая его числом без знака.
<br>
<br>Пример 1
<br>
<br>
<br>mov CL,5 ;CL=05h
<br>movsxAX,CL ;AX=0005h
<br>
<br>Пример 2
<br>
<br>
<br>mov CL,-5 ;CL=FBh
<br>movsxAX,CL ;AX=00FBh
<br>
<br>Пример 3
<br>
<br>
<br>mov BL,80h ;BL=80h
<br>movsxECX,BL ;ECX=00000080h
<br>
<br>Пример 4
<br>
<br>
<br>;B полях данных
<br>mem dw 0FFFFh ;mem=FFFFh
<br>;B программном сегменте
<br>movsxEBX,mem ;EBX=0000FFFFh
<br>
<br> 
<br>
<br>MUL Умножение целых чисел без знака
<br>
<br>Команда inul выполняет умножение целого числа без знака, находящегося в регистре AL (в случае умножения на байт) или АХ (в случае умножения на слово), на операнд-источник (целое число без знака). Размер произведения в два раза больше размера сомножителей.
<br>Для однобайтовых операций один из сомножителей помещается в регистр AL; после выполнения операции произведение записывается в регистр АХ.
<br>Для двухбайтовых операций один из сомножителей помещается в регистр АХ; после выполнения операции произведение записывается в регистры DX:AX (в DX - старшая часть, в АХ - младшая). Предыдущее содержимое регистра DX затирается.
<br>Если содержимое регистра АН после однобайтового умножения или содержимое регистра DX после двухбайтового умножения не равны 0, флаги CF и OF устанавливаются в 1. В противном случае оба флага сбрасываются в 0.
<br>В качестве операнда-сомножителя команды mul можно указывать регистр (кроме сегментного) или ячейку памяти; не допускается умножение на непосредственное значение. Команда воздействует на флаги OF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov AL,5 ;Первый сомножитель
<br>mov BL,3 ;Второй сомножитель
<br>mul BL ;AX=000Fh, произведение
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,256 ;Первый сомножитель
<br>mov BX,256 ;Второй сомножитель
<br>mul BX ;DX=0001h, AX=0000h
<br>;(DX:AX=65536, произведение)
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных
<br>coef db 100 ;Первый сомножитель
<br>datal db 126 ;Второй сомножитель
<br>mov AL,datal ;AL=7Eh=126
<br>mul coef ;AX=3138h=12600,произведение
<br>
<br>Пример 4
<br>
<br>
<br>;B полях данных
<br>coef dw 5000 ;Первый сомножитель
<br>datal dw 1200 ;Второй сомножитель
<br>mov AX,datal ;AX=4BOh=1200
<br>mul coef ;DX=005Bh, AX=8D80h
<br>;Произведение=ВХ:AX=
<br>;5B8D80h=6000000
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров. При этом, если указанный операнд представляет собой 32-байтовую величину, то результат размещается в регистрах EDX:EAX.
<br>
<br>Пример 1
<br>
<br>
<br>mov EAX,200h ;Первый сомножитель
<br>mov ESI,l000000lh ;Второй сомножитель
<br>mul ESI ;Произведение в EDX:EAX
<br>;EDX=00000020h,EAX=00000200h
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных
<br>nmbs db 15,22,36,78,84,98,100
<br>;В программном сегменте
<br>mov EDX,offset nmbs ;Относительный адрес
<br>movzx EDX,DX ;массива
<br>mov ECX,5 ;Смещение в массиве
<br>mov AL,10 ;Множитель
<br>mul byte ptr [EDX] [ЕСХ] ;Умножаем элемент
<br>;массива с индексом 5 (98)
<br>;на AL (10) Результат в
<br>;АХ=980
<br>
<br> 
<br>
<br>NEG Изменение знака, дополнение до 2
<br>
<br>
<br>Команда neg выполняет вычитание целочисленного операнда со знаком из нуля, превращая положительное число в отрицательное и наоборот. Исходный операнд затирается. В качестве операнда можно указывать регистр (кроме сегментного) или ячейку памяти размером как в байт, так и в слово. Не допускается использовать в качестве операнда непосредственное значение. Команда воздействует на флаги OF, SF, ZF, AF, PF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>mov АХ,0 0 01
<br>neg AX ;AX=FFFFh=-1
<br>
<br>Пример 2
<br>
<br>
<br>mov BX,-2 ;BX=FFFEh=-2
<br>neg BX ;BX=0002h
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных
<br>nmb dw 800lh ;Если число со знаком,
<br>;то -32767
<br>;В программном сегменте
<br>neg nmb ;nmb=7FFFh=+32767
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>mov ECX, 5
<br>neg ECX ;ECX=FFFFFFFBh=-5
<br>
<br> 
<br>
<br>NOP Холостая команда
<br>
<br>
<br>По команде пор процессор не выполняет никаких действий, кроме увеличения на 1 содержимого указателя команд IP (поскольку команда пор занимает 1 байт). Команда иногда используется в отладочных целях, чтобы &quot;забить&quot; какие-то ненужные команды, не изменяя длину загрузочного модуля или, наоборот, оставить место в загрузочном модуле для последующей вставки команд. В ряде случаев команды пор включаются в текст объектного модуля транслятором. Команда не имеет ни параметров, ни операндов и не воздействует на флаги процессора.
<br>
<br> 
<br>
<br>NOT Инверсия, дополнение до 1, логическое отрицание
<br>
<br>
<br>Команда not выполняет инверсию битов указанного операнда, заменяя 0 на 1 и наоборот. В качестве операнда можно указывать регистр (кроме сегментного) или ячейку памяти размером как в байт, так и в слово. Не допускается использовать в качестве операнда непосредственное значение. Команда не воздействует на флаги процессора.
<br>
<br>Правила побитовой инверсии:
<br>
<br>
<br>Операнд-бит 0 1
<br>Бит результата 1 0
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,0FFFFh
<br>not AX ;AX=0000h
<br>
<br>Пример 2
<br>
<br>
<br>mov SI,5551h
<br>not SI ;SI=AAAEh
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>mov EAX,0C00SFF00h
<br>not EAX ;EAX=3FFC00FFh
<br>
<br> 
<br>
<br>OR Логическое ВКЛЮЧАЮЩЕЕ ИЛИ
<br>
<br>
<br>Команда or выполняет операцию логического (побитового) сложения двух операндов. Результат замещает первый операнд (приемник); второй операнд (источник) не изменяется. В качестве первого операнда можно указывать регистр (кроме сегментного) или ячейку памяти, в качестве второго - регистр (кроме сегментного), ячейку памяти или непосредственное значение, однако не допускается определять оба операнда одновременно как ячейки памяти. Операнды команды or могут быть байтами или словами. Команда воздействует на флаги OF, SF, ZF, PF и CF, при этом флаги CF и OF всегда сбрасываются в 0.
<br>
<br>Правила побитового сложения:
<br>
<br>
<br>Первый операнд-бит 0101
<br>Второй операнд-бит 0011
<br>Бит результата 0111
<br>
<br>Пример 1
<br>
<br>
<br>mov AX,000Fh
<br>mov BX,00F0h
<br>or AX,BX ;AX=00FFh, BX=00F0h
<br>
<br>Пример 2
<br>
<br>
<br>mov AX,000Fh
<br>mov BX,00F7h
<br>or AX,BX ;AX=00FFh, BX=00F7h
<br>
<br>Пример 3
<br>
<br>
<br>mov AX,000Fh
<br>or AX,8001h ;AX=800Fh
<br>
<br>Пример 4
<br>
<br>
<br>; В полях данных
<br>mask db 80h
<br>;B программном сегменте
<br>mov CH,17h
<br>or CH,mask ;CH=97h
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>;В полях данных
<br>mem dd 80000000h
<br>; В программном сегменте
<br>or mem,0C0h ;mem=800000C0h
<br>
<br> 
<br>
<br>OUT Вывод в порт
<br>
<br>
<br>Команда out выводит в порт, указываемый первым операндом, байт или слово соответственно из регистра AL или АХ. Адрес порта помещается в регистр DX. Если адрес порта не превышает 255, он может быть указан непосредственным значением. Указание регистра-источника (AL или АХ) обязательно, хотя с другими регистрами команда out не работает, и их указывать нельзя. Команда не воздействует на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>mov AL,20h ;Команда конца прерывания (EOI)
<br>out 20h,AL ;Вывод команды EOI в порт
<br>;20h контроллера прерываний
<br>
<br>Пример 2
<br>
<br>
<br>mov DX,3CEh ; Адрес порта
<br>mov AL,5 ;Данное
<br>out DX,AL ;Вывод байта из AL в порт 3CEh
<br>
<br> Допустимо использование в качестве операнда-источника расширенного регистра ЕАХ (если адресуемое устройство позволяет записать в его порт двойное слово).
<br>
<br>Пример
<br>
<br>
<br>mov ЕАХ,1А008РРЗh;Пересылаемое данное
<br>mov DX,345h ;Адрес порта
<br>out DX,EAX ;Вывод в порт двойного слова
<br>
<br> 
<br>
<br>OUTS Вывод строки в порт
<br>
<br>OUTSB Вывод байта в порт
<br>
<br>OUTSW Вывод слова в порт
<br>
<br>OUTSD Вывод двойного слова в порт
<br>
<br>
<br>Команды предназначены для вывода данных в порт непосредственно из памяти. Адрес порта указывается, как и для команды out, в регистре DX, при этом задание адреса порта непосредственным значением не допускается. Данные извлекаются из памяти по адресу, находящемуся в паре регистров DS:ESI. Замена сегмента не допускается. Команда outsb передает в порт 1 байт, команда outsw - 1 слово, команда outsd - 1 двойное слово, а команда outs может быть использована для передачи байтов, слов и двойных слов. В последнем случ
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55289&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=29" class="addthx" data-post="55289"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]Ura_Orlov[/b]','')">Ura_Orlov</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.38'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 февраля 2006 00:58 <br><script type="text/javascript">QU('Ura_Orlov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ura_Orlov" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=3996&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
В последнем случае размер загружаемого данного определяется описанием строки (с помощью директив db, dw или dd). После передачи данных регистр ESI получает положительное (если флаг DF=0) или отрицательное (если флаг DF=1) приращение. Величина приращения составляет 1, 2 или 4 в зависимости от размера передаваемых данных.
<br>Вариант команды outs имеет формат
<br>
<br>outs DX, строка
<br>
<br>(что не избавляет от необходимости инициализировать регистры DS:ESI адресом строки).
<br>Если устройство, адресуемое через порт, может принимать последовательность данных, то команды outs можно предварить префиксом повторения rep. В этом случае в порт пересылается СХ элементов данных заданного размера.
<br>Команды outs не воздействуют на флаги процессора.
<br>
<br>Пример 1
<br>
<br>
<br>; В полях данных
<br>mem dw 0FFh
<br>;В программном сегменте
<br>mov SI, offset mem;ES<img src="img/smilies/s5.gif" alt="">I ® mem
<br>mov DX,303h ;Адрес порта
<br>outsb ;Вывод в порт 8-битового
<br>;данного
<br>
<br>Пример 2
<br>
<br>
<br>; В полях данных
<br>string dw 0FFh,1,5,0Bh, 0
<br>; В программном сегменте
<br>mov SI, off set mem;ES<img src="img/smilies/s5.gif" alt="">I -&gt; mem
<br>mov DX,340h Адрес порта
<br>mov CX, 5 ;Число данных
<br>eld ;Движение по данным вперед
<br>rep outsb ;Последовательный вывод в
<br>;порт пяти 8-битовых данных
<br>
<br>
<br>POP Извлечение слова из стека
<br>
<br>Команда pop выталкивает 16-битовое данное из стека, т.е. пересылает слово из вершины стека (на которую указывает регистр SP) по адресу операнда-приемника. После этого содержимое SP увеличивается на 2, и SP указывает на предыдущее слово стека, которое теперь является его новой вершиной. Выталкивать из стека можно только целые слова (не байты). Программа должна строго следить за тем, чтобы каждой команде проталкивания в стек push отвечала обратная команда выталкивания из стека pop. Если стек используется для временного хранения некоторых данных, то извлекать эти данные из стека следует в порядке, обратном их сохранению.
<br>В качестве операнда-приемника можно использовать любой 16-разрядный регистр (кроме CS) или ячейку памяти. Команда не воздействует на флаги процессора.
<br>Пара команд push - pop часто используется для пересылки данного из регистра в регистр (особенно, в сегментный) через стек.
<br>
<br>Пример 1
<br>
<br>
<br>push AX ;Временное сохранение
<br>push BX ;в стеке
<br>push DS ;трех операндов
<br>pop DS ;Восстановление из стека
<br>pop BX ;трех операндов
<br>pop AX ; в обратном порядке
<br>
<br>Пример 2
<br>
<br>
<br>push CS ;Пересылка CS через стек 
<br>
<br>pop DS ;Теперь DS=CS
<br>
<br>Пример 3
<br>
<br>
<br>;В полях данных
<br>mem dw 0
<br>; В программном сегменте
<br>pop mem ;Восстановление из стека в память
<br>
<br> Допустимо использование 32-битовых операндов и дополнительных режимов адресации 32-разрядных процессоров.
<br>
<br>Пример
<br>
<br>
<br>pop EAX ;Извлечение из стека двойного слова
<br>
<br> 
<br>
<br>386+ РОРА Восстановление из стека всех регистров
<br>
<br>
<br>Команда рора восстанавливает из стека содержимое всех регистров, предварительно сохраненных в стеке командой pusha. Заполнение из стека регистров осуществляется в следующем порядке: DI, SI, BP, SP, ВХ, DX, СХ, АХ. Исходное содержимое указателя стека SP, сохраненное в стеке командой pusha, командой рора из стека извлекается, но отбрасывается. Команда не имеет параметров.
<br>
<br>Пример
<br>
<br>
<br>рора
<br>
<br> 
<br>
<br>386+ POPAD Восстановление из стека всех регистров в 32-разрядном режиме
<br>
<br>
<br>Команда popad восстанавливает из стека содержимое всех расширенных регистров, предварительно сохраненных в стеке командой pushad. Заполнение из стека регистров осуществляется в следующем порядке: EDI, ESI, EBP, ESP, ЕВХ, EDX, ЕСХ, ЕАХ. Исходное содержимое указателя стека ESP, сохраненное в стеке командой pusha, командой рора из стека извлекается, но отбрасывается. Команда не имеет параметров.
<br>
<br>Пример
<br>
<br>
<br>popad
<br>
<br> 
<br>
<br>POPF Восстановление из стека регистра флагов
<br>
<br>
<br>Команда popf пересылает верхнее слово стека (на которое указывает регистр SP) в регистр флагов FLAGS. После этого содержимое SP увеличивается на 2, и SP указывает на предыдущее слово стека, которое теперь является его новой вершиной. Команда popf не имеет параметров; она воздействует на все флаги процессора, кроме флагов VM и RF.
<br>
<br>Пример 1
<br>
<br>
<br>popf ;Регистр флагов загружается из стека
<br>
<br>Пример 2
<br>
<br>
<br>pushf ;Отправим флаги в стек
<br>mov BP,SP ;Настроим ВР на флаги в стеке
<br>or [BP],100h ;Установим бит 100h (флаг TF)
<br>popf ;Вытолкнем в регистр флагов.
<br>;Теперь в регистре флагов TF=1
<br>
<br> 
<br>
<br>386+ POPFD Восстановление из стека расширенного регистра флагов
<br>
<br>
<br>Команда popfd пересылает верхнее слово стека (на которое указывает регистр ESP) в расширенный регистр флагов EFLAGS. После этого содержимое ESP увеличивается на 4, и ESP указывает на предыдущее слово стека, которое теперь является его новой вершиной. Команда popfd не имеет параметров; она воздействует на все флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>popfd ;Регистр EFLGS загружается из стека
<br>
<br>
<br>
<br>PUSH Занесение операнда в стек
<br>
<br>Команда push уменьшает на 2 содержимое указателя стека SP и заносит на эту новую вершину двухбайтовый операнд-источник (проталкивает в стек новое данное). Проталкивать в стек можно только целые слова (не байты). Программа должна строго следить за тем, чтобы каждой команде проталкивания в стек push отвечала обратная команда выталкивания из стека pop. Если стек используется для временного хранения некоторых данных, то извлекать эти данные из стека следует в порядке, обратном их сохранению.
<br>В качестве операнда-источника может использоваться любой 16-разрядный регистр (включая сегментный) или ячейка памяти. Не допускается занесение в стек непосредственного значения, хотя некоторые трансляторы преобразуют команду вида
<br>
<br>push 1234h
<br>
<br>в неэффективную последовательность операций со стеком, результатом которой будет проталкивание указанного операнда в стек. Команда push не воздействует на флаги процессора.
<br>Пара команд push - pop часто используется для пересылки данного из регистра в регистр (особенно, в сегментный) через стек.
<br>
<br>Пример 1
<br>
<br>
<br>push ES:mem ;Сохранение содержимого
<br>push DS ;слова памяти mem из
<br>push BP ;дополнительного сегмента
<br>;а также регистров DS и ВР
<br>… ;
<br>pop PP ;Восстановление из стека
<br>pop DS ;трех операндов
<br>pop ES: mem ;в обратном порядке
<br>
<br>Пример 2
<br>
<br>
<br>push DS ;Пересылка DS через стек
<br>pop ES ;Теперь ES=DS
<br>
<br> Допустима засылка в стек 32-битовых операндов (регистров и ячеек памяти), а также занесение в стек 8-, 16- и 32-битовых непосредственных значений. Каждое 8-битовое значение занимает в стеке целое слово. Операнды любого допустимого размера могут заноситься з стек вперемежку&#039;, если это не вступает в противоречие с операциями по извлечению этих данных из стека.
<br>
<br>Пример 1
<br>
<br>
<br>push AX ; Сохранение в стеке регистра АХ
<br>push 32h ;Сохранение в стеке
<br>;константы 32h (она займет в
<br>;стеке 1 слово)
<br>push EAX ;Сохранение в стеке регистра
<br>;ЕАХ (два слова стека)
<br>
<br> 
<br>
<br>386+ PUSHA Сохранение в стеке всех регистров
<br>
<br>
<br>Команда pusha сохраняет в стеке содержимое всех регистров в следующем порядке: АХ, СХ, DX, ВХ, значение указателя стека SP перед выполнением данной команды, дачее ВР, SI и DI. Команда не имеет параметров и не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>pusha
<br>
<br> 
<br>
<br>386+ PUSHAD Сохранение в стеке всех регистров в 32-разрядном режиме
<br>
<br>
<br>Команда pushad сохраняет в стеке содержимое всех регистров в следующем порядке: EAX, ECX, EDX, ЕВХ, значение указателя стека ESP перед выполнением данной команды, далее EBP, ESI и EDI. Команда не имеет параметров и не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>pushad
<br>
<br> 
<br>
<br>386+ PUSHFD Занесение в стек содержимого расширенного регистра флагов
<br>
<br>
<br>Команда pushfd уменьшает на 4 содержимое указателя стека ESP и заносит на эту новую вершину содержимое расширенного регистра флагов EFALGS. При этом сохраняются все флаги процессора. Команда pushfd не имеет параметров и не воздействует на флаги процессора.
<br>
<br>Пример
<br>
<br>
<br>pushfd ;Содержимое регистра флагов
<br>;сохраняется в стеке
<br>
<br> 
<br>
<br>RCL Циклический сдвиг влево через бит переноса
<br>
<br>
<br>Команда гсl осуществляет сдвиг влево всех битов операнда. Если команда записана в формате
<br>
<br>rcl операнд,1
<br>
<br>сдвиг осуществляется на 1 бит. В младший бит операнда заносится значение флага CF; старший бит операнда загружается в CF. Если команда записана в формате
<br>
<br>rcl операнд,CL
<br>
<br>сдвиг осуществляется на число бит, указанное в регистре-счетчике CL, при этом в процессе последовательных сдвигов старшие биты операнда поступают сначала в CF, а оттуда - в младшие биты операнда (рис. П4).
<br>
<br>
<br>
<br>Рис. П4. Действие команды rcl.
<br>
<br>В качестве операнда команды rcl можно указывать любой регистр (кроме сегментного) или ячейку памяти размером как в байт, так и в слово. Не допускается использовать в качестве операнда непосредственное значение. Команда воздействует на флаги OF и CF.
<br>
<br>Пример 1
<br>
<br>
<br>clc ;Сбросим CF
<br>mov AX, 7
<br>rcl АХ,1 &#039; ;AX=000Eh=14, CF=0
<br>
<br>Пример 2
<br>
<br>
<br>stc ;Установим CF
<br>mov DL,7
<br>rcl DL,1 ;DL=0Fh=15, CF=0
<br>
<br>Пример 3
<br>
<br>
<br>clc ;Сбросим CF
<br>mov BX,0FFFFh
<br>rcl BX,1 &#039; ;BX=FFFEh, CF=1
<br>
<br>Пример 4
<br>
<br>
<br>clc ;Сбросим CF
<br>mov DH,3
<br>mov CL,4 ;Счетчик сдвигов
<br>rcl DH,CL ;DH=30h=48, CF=0
<br>
<br> Допустим сдвиг 32-битовых операндов. Допустимо указание числа битов сдвига как с помощью регистра CL, так и непосредственным значением. Максимальная величина сдвига составляет 31 бит.
<br>
<br>Пример
<br>
<br>
<br>mov EAX,0С0000003h
<br>clc ;Сбросим CF
<br>rcl EAX,2 ;EAX=0000000Dh, CF=1
<br>
<br> 
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=55290&amp;user=3867&amp;forum_n=5&amp;topic=3996&amp;page=0&amp;anchor=30" class="addthx" data-post="55290"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=5&amp;topic=3996&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=5&amp;topic=3996&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Справочник по командам ассемблера</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#31" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="3996">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=3996" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
