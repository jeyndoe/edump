<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Olly Debugger: трейсинг многопоточных приложений - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Я вообще крякер начинающий. Вообще я программист, но асм знаю, и иногда отладчиками пользовался, чтобы изучать то, что мне компилятор нагенерил. Но сейчас вот пришлось поломать одну прогу. Аернее, исследовать просто. Меня крайне">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=20667'>Slinger</a>, <a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Olly Debugger: трейсинг многопоточных приложений</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Monster[/b]','')">Monster</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.52'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3414">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2006 17:17 <br><script type="text/javascript">QU('Monster','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Monster" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Я вообще крякер начинающий. Вообще я программист, но асм знаю, и иногда отладчиками пользовался, чтобы изучать то, что мне компилятор нагенерил. Но сейчас вот пришлось поломать одну прогу. Аернее, исследовать просто. Меня крайне инетересует код, исполняемый в отдельном потоке. Я использую OllyDbg версии 1.10.
<br>
<br>//Суть проблемы:
<br>
<br>Когда я ставлю бряк на точку входа во вновь созданный поток (или просто в опциях ставлю Break on new thread created), дебагер прогу успешно останавливает на нужной бряке, но потом отлаживаемое приложение виснет, через 5 секунд выкатывается сообщение /*вольный перевод*/ &quot;Олли вставил в каких-то своих целях небольшой кусок кода в отлаживаемое приложение, отлаживаемый процесс не отвечает в течение 5-ти секунд... Дальнейшая работа препарируемой программы может быть нестабильной, как можно скорее убейте ее&quot; и там дальше два варианта. Подождать еще 5 секунд или продолжить.
<br>
<br>Собственно после того, как я отвечаю &quot;нет&quot;, работа &quot;жертвы&quot; останавливается и на всякие там F7/F8/F9 не реагирует. Соответственно отттрейсить поток я не могу.
<br>
<br>Я пробовал активировать поток (ну для чего-то ведь нужна кнопочка Actualize в окне Threads!). Пробовал бряки на функциях, вызываемых из потока ставить. Результат один и тот же, и он описан выше.
<br>
<br>//Собственно, вопрос:
<br>
<br>Как можно (и можно ли вообще) трейсить работу не главного потока приложения с помощью средств OllyDbg?
<br>
<br>З.Ы. SoftIce не предлагать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49355&amp;user=3414&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=1" class="addthx" data-post="49355"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]intty[/b]','')">intty</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/1788.jpg" alt=""><br><span class=txtSm>Ранг: 122.3 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.18'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1788">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2006 17:26 <br><script type="text/javascript">QU('intty','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=intty" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
ну по крайней мере в справке пишут, что можно:
<br><I>Особенность OllyDbg в том, что он позволяет просто и эффективно управлять потоками. Если Вы проходите по программе, трассируете её, выполняете till return (до возврата) или till selection (до выбранного), эти действия останавливают все потоки кроме основного, и возобновляют этот поток, даже если он был приостановлен. В этом случае, если Вы приостанавливаете или возобновляете потоки вручную, действия откладываются. Если Вы запускаете отлаживаемое приложение, OllyDbg восстанавливает первоначальные состояния потоков. (Заметьте, что с точки зрения Отладчика, hit trace (пошаговая трассировка), эквивалентна свободному выполнению).</I>
<br>
<br>может это какие-то ухищрения авторов программы? я бы набросал свой каркас приложения, создающего потоки и понаблюдал как оно отлаживается в ольке
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49357&amp;user=1788&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=2" class="addthx" data-post="49357"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Monster[/b]','')">Monster</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.52'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3414">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2006 17:36 <br><script type="text/javascript">QU('Monster','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Monster" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Честно говоря, я почитал справку, и то что ты здесь написал. Однако как конкретно брякнуть неосновной поток, там не написано...
<br>
<br>А насчет каркаса приложения, я так и сделал. Я соорудил простейший счетчик с программируемой задержкой и грубо синхронизировал его через PostMessage. Собственно во время работы дебаггера удается протрейсить только конструктор (там точка входа в программу) самого приложения (поток, кстати, именно там порождается, сразу с флагом CreateSuspended=false, т.е. его выполнение начинается сразу после создания, вернее, разумеется, проверки условия CreateSuspended). После того, как конструктор заканчивается, главный поток оставнавливается. При этом дебаггер явно как-то сам отсележивает исполняющийся дополнительный поток, в котором стоит счетчик, сам дебаггер отнимает ~50% процессороного времени. Стало быть, поток дебаггеру подвластен. Но при попытке брякнуть этот поток происходит то, что я описал в предидущем посте.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49360&amp;user=3414&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=3" class="addthx" data-post="49360"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]intty[/b]','')">intty</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/1788.jpg" alt=""><br><span class=txtSm>Ранг: 122.3 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.18'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1788">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2006 18:05 <br><script type="text/javascript">QU('intty','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=intty" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
в общем я попробовал. у меня трейсятся и треды и  главный поток.
<br>мне кажется, тебе в твоем примере не хватает, WaitForSingleObject в главном потоку, чтобы подождать пока созданный тред не закончит свою работу.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49367&amp;user=1788&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=4" class="addthx" data-post="49367"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]TOG[/b]','')">TOG</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/2440.jpg" alt=""><br><span class=txtSm>Ранг: 84.8 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.89'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2440">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2006 19:35 <br><script type="text/javascript">QU('TOG','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TOG" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Оля внедряет код еще и для работы с SSE регистрами. Рекомендуется отключать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49385&amp;user=2440&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=5" class="addthx" data-post="49385"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Monster[/b]','')">Monster</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.52'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3414">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2006 21:55 <br><script type="text/javascript">QU('Monster','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Monster" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Я извиняюсь, я сейчас далеко от дебаггера и хелпа к нему, а качать долго и некогда. Вы, ребята, не могли бы подсказать, где там этот code injection отключается?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49405&amp;user=3414&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=6" class="addthx" data-post="49405"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Monster[/b]','')">Monster</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.52'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=3414">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 января 2006 14:33 <br><script type="text/javascript">QU('Monster','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Monster" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Я кажись понял, что вы имели ввиду, когда сказали, что рекомендуется откючать. Это &quot;Allow code injection...&quot;? Тогда непойдет. Я пробовал - результат тот же. Олька всё равно впихивает свой код в программу. Я весь хелп переворошил и ничего не нашел. Может эту инъекцию вызывает еще какая-нибудь опция по умолчанию?
<br>
<br>Я скопировал все настройки из статьи &quot;Olly от А доЯ&quot; - код внедряться прекратил, однако теперь он при входе в поток выполняет несколько команд, потом выполняет выхов подпрограммы и останавливается (paused) вернуть его из этого состояния невозможно. Может кто знает лекарство от этого?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=49479&amp;user=3414&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=7" class="addthx" data-post="49479"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Nimnul[/b]','')">Nimnul</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/1619.gif" alt=""><br><span class=txtSm>Ранг: 218.9 (наставник), 42thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.25'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1619">Участник</a><br><font color=blue>dotnet</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 января 2006 00:39 <br><script type="text/javascript">QU('Nimnul','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nimnul" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>Monster</b>
<br>
<br>Олька отстой. Попробуй заюзать вот такой дебагер www.smidgeonsoft.com/
<br><br><font size="1"><i>-----<br>have a nice day</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=49531&amp;user=1619&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=8" class="addthx" data-post="49531"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]timon[/b]','')">timon</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=1422">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 мая 2006 20:13 <br><script type="text/javascript">QU('timon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=timon" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>Monster пишет:
<br>при входе в поток выполняет несколько команд, потом выполняет выхов подпрограммы и останавливается (paused) вернуть его из этого состояния невозможно. Может кто знает лекарство от этого? </I>
<br>Точно так же доходит до   call dword ptr ds:[&lt;&amp;ntdll.CsrNewThread&gt;&gt;; ntdll.CsrNewThread потом на следеющем Call останавливаеться.С этим еще никто не разобрался?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=68987&amp;user=1422&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=9" class="addthx" data-post="68987"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Asterix[/b]','')">Asterix</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 450.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.26<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=58">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 мая 2006 20:40 <br><script type="text/javascript">QU('Asterix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Asterix" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>Monster пишет:
<br>Я вообще крякер начинающий. </I>
<br>
<br>правильно выбранный ник - половина успеха, ты на верном пути ;)
<br>
<br><I>Monster пишет:
<br>Когда я ставлю бряк на точку входа во вновь созданный поток (или просто в опциях ставлю Break on new thread created), дебагер прогу успешно останавливает на нужной бряке, но потом отлаживаемое приложение виснет, через 5 секунд выкатывается сообщение </I>
<br>
<br>ты это под win 9x проделываешь, угадал?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=68995&amp;user=58&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=10" class="addthx" data-post="68995"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]crazyalex[/b]','')">crazyalex</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.5 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.2'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4592">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 мая 2006 20:45 <br><script type="text/javascript">QU('crazyalex','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crazyalex" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<I>Nimnul пишет:
<br>Олька отстой. </I>
<br>Что может быть лучше Ольки? 
<br>Разьве что айс.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=68998&amp;user=4592&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=11" class="addthx" data-post="68998"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]timon[/b]','')">timon</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=1422">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 мая 2006 21:36 <br><script type="text/javascript">QU('timon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=timon" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Пробовал в отладчике что Nimnul сказал PEBrowsePro там всё нормально работает но очень непривычно в нем отлаживать.<I>Asterix пишет:
<br>ты это под win 9x проделываешь, угадал? </I>нет это в WinXP SP2
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=69026&amp;user=1422&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=12" class="addthx" data-post="69026"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]timon[/b]','')">timon</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=1422">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 ноября 2006 05:48 <br><script type="text/javascript">QU('timon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=timon" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Ну что кто нить разобрался с трейсингом многопоточных приложений в Олли???Времени то много прошло,мож кто понял.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=101956&amp;user=1422&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=13" class="addthx" data-post="101956"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]asd[/b]','')">asd</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 162.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.58'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3241">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 ноября 2006 08:00 <br><script type="text/javascript">QU('asd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=asd" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Ни разу не замечал таких проблем. У кого есть такое приложеньице, может приаттачите? Только если там не в антидебажных штучках дело.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=101981&amp;user=3241&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=14" class="addthx" data-post="101981"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]arnix[/b]','')">arnix</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 210.5 (наставник), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.14<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 ноября 2006 10:42 <br><script type="text/javascript">QU('arnix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=arnix" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=3659.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<I>timon пишет:<br>Ну что кто нить разобрался с трейсингом многопоточных приложений в Олли???Времени то много прошло,мож кто понял. </I><br><br><br>Поставь бряк на CreateThread, когда остановится, подсмотри значение  lpStartAddress в стэке, ну и поставь бряк на этот адрес.<br><br>HANDLE  WINAPI  CreateThread( <br>   LPSECURITY_ATTRIBUTES  lpThreadAttributes, <br>   SIZE_T  dwStackSize, <br>   LPTHREAD_START_ROUTINE  lpStartAddress, <br>   LPVOID  lpParameter, <br>   DWORD  dwCreationFlags, <br>   LPDWORD  lpThreadId <br>);
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=102023&amp;user=26&amp;forum_n=1&amp;topic=3659.html&amp;page=0&amp;anchor=15" class="addthx" data-post="102023"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Olly Debugger: трейсинг многопоточных приложений</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#16" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="1">
<input type="hidden" name="topic" value="3659">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=3659" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
