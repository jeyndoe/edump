<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Как отладить драйвер на windows 7 x64? - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Семерка не дает грузить неподписанные драйвера. Для того чтобы их загружать, надо по F8 выбрать вариант загрузки без проверки подписи. Хороший вариант, но в нем не работает Local Kernel Debugging в windbg. А если грузиться в">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как отладить драйвер на windows 7 x64?</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=6&amp;topic=15123&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=6&amp;topic=15123&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:10 <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Семерка не дает грузить неподписанные драйвера. Для того чтобы их загружать, надо по F8 выбрать вариант загрузки без проверки подписи. Хороший вариант, но в нем не работает Local Kernel Debugging в windbg. А если грузиться в режиме отладки ядра, то работает Local Kernel Debugging, но проверка подписи включена. <img src="img/smilies/s16.gif" alt=""><br><br>Как быть?
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=241447&amp;user=10168&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=1" class="addthx" data-post="241447"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]progopis[/b]','')">progopis</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 101.0 (ветеран), 344thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.1'>Активность: 1.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2449">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:19 <br><script type="text/javascript">QU('progopis','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=progopis" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Существует два варианта:<br>1. Ломать защиту от патчей и проверку цифровой подписи. Уже есть готовые решения.<br>2. Ждать релиза OpenDbg, в котором поддержка x64 есть, и который сам ломает систему. Ждать можно очень долго, поэтому надо смотреть в сторону 1-ого пункта.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241449&amp;user=2449&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=2" class="addthx" data-post="241449"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:28 &middot; Поправил: Hexxx <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
И всех делов то...<br>www.downloadatoz.com/windows-registry/faq,how-to-disable-digital-driver-signing-signature-in-windows-7.html
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=241451&amp;user=10168&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=3" class="addthx" data-post="241451"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]progopis[/b]','')">progopis</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 101.0 (ветеран), 344thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.1'>Активность: 1.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2449">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:38 &middot; Поправил: <a href="action=stats#mods">Модератор</a> <br><script type="text/javascript">QU('progopis','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=progopis" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>Hexxx</b><br>&quot;Готовые решения&quot; это значит их несколько. Арчер посоветовал грохнуть инициализацию патч гварда. Есть вариант когда в систему ставится драйвер который &quot;прибивает&quot; &quot;лишние фичи&quot; ОС.<br><br><b>Добвалено:</b><br>Ну у тебя как раз, как Арчер делает описано.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241453&amp;user=2449&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=4" class="addthx" data-post="241453"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:44 &middot; Поправил: <a href="action=stats#mods">Модератор</a> <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
1. Запатчить ядро винды и саму винду, включая бутлоадер. Я делал на других версиях такое.<br>2. Попробовать тестовый сертификат. Но его могли отключить, последних веяний в этом деле не знаю.<br>3. Попробуй удалённый дебаг через вмварь, там точно можно отключать подпись и сохранять работоспособность.<br>4. Для висты были варианты типа <noindex><a href="http://www.codeplex.com/easyhook/Release/ProjectReleases.aspx?ReleaseId=15850" rel="nofollow" target="_blank">http://www.codeplex.com/easyhook/Release/ProjectReleases.aspx?ReleaseId=15850</a></noindex> которые на ходу отключают его, но для 7 не встречал таких, хотя не особо и искал.<br>5. Отладить на более ранней версии ОС.<br><br>З.Ы. По твоей ссылке баян, имхо. В висте это отключили, не думаю, что в релизной 7 это работает, хотя попробовать можно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241456&amp;user=1556&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=5" class="addthx" data-post="241456"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]progopis[/b]','')">progopis</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 101.0 (ветеран), 344thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.1'>Активность: 1.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2449">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:45 <br><script type="text/javascript">QU('progopis','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=progopis" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>Archer пишет:<br>Отладить на более ранней версии ОС </I><br>Вряд ли можно считать это удачным вариантом.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241457&amp;user=2449&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=6" class="addthx" data-post="241457"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:52 <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
да, поспешил радоваться. Не пашет моя ссылка. К сожалению мне на семерке надо проверять.
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=241458&amp;user=10168&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=7" class="addthx" data-post="241458"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]progopis[/b]','')">progopis</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 101.0 (ветеран), 344thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.1'>Активность: 1.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2449">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 19:57 <br><script type="text/javascript">QU('progopis','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=progopis" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>Hexxx пишет:<br>К сожалению мне на семерке надо проверять </I><br>Стало быть вот так:<br><br><I>Archer пишет:<br>1. Запатчить ядро винды и саму винду, включая бутлоадер. Я делал на других версиях такое. </I><br><br>Думаю если хорошо попросишь, Арчер даже даст примеры реализации под другие ОСи.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241459&amp;user=2449&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=8" class="addthx" data-post="241459"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Vol4ok[/b]','')">Vol4ok</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.1 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.61'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18950">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 21:10 &middot; Поправил: Vol4ok <br><script type="text/javascript">QU('Vol4ok','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vol4ok" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
ихмо самый лучший способ запустить дровину это использовать метод предусмотренный разработчиком (если конеш речь не идет о патче ядра и подобных извратах) - т. е. использовать тестовые сертификаты. Надо только один раз разобраться как их делать, и спокойно разрабатывать драйвера как и раньше. Что интересно, что в WDK 7600 не вошел набор утилит для самоподписи, посему почитав топик, я заинтересовался, а может реально в 7600 отключили? Поэтому тока что проверил у себя на варе (Win7 build 7600 x64) - ось успешно проглатила сертификат не сказав не слова, причем драйвер успешно завелся и начал активно дбгпринтить. <br>Если есть вопросы по созданию сертификата и подписыванию - спрашивай, даж тулзу для подписывания могу дать.<br><br>По поводу отладки все куда суровей, нормальных отладчиков, таких чтобы можно было отлаживать дров на локальной машине я в природе не видел (разве что тока opendbg когда допишем;), поэтому вариантов дебага пока совсем не много:<br>1) подрубить второй комп и устроить удаленную отладку через kd<br>2) поставить винду на варю, а к ней прикрутить тот же kd и дебагать локально, однако если дров обслуживает железку - :P<br>3) Довольствоваться dbgprint-ами ;)<br>лично я стараюсь обходиться всегда 3им, и только когда совсем все плохо то юзаю 1-2, но это бывает очень редко.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241460&amp;user=18950&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=9" class="addthx" data-post="241460"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 22:13 <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
У меня семерка как раз 7600 RTM, живая тачка не VmWare. <br><br><I>Vol4ok пишет:<br>Если есть вопросы по созданию сертификата и подписыванию - спрашивай, даж тулзу для подписывания могу дать. </I><br>Давай конечно.
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=241462&amp;user=10168&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=10" class="addthx" data-post="241462"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Coderess[/b]','')">Coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2009 23:23 <br><script type="text/javascript">QU('Coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Bypassing PatchGuard on Windows x64<br>www.uninformed.org/?v=3&amp;a=3&amp;t=sumry
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=241467&amp;user=16383&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=11" class="addthx" data-post="241467"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]DrGolova[/b]','')">DrGolova</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/301.jpg" alt=""><br><span class=txtSm>Ранг: 199.6 (ветеран), 12thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.84'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=301">Участник</a><br><font color=blue>www.uinc.ru</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 октября 2009 00:45 <br><script type="text/javascript">QU('DrGolova','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DrGolova" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
&gt; Bypassing PatchGuard on Windows x64<br><br>Нафига, если это твоя собственная дровина?<br>Генеришь себе сертификат, добавляешь его в локальное хранилище, и пользуешься.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241470&amp;user=301&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=12" class="addthx" data-post="241470"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Vol4ok[/b]','')">Vol4ok</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.1 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.61'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18950">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 октября 2009 13:11 <br><script type="text/javascript">QU('Vol4ok','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vol4ok" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Итак по пунктам:<br>1) прописываем в административной консоли: Bcdedit.exe –set TESTSIGNING ON и перезагружаемся, в итоге на десктопе после перезагрузки по углам красоваться соответствующие надписи.<br><br>2) создаем сертификат, это можно сделать с помощью тулзы makecert - dl.getdropbox.com/u/159112/Dropbox/drv_signing/makecert.rar (например так: Makecert -r -pe -ss PrivateCertStore -n &quot;CN=TestCertforWDK&quot; TestCert.cer), или скачать и установить готовый - dl.getdropbox.com/u/159112/Dropbox/drv_signing/TestCertforWDK.rar (пароль: cracklab).<br><br>3) Открываем консоль Сертификаты - (Run-&gt;mmc-&gt;File+Add/Remove Snap-in-&gt;Certificates...) там находим свой сертификат(например в хранилище PrivateCertStore), копируем его в доверенные корневые издатели (Trusted Root Certification Authorities)<br><br>4) Далее качаем - dl.getdropbox.com/u/159112/Dropbox/drv_signing/easysign.rar, в архиве папка bin в которой собранна наиболее свежая сборка консольных тулз для подписывания, а именно Inf2Cat.exe - тула для генерации .cat файлов из .inf файлов (нужен .NET), и signtool.exe - как не трудно догадаться для подписывания этого .cat файла (а также и всего остального, например можно сам драйвер тоже подписать). Дабы не стать К.О. я не буду писать о том как пользоваться хелпом чтобы заюзать эти тулы, а спициально для тех кто не любит суровые консольные апликации я написал простой оконный фронт-энд - easysign.exe, о котором расскажу по подробнее<br>    1. Вбиваем в Inf Dir путь к папке где лежит сам .inf файл и все необходимые файлы к нему прилогающиеся.<br>    2. Выбираем ОСи где работает драйвер.<br>    3. Cross Cert - будет нужна если вы захотите подписать драйвер по настоящему, а так оставляем пустым<br>    4. Cert Store - названия хранилеща где лежит наш сертификат (например PrivateCertStore)<br>    5. Cert Name - название сертификата (например TestCertforWDK), если сертификат один в хранилище то можно и не заполнять это поле.<br>    6. Time Stamp - адрес таймстампингового сервиса, для тестового сертификата - пофиг, можно оставить пустым<br>    7. Файлы которые надо подписать, тут нужно обязательно добавить кат файл (если еще не создан, то прописать его имя вручную), а также можно добавить все файлы драйверов<br>    8. Generate Catalog Only - если подписывать не надо, а только создать .cat файл<br>    9. Жмем Sign - чтобы создать .cat и подписать, жмем Log - чтобы почитать что произошло, часто бывают ошибки, например неправильно составлен .inf файл, либо signtool чего то не нашел.<br><br>5) проверяем что все хорошо подписалось, для этого открываем свойство .cat файла (или драйвера) и смотрим вкладку Digital Signatures - если есть то можем полюбоваться на результат, если нет, то где то накосячили. Далее при установке драйвера, например через деспетчер устройств, там будет иконка, что типо драйвер подписан и все норм.<br><br>6) Enjoy!<br><br>ЗЫ: все что написано тут, а также многие тулзы, можно найти в WDK 600X в папке bin/SelfSign, в WDK 7600 лажет только свежий Inf2Cat.exe. <br><br>ЗЫ2: по поводу отладки с помощью второго компа, если вдруг кто-то отважется на такое, то не забудьте заземлить оба компа, дабы отважный порыв не спалил вашу мамку ;)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241486&amp;user=18950&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=13" class="addthx" data-post="241486"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Av0id[/b]','')">Av0id</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 516.1 (<b>!</b>), 39thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.28<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1378">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 октября 2009 13:31 <br><script type="text/javascript">QU('Av0id','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Av0id" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Disable PatchGuard - eight byte modification<br>www.accessroot.com/arteam/forums/showtopic=8469&amp;hl=
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241489&amp;user=1378&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=14" class="addthx" data-post="241489"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Sergei8765678Crack[/b]','')">Sergei8765678Crack</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 10.5 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.29'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=20472">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 октября 2009 17:32 <br><script type="text/javascript">QU('Sergei8765678Crack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sergei8765678Crack" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Пробовал F8 в режим отключенных подписей. <br>Затем через консоль:<br><br> bcdedit -set loadoptions &quot;DISABLE_INTEGRITY_CHECKS&quot; <br> bcdedit -set loadoptions &quot;DDISABLE_INTEGRITY_CHECKS&quot;
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241501&amp;user=20472&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=15" class="addthx" data-post="241501"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 октября 2009 19:04 <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
Не знаешь, что написать-лучше промолчи. Мало того, что это давно закрыли. Дык об этом и выше уже написали.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241507&amp;user=1556&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=16" class="addthx" data-post="241507"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]vptrlx[/b]','')">vptrlx</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 56.1 (постоянный), 9thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.91'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22056">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 октября 2009 23:50 <br><script type="text/javascript">QU('vptrlx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=vptrlx" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
да, TESTSIGNING + DISABLE_INTEGRITY_CHECKS<br>кстати, оно ещё и чексумму в PE-заголовке проверяет - во всяком случае у ядра.<br><br>Ну и вот как раз искал нечто похожее и наткнулся на парня the-bizarro.livejournal.com/ - он занимался правкой загрузчика для этих целей
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=241522&amp;user=22056&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=17" class="addthx" data-post="241522"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2009 12:22 &middot; Поправил: Hexxx <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>Vol4ok</b><br>А какого вида нужно сделать inf файл если у меня обычный kernel mode service, а не WDM?
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=242063&amp;user=10168&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=18" class="addthx" data-post="242063"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Vol4ok[/b]','')">Vol4ok</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.1 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.61'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18950">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2009 18:15 <br><script type="text/javascript">QU('Vol4ok','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vol4ok" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<I>Hexxx пишет:<br>А какого вида нужно сделать inf файл если у меня обычный kernel mode service, а не WDM? </I><br>хотел заняться этим но пока времени нету, так что ничего готового нет.<br>можно попробовать переделать чуток inf из примеров WDK, например src/setup/infs/clasfilt - драйверу фильтру не требуется привязка ни к какаим устройствам, поэтому он оч похож на то что надо, так что можно взять за основу этот inf, выкинуть лишнее (например всякие AddReg-и) осавив только необходимые для установки поля. Потом там нужно будет добавить поля которые укажет в ошибках inf2cat, например, скорее всего, надо будет указать дату и имя файла каталога (поля DriverVer, CatalogFile в секции [version]).<br><br>ЗЫ: если получится то выложи плз, думаю многим пригодится.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=242089&amp;user=18950&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=19" class="addthx" data-post="242089"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Coderess[/b]','')">Coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 октября 2009 19:39 &middot; Поправил: Coderess <br><script type="text/javascript">QU('Coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
&gt; Нафига, если это твоя собственная дровина?<br><br>Никогда не задумывался над подписью драйверов, нашел статью описывающую подробно <br>данный процесс на Windows семейства Longhorn и Windows Vista<br><br><br>Пошаговое руководство по подписыванию и подготовке драйверов аппаратных устройств<br>www.microsoft.com/rus/technet/articles/vista/4846.mspx/
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=242094&amp;user=16383&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=20" class="addthx" data-post="242094"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 октября 2009 13:51 <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
Подписать - подписалось. А запускаться не дает как и раньше.
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=242474&amp;user=10168&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=21" class="addthx" data-post="242474"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]Alf[/b]','')">Alf</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 56.2 (постоянный), 22thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.87'>Активность: 0.03<span style='color:green'>&nearr;</span>0.08</span><br>Статус: <a href="action=userinfo&amp;user=242">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 октября 2009 20:39 <br><script type="text/javascript">QU('Alf','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Alf" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
дабы не плодить схожие темы об неподписанных драйверах - вот однокнопочная утилита для подписывания драйверов Driver Signature Enforcement Overrider www.ngohq.com/home.php?page=dseo - с ее помощью запустил драйвер LoverFilters для DVD-R привода. Но вот что любопытно - кроме него там висит еще два драйвера и тоже не подписанные - но запускались они и до єтого, т.е. без перевода системы в Test Mode и подписывания!!! Может кто знает в чем хитрость?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=242526&amp;user=242&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=22" class="addthx" data-post="242526"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]Gideon Vi[/b]','')">Gideon Vi</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/2585.jpg" alt=""><br><span class=txtSm>Ранг: 1131.7 <b><u>(!!!!)</u></b>, 447thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.83'>Активность: 0.67<span style='color:red'>&searr;</span>0.2</span><br>Статус: <a href="action=userinfo&amp;user=2585">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 октября 2009 10:42 <br><script type="text/javascript">QU('Gideon Vi','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Gideon Vi" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<noindex><a href="http://fyyre.ivory-tower.de/projects/bootloader.txt" rel="nofollow" target="_blank">Disable PatchGuard - the easy/lazy way</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=242699&amp;user=2585&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=23" class="addthx" data-post="242699"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Lo[/b]','')">Lo</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14220">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 октября 2009 12:56 <br><script type="text/javascript">QU('Lo','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Lo" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<b>Alf</b><br><br>Если не затруднит, выложи Driver Signature Enforcement Overrider на какой - нибудь обменник, а то с официального сайта редиректит хз куда.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=242706&amp;user=14220&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=24" class="addthx" data-post="242706"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]coolangel[/b]','')">coolangel</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.5 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.03'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21512">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 октября 2009 13:51 <br><script type="text/javascript">QU('coolangel','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coolangel" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
<I>Lo пишет:<br>Если не затруднит, выложи Driver Signature Enforcement Overrider </I><br><br>dump.ru/file/3644496
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=242714&amp;user=21512&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=25" class="addthx" data-post="242714"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]Vol4ok[/b]','')">Vol4ok</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.1 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.61'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18950">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 октября 2009 20:00 <br><script type="text/javascript">QU('Vol4ok','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vol4ok" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<I>Hexxx пишет:<br>Подписать - подписалось. А запускаться не дает как и раньше. </I><br>скинь инф для kernel servicе который у тебя получился я попробую у себя подписать и запустить.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=242936&amp;user=18950&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=26" class="addthx" data-post="242936"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]Vol4ok[/b]','')">Vol4ok</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.1 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.61'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18950">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 ноября 2009 00:47 &middot; Поправил: Vol4ok <br><script type="text/javascript">QU('Vol4ok','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vol4ok" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
Итак, у меня появились 2 новости по САБЖу, хорошая и очень хорошая : )<br>- первая, я сделал inf-файл (о котором писалось выше), который корректно подписывается, если кому интересно то его можно забрать - <noindex><a href="http://dl.dropbox.com/u/159112/Dropbox/drv_signing/driver.inf" rel="nofollow" target="_blank"> тут</a></noindex>, но толку от него не много, так как установить его через диспетчер устройств все равно не удается.<br>- вторая, inf файл вообще не нужен! можно подписать только сам драйвер и этого вполне достаточно. По пунктам:<br><br>1-3) - смотреть cracklab.ru/f/action=vthread&amp;forum=6&amp;topic=15123#13&quot; target=&quot;_blank&quot;&gt;выше&lt;/a&gt;<br><br>4) подписываем драйвер с помощью <noindex><a href="http://dl.dropbox.com/u/159112/Dropbox/drv_signing/signtool.zip" rel="nofollow" target="_blank">signtool.exe</a></noindex>, например так: <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">signtool&nbsp;sign&nbsp;<span class="hl_char">/</span>v&nbsp;<span class="hl_char">/</span>s&nbsp;PrivateCertStore&nbsp;<span class="hl_char">/</span>n&nbsp;<span class="hl_quote">&quot;TestCertforWDK&quot;</span>&nbsp;driver<span class="hl_char">.</span>sys</li>        </ol>
    </div>
</div></div>
<br><br>5) устанавливаем драйвер с помощью <noindex><a href="http://dl.dropbox.com/u/159112/Dropbox/drv_signing/KmdManager.zip" rel="nofollow" target="_blank">KmdManager.zip</a></noindex><br><br>6) радуемся что драйвер работает (или синему экрану;)<br><br>По этому поводу я для себя собрал небольшой шаблон для написания и подписывания драйверов под 32 и 64 бита, которым могу поделиться.<br>Шаблон включает в себя bat-файлы для сборки и подписи:<br><i class=x>buildme.bat - собирает проект с помощью мэйкфайла.<br>signme.bat - подписывает проект вышеописанным способом (без генерации cat-файла)<br>signme (with cat).bat - генерирует cat и подписывает его а также сам драйвер (нужно скопировать inf в папку с драйвером)</i><br>внутри батников можно менять переменные, значение которых думаю должно быть очевидно<br><br>Также шаблон включает настроенный проект под vs2008 в котором тож можно собирать драйвер. В проекте используется переменная среды WINDDK - путь к WDK (например C:\WinDDK\7600). Однако в настройках возможны ошибки, так что если кто обнаружит что, пишите мне багрепорты <img src="img/smilies/s1.gif" alt=""><br>Шаблон можно забрать тут - <br>http://dl.dropbox.com/u/159112/Dropbox/drv_signing/simple_driver.rar
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=244498&amp;user=18950&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=27" class="addthx" data-post="244498"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]Vol4ok[/b]','')">Vol4ok</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.1 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.61'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=18950">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июня 2010 13:24 &middot; Поправил: Vol4ok <br><script type="text/javascript">QU('Vol4ok','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vol4ok" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
я таки нашел время и написал статью по поводу подписи драйвера на x64, поместил ее в песочницу хабры, т.к. нужен инвайт - <noindex><a href="http://habrahabr.ru/sandbox/15243/" rel="nofollow" target="_blank">Все о подписи драйверов Windows</a></noindex>. Думаю статья будет полезна начинающим дровописарям и тем кто еще только собирается переходить на 64бит.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=260731&amp;user=18950&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=28" class="addthx" data-post="260731"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]dermatolog[/b]','')">dermatolog</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/1404.png" alt=""><br><span class=txtSm>Ранг: 116.6 (ветеран), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.36'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1404">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июня 2010 13:39 <br><script type="text/javascript">QU('dermatolog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dermatolog" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
Сколько раз отлаживал дрова в х64 - ниразу не замарачивался с подписью (во всяком случае под XP).
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=260732&amp;user=1404&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=29" class="addthx" data-post="260732"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июня 2010 17:05 <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15123&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
Может, потому, что хр не требует подписи, а остальные х64 требуют?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=260737&amp;user=1556&amp;forum_n=6&amp;topic=15123&amp;page=0&amp;anchor=30" class="addthx" data-post="260737"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=6&amp;topic=15123&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=6&amp;topic=15123&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как отладить драйвер на windows 7 x64?</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=15123" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
