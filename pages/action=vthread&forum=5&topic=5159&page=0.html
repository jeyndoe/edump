<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Сложности с нахождением куска кода отвечающего за.... - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Никак не могу найти код обработчика нажатия кнопки, все что знал перепробовал, не могу найти. Прога вот (warning 6MB): rapidshare.de/files/22257261/HTTiming.rar.html Это простенькая игрушка для лазерного тира. Нужно отследить">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=5602'>ut2004</a>, <a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Сложности с нахождением куска кода отвечающего за....</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Ra_[/b]','')">Ra_</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.28'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=4258">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 15:07 <br><script type="text/javascript">QU('Ra_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ra_" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Никак не могу найти код обработчика нажатия кнопки, все что знал перепробовал, не могу найти.
<br>Прога вот (warning 6MB): rapidshare.de/files/22257261/HTTiming.rar.html
<br>Это простенькая игрушка для лазерного тира.
<br>Нужно отследить начало игры, т.е. найти начало самой игры, либо обработчики кнопок &quot;один игрок&quot;, &quot;два игрока игроа&quot; , &quot;три игрока&quot;, &quot;четыре игрока&quot;.
<br>Сам я, как уже сказано, не осилил поиск <img src="img/smilies/s9.gif" alt="">
<br>Прога написана на VC++ 5, ничем не упакованна.
<br>Посмотрите если найдете время, помогите, очень нужно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75079&amp;user=4258&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=1" class="addthx" data-post="75079"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 17:19 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<I>Ra_ пишет:
<br>все что знал перепробовал </I>
<br> Качать не буду. Да думаю и никто не будет. Обычно все-таки, пишут что конкретно пробовали.
<br>Иначе, это больше подходит для темы &quot;запросы на взлом&quot;. Кнопки обычно вроде ловят в программе обработки мессаджей. Про это масса статей есть.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75134&amp;user=4072&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=2" class="addthx" data-post="75134"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Ra_[/b]','')">Ra_</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.28'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=4258">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 17:56 <br><script type="text/javascript">QU('Ra_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ra_" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
А меседжей там никаких нет, просто начинается игра.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75140&amp;user=4258&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=3" class="addthx" data-post="75140"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Mifodix[/b]','')">Mifodix</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/2892.gif" alt=""><br><span class=txtSm>Ранг: 116.7 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.71'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 18:30 <br><script type="text/javascript">QU('Mifodix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mifodix" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>Ra_ пишет:
<br>А меседжей там никаких нет, просто начинается игра. </I>
<br>Имелось ввиду ставить бряк на апи функцию SendMessageA.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75145&amp;user=2892&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=4" class="addthx" data-post="75145"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Ra_[/b]','')">Ra_</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.28'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=4258">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 19:09 &middot; Поправил: Ra_ <br><script type="text/javascript">QU('Ra_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ra_" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Это я тоже делал, нашел что то боле-менее похожее по адресу 40FFAE, там отправляется сообщение WM_LBUTTONUP... но толку 0, это сообщение при любом нажатии мыши срабатывает, и отследить чт опроисходит дальше средствами Ольки немогу, т.к. как только там прога брякается, то экран не перересовывается, а остается чёрным, пока F9 не нажмешь <img src="img/smilies/s9.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75149&amp;user=4258&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=5" class="addthx" data-post="75149"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 19:45 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>Ra_ пишет:
<br>там отправляется сообщение WM_LBUTTONUP </I>
<br>Во-первых, ловить надо WM_LBUTTONDOWN, во-вторых есть какая-то методика отлова &quot;своих&quot; прерываний. Наверняка по адресу 40FFAE  сперва анализируют хендл окна.
<br><b>Mifodix</b> Спасибо за помощь. Придется еще подсказать <b>Ra_</b>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75153&amp;user=4072&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=6" class="addthx" data-post="75153"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Demon666[/b]','')">Demon666</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 213.5 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4551">Участник</a><br><font color=blue>забанен</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 июня 2006 06:52 <br><script type="text/javascript">QU('Demon666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Demon666" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>Ra_</b>
<br>
<br>Если есть в проге примерно вот такой код:
<br>push    ebp
<br>mov     ebp, esp
<br>sub     esp, 144h
<br>push    ebx
<br>push    esi
<br>push    edi
<br>lea     edi, [ebp+144h]
<br>mov     ecx, 51h
<br>mov     eax, 0CCCCCCCCh
<br>rep stosd
<br>call    ?
<br>pop     edi
<br>pop     esi
<br>pop     ebx
<br>add     esp, 144h
<br>mov     esp, ebp
<br>pop     ebp
<br>retn
<br>то тогда в топку эту прогу тот, кто делал эту бездарность, смотрел только в исходник, а то, что в нутриииии его не волновало.
<br>
<br>Тебе надо найти обработчик сообщений ищется он так:
<br>Ставим бряк на RegisterClassExA или RegisterClassExW остановились, смотрим WNDCLASSEX.lpfnWndProc это и есть обработчик, если нет, то должен лежать в какой то процедуре далее в коде что бы найти, надо проследить  за Msg, wParam, lParam лежащими в стеке, вообщем ищи процедуру, которая начнет снимать эти параметры со стека, скорей всего это первая или вторая будет, потом смотришь сравнение Msg,201h  и далее куда пошлет там и будет код обработки WM_LBUTTONDOWN.
<br>Если на полный экран запускается, то только ICE или IDA
<br>P. S.
<br>Если не поймешь, тогда учи азы RegisterClassEx и lpfnWndProc
<br><br><font size="1"><i>-----<br>ЗЫ: истЕна где-то рядом, Welcome@Google.com</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=75234&amp;user=4551&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=7" class="addthx" data-post="75234"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 июня 2006 10:18 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>Ra_ пишет:
<br>отправляется сообщение WM_LBUTTONUP </I>
<br> Я вроде по русски написал : обработка сообщений, а не их отправление.
<br><b>Mifodix</b> к сожалению неправильно подсказал <img src="img/smilies/s14.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75259&amp;user=4072&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=8" class="addthx" data-post="75259"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Ra_[/b]','')">Ra_</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.28'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=4258">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июня 2006 10:23 <br><script type="text/javascript">QU('Ra_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ra_" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Не брякается на  RegisterClassEx <img src="img/smilies/s9.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75550&amp;user=4258&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=9" class="addthx" data-post="75550"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июня 2006 12:24 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>Ra_ пишет:
<br>Не брякается на RegisterClassEx  </I>
<br> Прекрасно брякается  на  RegisterClassExA !
<br>
<br>004109FA  |.  52              PUSH EDX                              ; /pWndClassEx = 0012FC7C
<br>004109FB  |.  FF15 4CF84B00   CALL DWORD PTR DS:[&lt;&amp;USER32.RegisterC&gt;; &#92;RegisterClassExA
<br>00410A01  |.  3BF4            CMP ESI,ESP
<br>
<br>0012FC7C   00000030
<br>0012FC80   00000003
<br>0012FC84   004100C0  HT_Timin.004100C0   это наверное и есть WinProc
<br>0012FC88   00000000
<br>0012FC8C   00000000
<br>0012FC90   00400000  HT_Timin.00400000
<br>0012FC94   00000000
<br>0012FC98   00010011
<br>0012FC9C   00000000
<br>0012FCA0   00000000
<br>0012FCA4   004848BC  ASCII &quot;AppWindow&quot;
<br>
<br>
<br><I>Demon666 пишет:
<br>Если есть в проге примерно вот такой код: </I>
<br> На входе в каждую процедуру &quot;ложат&quot; тонны  СССССССС  в  стек.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75596&amp;user=4072&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=10" class="addthx" data-post="75596"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Ra_[/b]','')">Ra_</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.28'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=4258">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июня 2006 16:39 <br><script type="text/javascript">QU('Ra_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ra_" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Я сейчас наверное покажусь тупым, но я всё же спошу: А дальше что?
<br>Ну нашел я WinProc (вернее вы помогли мне найти <img src="img/smilies/s1.gif" alt=""> ), а дальше что?
<br>Я так понимаю что ключевой частью этой функции является вызов DefWindowProcA, ну по крайней мере она вызывается постоянно, причем аргументами передаются полученные сообщения. Но что и как дальше искать? Ну никак я сам не допру, поэтому и задаю вопрос в разделе для начинающих.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75660&amp;user=4258&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=11" class="addthx" data-post="75660"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Demon666[/b]','')">Demon666</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 213.5 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4551">Участник</a><br><font color=blue>забанен</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июня 2006 17:27 <br><script type="text/javascript">QU('Demon666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Demon666" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>Ra_</b>
<br>Ты ее взломать хочешь или просто из обработчика код утянуть, непонятно объясни цель всего этого, я это добро не качал, больше инфы надо!
<br>Я писал про полную версию SoftICE, а не обрезки, которые не только на бряк не срабатывают, но и синим экраном, пугать могут. 
<br>Судя по коду, ставь бряк на 4100С0, в стеке забей левое сообщение на 201h и начинай искать, где это все дело сравнивается, далее по прыжку и ты стоишь на обработчике левой кнопки.
<br><br><font size="1"><i>-----<br>ЗЫ: истЕна где-то рядом, Welcome@Google.com</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=75668&amp;user=4551&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=12" class="addthx" data-post="75668"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Ra_[/b]','')">Ra_</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.28'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=4258">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июня 2006 23:09 <br><script type="text/javascript">QU('Ra_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ra_" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Я хочу найти код обработчика, с целью вписания туда джампа на функцию ведения лога (функцию допишу позднее).  Ладно, продолжу рассказ про белого бычка <img src="img/smilies/s1.gif" alt="">
<br>Итак, прервавшись в 4100С0, я подменил значение стека на сообщение 201h с параметрами 01 и 01230456 (это, как я понимаю координаты курсора 123h и 456h), далее идет вызов функции 410140, где, наконец-то, я нашел сравнение типа сообщения (201h там присутствует) и даже маскирование координат курсора, и записывания их в глубины памяти.
<br>А дальше опять облом.... единственное сравнение координат которое я нашел это было сравнение с 1. А из остального бреда я вообще практически ничего не понял: постоянное перемешивание значений стека, забивание стека и регистров CCCCCCCC, маскирования одного и того же значения другим значением по 2 раза подряд, и тут-же затирание результата этим CCCCCCCC и прочие непонятки
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75738&amp;user=4258&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=13" class="addthx" data-post="75738"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Demon666[/b]','')">Demon666</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 213.5 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4551">Участник</a><br><font color=blue>забанен</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июня 2006 23:37 <br><script type="text/javascript">QU('Demon666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Demon666" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Сейчас слил, буду смотреть давай, что бы не флудить через ЛС общаться!
<br><br><font size="1"><i>-----<br>ЗЫ: истЕна где-то рядом, Welcome@Google.com</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=75744&amp;user=4551&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=14" class="addthx" data-post="75744"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Demon666[/b]','')">Demon666</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 213.5 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4551">Участник</a><br><font color=blue>забанен</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июня 2006 00:33 <br><script type="text/javascript">QU('Demon666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Demon666" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5159.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Не я умываю руки <img src="img/smilies/s14.gif" alt="">
<br>Вот по этому адресу сравнивается
<br>0041019B  cmp [ebp+var_18], 201h
<br>004101A2  jz loc_410337
<br>
<br>ставишь бряк на 410337 и жмешь левую кнопку там, где тебе надо, и ты на обработчике!(для теста)
<br>Это то, что ты просил найти в первом посте ну а дальше ты уже старайся понимать логику кнопок сам!
<br>Здесь рулят вот эти буквы:
<br><I>tundra37 пишет:
<br>Кнопки обычно вроде ловят в программе обработки мессаджей. Про это масса статей есть. </I>
<br><br><font size="1"><i>-----<br>ЗЫ: истЕна где-то рядом, Welcome@Google.com</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=75752&amp;user=4551&amp;forum_n=5&amp;topic=5159.html&amp;page=0&amp;anchor=15" class="addthx" data-post="75752"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Сложности с нахождением куска кода отвечающего за....</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#16" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="5159">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=5159" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
