<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Проблема после распаковки (аспр) - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="У меня маленкая проблема после того как я распаковал HexCmp. Импорт вроде хороший, но когда я запускаю программу то получаеца краш в _init_exit_proc на адресе 4а7ffa. Почему краш в этой функтии? Это же код генерированный">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Проблема после распаковки (аспр)</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июля 2007 15:21 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
У меня маленкая проблема после того как я распаковал HexCmp. Импорт вроде хороший, но когда я запускаю программу то получаеца краш в _init_exit_proc на адресе 4а7ffa. Почему краш в этой функтии? Это же код генерированный борландом.. :S <br><br><img src="img/attach.gif" alt=""> <a href="./files/0b4f_07.07.2007_CRACKLAB.rU.tgz">0b4f_07.07.2007_CRACKLAB.rU.tgz</a> - HexCmp_d_.rar
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145191&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=1" class="addthx" data-post="145191"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 июля 2007 15:22 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Оригинал не поместился...<br><br><img src="img/attach.gif" alt=""> <a href="./files/d159_07.07.2007_CRACKLAB.rU.tgz">d159_07.07.2007_CRACKLAB.rU.tgz</a> - HexCmp_orig.rar
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145192&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=2" class="addthx" data-post="145192"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 10:51 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Держи распакованный файл.<br>slil.ru/24605711
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145312&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=3" class="addthx" data-post="145312"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 14:35 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Sturgeon: Раскажи как ты сделал <img src="img/smilies/s2.gif" alt=""><br><br>Я делаю вот так:<br><br>Запускаю прогу в оли и считаю 27 &quot;Access violation at 0000...&quot;. <br>Ставлю бряк на секции кода и потом шифт-ф9 чтобы попасть на OEP (401000)<br>Делаю дамп из оли без реконструкции импорта<br>Запускаю ImpRec и реконстрыирую импорт (смотри аттач)<br>Прикручиваю импорт в виде новой секции и запускаю программу<br>Краш на адресе 4а8008.<br><br>В твоей версии этого краша конечно нет. Я попробовал анулировать блок после 4d4600 но тогда у меня краш на c10a03. Я тоже заметил что ты поменял информацию на 4bb4dc и 4bb598 - почему? <br><br><img src="img/attach.gif" alt=""> <a href="./files/7270_08.07.2007_CRACKLAB.rU.tgz">7270_08.07.2007_CRACKLAB.rU.tgz</a> - iat2.txt
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145357&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=4" class="addthx" data-post="145357"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 15:18 &middot; Поправил: Sturgeon <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Да, я смотрел твой дамп из первого поста. Прога падает на обращении к несуществующим адресам. Почему так происходит я не знаю, потому что чайник еще.<br>Есть небольшая заморочка со снятием дампа. Сам недавно узнал. Обычно это с Дельфовыми прогами бывает, но вот тебе тоже повезло<img src="img/smilies/s1.gif" alt="">. Там немного в другом месте нужно снимать дамп. Вот, почитай:<br>[url=http://www.exelab.ru/pro/faq.php?pg=1828<br>]http://www.exelab.ru/pro/faq.php?pg=1828<br>[/url]<br>Попробуй поковыряйся. Если не получится потом напишешь, где и что не получается. Расскажу. Сразу писать тутор не хочу, потому что это неспортивно<img src="img/smilies/s1.gif" alt=""><br>P.S. Да! Чуть не забыл. Когда восстанавлиываешь импорт, то используй плагин ASProtect 1.22.dll. ASPR_1.23-ImpREC_Plugin.dll хотя и поновее, но он в данной ситуации не справляется. У меня тоже сначала были праблы.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145360&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=5" class="addthx" data-post="145360"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 18:13 &middot; Поправил: pixl <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
edit...<br><br>Cделал дамп хороший тем методом и сейчас краша болше нет, но дамп всеравно не хочит работать. Программа просто выходит через ExitProcess.. У тебя тоже так было? В чем проблема?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145380&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=6" class="addthx" data-post="145380"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 18:36 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
00B028CC    5B              POP EBX                                  ; 00B15A04<br>00B028CD  ^ EB CE           JMP SHORT 00B0289D<br>00B028CF    61              POPAD                                                &lt;- Ты здесь<br>00B028D0    E8 3A000000     CALL 00B0290F                          &lt;- ВХОДИ В ЭТУ ФУНКЦИЮ<br>00B028D5    68 DE28B000     PUSH 0B028DE<br>00B028DA    FF0424          INC DWORD PTR SS:[ESP]<br>00B028DD    C3              RETN<br><br>Ты стоишь на адресе 00B028D0 (у тебя может быть другой адрес). Теперь ты входишь ВНУТРЬ функции CALL 00B0290F (ф7). Скролишь потихоньку вниз и увидишь такой код:<br><br>00B0297B    60              PUSHAD<br>00B0297C    68 2453B000     PUSH 0B05324<br>00B02981    8D45 F4         LEA EAX,DWORD PTR SS:[EBP-C]<br>00B02984    FF35 7869B000   PUSH DWORD PTR DS:[B06978]               ; HexCmp_o.00400000<br>00B0298A    FF10            CALL DWORD PTR DS:[EAX]<br>00B0298C    61              POPAD<br><br>Вот на этот POPAD ставишь бряк. Здесь же дампишь и восстанавливаешь импорт. Вот можешь почитать:<br><a href="http://www.exelab.ru/f/action=vthread&amp;topic=9048&amp;forum=5&amp;page=-1" target="_new">http://www.exelab.ru/f/action=vthread&amp;topic=9048&amp;forum=5&amp;p age=-1</a><br>Это я недавно тоже парился с аспром.<br>З.Ы. После распаковки есть еще одна хитрая заморочка. Потом расскажу. И взломать HexCmp у меня кстати не получается. Очень сложно для меня.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145382&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=7" class="addthx" data-post="145382"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 18:40 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
нашел все ети pop/push и сдампил. С заморочкой ты имееш в виду то что программа выходит сразу после старта?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145383&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=8" class="addthx" data-post="145383"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 18:51 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>pixl пишет:<br>С заморочкой ты имееш в виду то что программа выходит сразу после старта? </I><br>Ну да. Есть желание потрахаться самому?;)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145385&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=9" class="addthx" data-post="145385"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 19:56 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
хмм интересно.. подскажи мне как ты нашел адрес функции каторую маин вызевает, и как этот адрес попадает на место после копираита.. С хреновым accessviolation диалогом буду потом боротся <img src="img/smilies/s6.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145397&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=10" class="addthx" data-post="145397"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 20:51 &middot; Поправил: Sturgeon <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
После того ка ты снял дамп и восстановил импорт прога перестала выдавть сообщение об ошибке. Но и не запускается. Сначала я думал, что там есть проверка на контрольную сумму или размер файла.<br>Я сделал вот как.<br>Открыл распакованную прогу в Оле. Поставил бряк на ExitProcess<br>Брякнулся здесь:<br>004B52EF \. E8864E0000  CALL &lt;JMP.&amp;kernel32.ExitProcess&gt;  ; \ExitProcess<br>В стек посмотрел откуда вызывается эта процедура.<br>(Должна быть такая строчка)<br>0012FF84  |004B4701  RETURN to cmp.004B4701 from cmp.004B52E8<br>Перешел по адресу 004B4701.<br>Чуть выше вызов этой самой процедуры с выходом.<br>004B46FC  |.  E8 E70B0000   CALL r55555_.004B52E8<br>Поставил на него бряк. Еще чуть выше есть условный переход, который перепрыгивает эту функцию. Поставил на него бряк тоже.<br><br>Вышел еще на пару процедур вверх. Адреса возврата смотрел в стеке.<br><br>004B471C и 004B55CC<br><br>Скролишь экран вверх и смотришь где начало функции<br>PUSH EBP<br>MOV EBP,ESP<br>ADD ESP,-0C<br>Ставишь на начало функции бряк.<br><br>Когда дойдешь до адреса 004B55CC и найдешь начало функции (по адресу 004B5474), увидишь, что переход на эту функцию осуществляется офигенно длнинным прыжком с адреса 00401054. Поскольку  переход этот безусловный, то можно считать, что место ошибки мы локализовали. Ставим еще один бряк бряк на этот адрес. И перезапускаем прогу.<br>Сразу скажу, что все попытки менять переходы ничем не закончились, и прога все также не запускадась. Тогда я избрал другую тактику. Перезапустил пргу. (Бряки не убирай они еще будут нужны), а рядом открыл в отладчике оригинальную запакованную прогу. Ну дальше, в принципе понятно. Трассируем в соседних окнах оригинальную и распакованную прогу и сравниваем, где будут отличия.<br>Если подробнее, то это было так:<br>В запакованной проге доходим до ОЕР (401000) и расставляем те же бряки, что и в нашей распакованной проге. Тоесть брякаемся на длинном прыжке 00401054 и начинаем трассировать. Увидишь, что по адресу 004B55C0 в оригинальной проге запустится окно, а в распакованной проге нет. Вот тут-то собака и зарыта. Перезапускаем обе проги и брякаемся по адресу 004B55C0. Входи в функцию. Трассируем внитри функции по Ф8 и видим, что в запакованной проге условный переход по адресу 004041F1 не выполняется, а в распакованной проге - выполняется. Будем искать причину, почему такая разница. Вот этот кусочек кода:<br><br>004041EA   . CMP DWORD PTR DS:[4BB598],0  Здесь команда сравнения<br>004041F1   . JE SHORT HexCmp_o.004041F9   Собственно, интересующий нас переход<br>004041F3   . CALL DWORD PTR DS:[4BB598]   Вызов окна программы<br><br>То есть из кода понятно, что после того как значение в ячейке 4BB598 сравнивается с нулем происходит или не происходит старт программы. Посмотрим чему это значение равно в оригинальной и распакованной проге. Перезапускаем опять обе проги. Это в последний раз. Брякаемся по адресу 004041EA и смотрим, что лежит в вышеупомянутой ячейке в одной и другой проге. В распакованной проге ноль, а в оригинальной число 004039EC. Похоже на каой-то адрес.  В принципе это и есть адрес, потому что двумя строчками ниже идет вызов функции по этому адресу<br><br>004041F3.CALL DWORD PTR DS:[4BB598] То есть, на самом деле, выполняется CALL 004039EC<br><br>Остается только в распакованной проге в ячейки по адресу 4BB598 вписать значение 004039EC. Сделать это можно в любом хекс-редакторе, только не забывай писать задом наперед.<br><br>Уфф... Умаялся столько писать<img src="img/smilies/s1.gif" alt=""><br>Со взломом чего-то не получается<img src="img/smilies/s9.gif" alt=""> Не могу отловить где создается главное окно программы. Смотрел и в DeDe, и в SourceRescue. Скорее всего эта ячейка с подозрительным адресом и играет ключевую роль. Как мне кажется в зарегестрированной версии в ней должен лежать адрес функции мэйн. Кстати ключ, который вводится в окно регистрации по-моему не просто проверяется на правильность, а еще и выполняет какую-то функцию. Обрати внимание на звук, который сопровождает закрытие программы. Очень похоже на какую-то ошибку. Пробовал отловить в отладчике и не смог. В общем я такое не взломаю, но было бы очень интересно и познавательно посмотреть как борются с такими защитами.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145405&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=11" class="addthx" data-post="145405"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 21:28 &middot; Поправил: pixl <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Спасибо за такой длинный ответ <img src="img/smilies/s1.gif" alt=""> Я пришол к заключению что аспр вызывает какието функции в главном коде перед тем как прыгать на оеп. Глубко в одной из етих функций находица код который копирует этот адрес на свое место. Одна из этих функций даже пишет дату первого запуска гдето в программе. Твой дамп у меня показывает что мой триал закончился, а оригинал у меня работает. Я не помню где первый адрес пишется в сектию, но это можно найти с помощю бряков на секции где эта ячеика находится (4bb000). Запускаеш программу, отркрываеш сектию и нажимаеш шифт ф9 до того как сектиа станет распакована. Ставиш бряк на целой сектии и смотреш когда код туда пишет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145412&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=12" class="addthx" data-post="145412"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 21:40 &middot; Поправил: Sturgeon <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
В принципе, может такое быть. Я, честно говоря, сглупил. Перевел системные часы вперед и хотел поймать где проверяется время использования. А теперь не могу запустить ни запакованную ни распакованную прогу. Так что мой дамп может быть и неликвидый вообще. Попробуй распаковать свой работающий файл. Если проверка завязана на сам аспр, то есть шанс, что после распаковки защита пропадет. Хотя бы ее триальная часть.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145413&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=13" class="addthx" data-post="145413"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 21:58 &middot; Поправил: pixl <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Я распаковал его. Он запускается, но у меня выскакивает диалог &quot;EAccessViolation&quot;. Это потому что адреса B3xxxx не существуют. Посматрел где это аллокируется, и нашел 5d749c - в коде который находится в дата сектии.. Ты натыкалса на чтото такое?<br><br>edit..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145414&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=14" class="addthx" data-post="145414"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 22:56 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Я заметил что в твоем дампе ты прыгаеш на 4039ес. Это функция показывает диалог регистрации и вычодит. Почему этот адрес? Может ты ошибся ;) Потому что оригинал прыгает на 403d8c...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145422&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=15" class="addthx" data-post="145422"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июля 2007 23:06 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>pixl пишет:<br>оригинал прыгает на 403d8c </I><br>Может быть. Откуда я взял этот адрес я уже писал выше. Получилось так, что я возился с файлом уже просрочившим триал. Может быть там есть, что-то типа враппера. То есть вызываются похожие функции, а дальше код идет в совсем другом направлении. Попробую еще поковыряться завтра, а то на меня моя женщина уже ругается. Пошел исполнять псевдосупружеские обязанности. Это у меня лучше получается, чем аспротект снимать<img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145424&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=16" class="addthx" data-post="145424"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июля 2007 11:17 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
Доброе утро<img src="img/smilies/s1.gif" alt=""> Ну как успехи? Нашел что нибудь?<br>Я вот тут поковырялся еще немного. Если прыгать на тот адрес, что ты дал, то заметно, что появляется окно программы, а потом исчезает. Где оно исчезает я вроде отловил.<br><br>004B46AE  JNZ SHORT rrr65687.004B46CC<br>004B46B0  CMP DWORD PTR DS:[4D2440],0<br>004B46B7  JE SHORT rrr65687.004B46BF                    ; Если ноль, то нафиг<br>004B46B9  CALL DWORD PTR DS:[4D2440]<br>004B46BF  CALL rrr65687.004B53D4                           ;  Закрывается программа<br>004B46C4 CALL DWORD PTR DS:[4D2444]                   ;  rrr65687.004AFC2C<br><br><br>Вот этот код интересный. Он похож на тот, что я приводил выше. То есть сравнивается значение в ячейке 4D2440, а дальше либо навылет, если оно равно нулю, либо выполняется переход на адрес, который там лежит. У меня (в просроченной программе) это значение равно нулю. Можешь посмотреть какое значение у тебя в этой ячейке?<br><br>З.Ы. Жалко, что никто из &quot;взрослых&quot; не обращает внимания на этот топик. Сильно сложная защита для чайников<img src="img/smilies/s9.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145479&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=17" class="addthx" data-post="145479"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июля 2007 12:16 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>pixl</b>  Ты какой класс закончил? Второй или третий. Я в твоем посте <I>pixl пишет:Спасибо за такой длинный ответ...... </I> насчитал 17 орфографических ошибок<img src="img/smilies/s6.gif" alt=""><br><I>Sturgeon пишет:<br>Сильно сложная защита для чайников </I><br>В любом туторе для чайников пишут: &quot;теперь посмотрим ссылки на строки&quot;<br>А ты посмотрел? Если бы посмотрел, увидел бы<br>00408901   MOV EDX, 004BCE71    ; ASCII &quot;Sorry, but your 15-day trial has expired!<br> Please, register your copy.&quot;<br>Чуть выше ссылка на эту строку. Перейди по ней и увидишь три условных джампа. Дальше думаю разберешься сам
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145493&amp;user=423&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=18" class="addthx" data-post="145493"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июля 2007 12:37 &middot; Поправил: Sturgeon <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
Вот ведь...<br><b>crc1</b><br>Конечно смотрел строки. И нашел даже целых четыре! И переходы видел.<br>Я ступил в том, что немного неправильно поправил адрес в дампе. (Это можно почитать выше). И у меня вместо нормального Эбаута вылезала &quot;пустышка&quot;. И, естественно, правка всех этих переходов ничего не давала. <br>А после того, как я исправил адрес на более правильный, я уже и не лез в эти строки, потому что думал, что все намного сложнее<img src="img/smilies/s1.gif" alt="">. А оказалась лажа. В следующий раз буду иметь ввиду.<br>Уже в который раз хочу выразить искреннюю благодарность и признательность <b>crc1</b> за помощь и разъяснения!<br>P.S. Вроде без ошибок все написал;)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145500&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=19" class="addthx" data-post="145500"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июля 2007 22:18 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<I>crc1 пишет:<br>Ты какой класс закончил? Второй или третий. Я в твоем посте pixl пишет:Спасибо за такой длинный ответ...... насчитал 17 орфографических ошибок </I><br><br>12 я закончил. Есле бе ты по русски лет восем не говорил то мы бе посмотрели сколко у тебя ошибок было  ;) Извените за все ошибки, я пытаюсь писать как чисто как могу <img src="img/smilies/s1.gif" alt=""><br><br>Спасибо за все ответы.. Наконецто я полностью ее распаковал и убрал етот наг. Программа конешно хреновая, но ввиде урока по распоковке хороша...<br><br>Sturgeon: Почемуто у меня только твой дамп работает... в моем некоторые крашы... попробую все сначала сделать. Конечно сейчас у меня уже есть работающей дамп для сравнения <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145590&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=20" class="addthx" data-post="145590"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июля 2007 23:48 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
Слушай, а наг как нашел и убрал? Чего-то я поковырялся ни ничего не нашел.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145608&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=21" class="addthx" data-post="145608"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июля 2007 00:28 &middot; Поправил: pixl <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
Ок, посмотри на адрес 4бб4е8, сдес я думал что ты чтото поменял, потомучто информациа на этом адресе отличается в моем дампе. Я поставил мемори бряк на этих четырех баитах и запустил дамп. Брякнулся на 41д602. Решил поменять число на этих баитах на 10, чтобы обое джампа не прыголи ни куда. Нажимаю ф9 и вижу что у меня 16 дней триала. Оказивается эти 4 байта на 4бб4е8 репрезентируют сколько дней триала у тебя осталось. Это важно исправить чтобы у тебя окно не скрывалось. <br><br>Теперь на наг. Запускаю программу и поевляется наг. Паузирую программу и нажимаю алт ф9 чтобы дойти до кода программы. Выхожу на каком нибуть адресе в программе (может быть любой адрес) и ищу какуюнебуть петлю каторая сидит на наге. Для этого я иду с ф8 в оле и к концу выхожу на петле каторая находится на 4614с5. Ставлю бряк после петли и нажимаю ок на наге. Брякыюсь после петли и иду с ф8.. На 461539 пропадает наг.. иду далше с ф8. В конце концов выхожу на 408883. Ставлю бряк на вызове и перезагружаю программу. Пробою аннулировать вызов и жму ф9. Ура!! нет нага! <br><br>Интересно что я отвечаю сам на мой вопрос.. хотя без ваших ответов я бы навернека сейчас сидел на стадии распаковки <img src="img/smilies/s6.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145619&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=22" class="addthx" data-post="145619"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июля 2007 07:56 &middot; Поправил: crc1 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<I>Sturgeon пишет:<br>Слушай, а наг как нашел и убрал </I><br>Вот три условных джампа, про которые я писал выше<br><code>00408266    TEST CL, CL<br>00408268    JE 0040896C ;<b>если прыгнешь здесь, НАГ&#039;а не будет. Прога зарегана  </b><br>0040826E    CMP DWORD PTR DS:[4BB4E4], 0<br>00408275      JLE 00408888 ; <b>Прыжок тут - конец триала, прога закроется</b><br>0040827B   CMP DWORD PTR DS:[4BB4E4], 9<br>00408282      JLE 0040857E ;<b>здесь(не важно прыг/не прыг) - НАГ, работа в триале</b> </code> <br>В переменную [4BB4E4] AsProtect пишет кол-во триальных дней. Ты снял дамп когда триал кончился, т.е. в переменной [4BB4E4] было FFFFFFFF, поэтому и дамп твой закрывается<br><b>pixl</b><br>Извиняй, не хотел обидеть<img src="img/smilies/s2.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145641&amp;user=423&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=23" class="addthx" data-post="145641"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Sturgeon[/b]','')">Sturgeon</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.9 (ветеран), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.56'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3305">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июля 2007 11:18 <br><script type="text/javascript">QU('Sturgeon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Sturgeon" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
Все понятно. А я все джампы взял и занопил. Поэтому имел проблемы. Кстати, таких мест вроде два?<br><b>pixl</b>Метод похож на туторы от Лены;)<br>И еще один вопрос. Если вы снимаете дамп с рабочй проги, то есть у которой еще не кончился триал, естьли там проблемы с пропавшим адресом? Ну, то есть надо ли будет вручную забивать адрес перехода?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145675&amp;user=3305&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=24" class="addthx" data-post="145675"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]crc1[/b]','')">crc1</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 138.7 (ветеран), 135thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.79'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=423">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июля 2007 15:08 <br><script type="text/javascript">QU('crc1','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crc1" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
<I>Sturgeon пишет:<br>естьли там проблемы с пропавшим адресом? </I><br>А ты попробуй<img src="img/smilies/s2.gif" alt=""> Трашрегом сними аспровский триал, потом сними новый дамп
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145716&amp;user=423&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=25" class="addthx" data-post="145716"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]pixl[/b]','')">pixl</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.45'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=9529">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июля 2007 22:30 <br><script type="text/javascript">QU('pixl','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pixl" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=9299.html&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
Sturgeon: У меня во время дампа адрес ноль. Беру дамп на b421fb, прямо после того как аспр копирует все три декриптированные сектии на свое место.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=145813&amp;user=9529&amp;forum_n=5&amp;topic=9299.html&amp;page=0&amp;anchor=26" class="addthx" data-post="145813"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Проблема после распаковки (аспр)</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#27" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="9299">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=9299" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
