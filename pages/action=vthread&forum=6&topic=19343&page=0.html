<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Отладка резидентной программы - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здраствуйте! Пишу резидентный перехватчик прерывания. Задача состоит в том чтобы немного изменить данные, которые записываются в файл(функция 40h). Прерывание int 21h (функция 09h) - я успешно перехваываю, но мне нада зделать">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=31361'>zds</a>, <a target='_blank' href='?action=userinfo&amp;user=1288'>UniSoft</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Отладка резидентной программы</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]maxteam[/b]','')">maxteam</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 9.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.96'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=29793">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 декабря 2011 18:14 <br><script type="text/javascript">QU('maxteam','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=maxteam" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Здраствуйте!<br><br>Пишу резидентный перехватчик прерывания. Задача состоит в том чтобы немного изменить данные, которые записываются в файл(функция 40h).<br>Прерывание int 21h (функция 09h) -  я успешно перехваываю, но мне нада зделать перехват функции 40h- запис в файл. Когда я изменяю hook_function  equ 09h на 40h то прога вылетает, тоесть мне не удается сделать перехват функции 40 h.<br><br>+ как сделать отладку резидентной части , а то я работаю вслепую.<br><br>[CODE]<br>.286<br>code segment<br>org 100h<br>assume cs:code,ds:code<br>  <br>  hook_interrupt equ 21h ;номер периравання, що перехоплюється<br>  hook_function  equ 09h ;функція 40h - Запис даних у файл<br><br>  start:   <br>    jmp init             <br><br>	;-----------------------------------------------; <br>    ;        Обробник переривання                   ; <br>    ;        int 21h (резидентна частина)           ; <br>    ;-----------------------------------------------;<br>    hooker proc<br>	   ;зберігаєм флаги<br>	   pushf<br>	   <br>       ;ехо з резидента<br>	   @1:<br>	     cmp cx,09988h<br>	     jne @2<br>	     mov cx,09999h<br>	   <br>	   ;команда на самовигрузку<br>	   @2:<br>	     cmp cx,08888h<br>	     jne next<br>		 je self_unload<br>	   <br>	   next:<br>	   ;цільова функція?	   <br>       cmp ah,hook_function <br>       je ok<br>       ;відновлюєм флаги	   <br>       popf   <br>       ;передача керування старому вектору<br>	   jmp dword ptr cs:[old_int_vect] <br><br>	   ok: <br>         push ds <br>         push dx <br>         push cs   ;забезпечити звертання до змiнних<br>         pop ds    ;без використання префiксу cs:<br>         <br>		 mov dx,offset hooker_string <br>         pushf <br>		 ;передача керування старому вектору<br>         call dword ptr cs:[old_int_vect] <br>         pop dx <br>         pop ds <br>         popf <br>         <br>		 jmp hooker_exit<br>	     <br>	   self_unload:<br>		 ;Восстановим вектор hook_interrupt<br>         cli<br>		 mov ah,25h ; Функция установки вектора<br>         mov al,21h<br>		 lds dx,cs:old_int_vect ; Заполним DS:DX<br>         call dword ptr cs:[old_int_vect] <br>		 sti<br>		 <br>		 mov ah,0Eh<br>         mov al,&#039;O&#039;<br>		 int 10h<br>		 <br>		 mov ah,0Eh<br>         mov al,&#039;K&#039;<br>		 int 10h<br>		 <br>		 ;Получим из PSP адрес собственного окружения и выгрузим его<br>         mov es,cs:2ch ; ES ? окружение<br>         mov ah,49h ; Функция освобождения блока памяти<br>         int 21h<br>         <br>		 ;Выгрузим теперь саму программу<br>         push cs ; Загрузим в ES содержимое CS, т.е. сегментный адрес PSP<br>         pop es<br>         mov ah,49h ; Функция освобождения блока памяти<br>         int 21h<br>         <br>        <br><br>         ;push ds <br>	     ;mov ax,cs 	;звільнення блоку пам’яті <br>	     ;mov ds,ax	;оточення<br>	     ;mov es,cs:2ch<br>	     ;mov ah,49h<br>	     ;int 21h<br>	     ;pop ds <br><br>	     ;mov ax,cs	;звільнення пам’яті<br>	     ;mov es,ax	;блоку програми<br>	     ;mov ah,49h<br>	     ;int 21h<br>	   <br>	   hooker_exit:<br>	     iret <br>    hooker endp<br>	;-----------------------------------------------; <br>    ;               Кінець обробника                ; <br>    ;-----------------------------------------------;<br>	<br>    old_int:				  ;змiннi для збереження старої адреси<br>      old_int_vect  dd ?      ;старий вектор переривання hook_interrupt<br>      hooker_string db &#039;Target function was hooked!&#039;,0Dh,0Ah,&#039;&#036;&#039;    <br>      hooker_string1 db &#039;Self unloading...&#039;,0Dh,0Ah,&#039;&#036;&#039; 	  <br>	  <br>    ;-----------------------------------------------; <br>    ;   Блок ініціалізації (нерезидентна частина)   ; <br>    ;-----------------------------------------------;<br>    init:<br>	  mov cx,09988h<br>	  <br>	  mov ah,09h<br>   	  lea dx,msg5<br>	  int 21h<br>	  <br>	  cmp cx,09999h<br>	  je unload<br><br>  	  install:<br>	    ;отримати адресу попереднього вектора<br>        mov ah,35h<br>        mov al,hook_interrupt<br>        int 21h				<br>	<br>        ;переривання hook_interrupt<br>	    mov word ptr old_int_vect,bx    ;зберегти молодше слово адреси в old_ip<br>        mov word ptr old_int_vect+2,es  ;зберегти старше слово адреси в old_cs   <br>	<br>  	    ;встановити нову адресу вектора <br>	    ;cli<br>	    mov ah,25h<br>        mov al,hook_interrupt<br>        mov dx,offset hooker<br>        int 21h	<br>        ;sti       <br>	  <br>	    ;повідомлення про успішну ініціалізацію резидента<br>        mov ah,09h<br>   	    lea dx,msg1<br>	    int 21h<br>	<br>        mov dx,offset install	;завершити роботу i залишити резидентною<br>        int 27h 				;частину програми по мiтку install<br>    <br>      unload:<br>	    ;повідомлення про те що резидент вже загружений<br>        lea ax,msg3<br>        call print<br>		;вигрузка резидента<br>		lea ax,msg4<br>        call print<br>		<br>		call unload_hooker<br>		<br>		;lea ax,msg6<br>        ;call print<br>		<br>	    int 20h<br>		<br>	;-------------------------------------------------------------<br>	unload_hooker proc<br>	  mov cx,08888h<br>	  <br>	  mov ah,09h<br>   	  lea dx,msg5<br>	  int 21h<br>	  <br>	  ;ax=offset old_int<br>	  <br>	  ;перевірка того, чи наш обробник перший в ланцюзі переривань<br>	  ;mov ah,35h<br>	  ;mov al,hook_interrupt<br>	  ;int 21h<br>	  <br>	  <br>	  <br>	  <br>	  <br>	  <br>	  ;cmp word ptr old_int_vect,bx         <br>	  ;mov word ptr old_int_vect+2,es  ;зберегти старше слово адреси в old_cs <br>	<br>	  ;mov ax,es<br>	  ;cmp ax,word ptr[new_int]<br>	<br>	;jne CANT_CLOSE<br>	;cmp bx,word ptr[new_int+2]<br>	;je CAN_CLOSE<br>	;IRET<br>;якщо обробник не перший<br>;то відіслати йому запит на дезактивацію<br>;;CANT_CLOSE:<br>	;mov ax,4567h<br>	;int 1Ch<br>	;lea dx,TEXT3<br>	;mov ah,09h<br>	;int 21h<br>;якщо обробник перший, то встановити старий обробник<br>;CAN_CLOSE: <br>;	cli<br>;	mov ax,251Ch<br>;	pop ds<br>;	pop bx<br>;	int 21h<br>;	<br>;	push cs<br>;	pop ds<br>;	mov ah,49h<br>;	int 21h<br>;	sti<br>	<br>;	mov ah,09h<br>;	lea dx,TEXT2<br>;	int 21h<br>;	IRET<br>	  <br>	  <br>	  ret<br>	unload_hooker endp<br>	<br>	;посимвоотний друк<br>	print proc<br>      push si<br>      push bx<br><br>      mov si,ax<br>      mov ah,0Eh<br><br>      p:	  <br>		lodsb<br>        cmp al,&#039;&#036;&#039;<br>        je end_print<br>        int 10h<br>      jmp p<br><br>      end_print:<br>        pop bx<br>        pop si<br><br>        ret<br>	print endp  <br>	;-------------------------------------------------------------  <br>    msg1 db &#039;Resident was activated...&#039;,0Dh,0Ah,&#039;&#036;&#039;<br>    msg2 db &#039;Resident was deleted from memory...&#039;,0Dh,0Ah,&#039;&#036;&#039;<br>	msg3 db &#039;Resident is in memory...&#039;,0Dh,0Ah,&#039;&#036;&#039;<br>    msg4 db &#039;Unloading resident...&#039;,0Dh,0Ah,&#039;&#036;&#039;<br>	msg5 db &#039;Getting answer from resident...&#039;,0Dh,0Ah,&#039;&#036;&#039;<br>	msg6 db &#039;Resident was unloaded...&#039;,0Dh,0Ah,&#039;&#036;&#039;<br>    new_int dd ?<br>	<br>ends<br>end start<br><br>[/CODE]<br><br>спасибо!
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=297231&amp;user=29793&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=1" class="addthx" data-post="297231"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]HandMill[/b]','')">HandMill</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 222.2 (наставник), 115thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.14<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=4554">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 декабря 2011 18:30 <br><script type="text/javascript">QU('HandMill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HandMill" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
int 3 записать в новый обработчик прерывания. Отлаживать любым отладчиком программу, которая вызовет перехваченное прерывание.
<br><br><font size="1"><i>-----<br>все багрепорты - в личные сообщения</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=297233&amp;user=4554&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=2" class="addthx" data-post="297233"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]yagello[/b]','')">yagello</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 72.1 (постоянный), 30thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.56'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 декабря 2011 20:20 <br><script type="text/javascript">QU('yagello','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=yagello" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
У тебя в одном месте стоит константа, в другом (проверка резидента) напрямую вызывается с ah=09h<br>Что хочешь получить? И откуда скопипащен этот дикий код?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=297239&amp;user=23568&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=3" class="addthx" data-post="297239"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]maxteam[/b]','')">maxteam</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 9.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.96'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=29793">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 декабря 2011 22:48 <br><script type="text/javascript">QU('maxteam','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=maxteam" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
ну этот &quot;дикий&quot; код несовсем скопипащен....это я над ним шаманил....<br><br>ща попробую int 3...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=297249&amp;user=29793&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=4" class="addthx" data-post="297249"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]yagello[/b]','')">yagello</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 72.1 (постоянный), 30thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.56'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 декабря 2011 23:42 <br><script type="text/javascript">QU('yagello','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=yagello" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Помню, под ДОС deglucker был отладчик такой. Да и старый добрый TurboDebugger мне до сих пор помогает.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=297251&amp;user=23568&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=5" class="addthx" data-post="297251"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]maxteam[/b]','')">maxteam</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 9.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.96'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=29793">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 декабря 2011 00:50 <br><script type="text/javascript">QU('maxteam','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=maxteam" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
скомпилировал<br><img src="http://s017.radikal.ru/i437/1112/28/63fd6cc569da.jpg" border="0" align="" alt=""><br>прога та же...перехват функции 09h int21h, но я вставил туда int 3<br><img src="http://s005.radikal.ru/i212/1112/c1/b1453410efaa.jpg" border="0" align="" alt=""><br>запустил...работает<br><br>дальше нашол такой мануал:<br>---------------------------<br>    При компиляции или ассемблировании резидентной программы обеспечьте наличие в ней отладочной информации.<br>    Запустите отладчик и загрузите программу.<br>    Установите точку останова в начале резидентной части кода.  +++тут по идеи поставил в начале int 3 <br><img src="http://i043.radikal.ru/1112/4e/756abc003a54.jpg" border="0" align="" alt=""><br> С помощью команды Run Run запустите рабочую часть программы. +++ запустил<br><br>    Отладьте рабочую часть программы с помощью обычных методов. <br><br>+++остановилось здесь:<br><img src="http://s017.radikal.ru/i411/1112/e7/0b82a5af8bea.jpg" border="0" align="" alt=""><br>но!!! дальше nop&#039;a отладка не идет. Жму F7,F8 - доходит до nop`a и возвращается на int 3....ну ладно дальше я хочу сделать TD резидентом, но получаю сообщение типа can&#039;t go resident....<br><br>закрыл TD (alt+x) и запускаю прогу wfile.exe, которая должна вызвать 09h int 21h,  а мой обработчик хукнуть вызов. Но ничего не происходит. Походу обработчик не остался в памяти.<br><br>Что я не так делаю? <br><br>    Затем выйдите из TSR. Резидентная часть остается в памяти.<br>    Чтобы сделать резидентным отладчик, выберите команду File Resident. На TSR это не повлияет. После этого вы можете вернуться в DOS и вызвать TSR.<br>    В командной строке DOS нажмите оперативные клавиши вызова резидентной программы и работайте с ней как обычно.<br>    Выйдите из TSR. Теперь выполняется резидентная часть TSR, и отладчик обнаруживает точку останова. Вы можете отлаживать резидентный код. <br>---------------------------
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=297254&amp;user=29793&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=6" class="addthx" data-post="297254"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Veliant[/b]','')">Veliant</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 301.4 (мудрец), 194thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.62'>Активность: 0.17<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=3136">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 декабря 2011 09:19 <br><script type="text/javascript">QU('Veliant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Veliant" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19343.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Я бы посоветовал вам все это дело запускать в dosbox или нативном DOS, а не в командной строке винды
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=297261&amp;user=3136&amp;forum_n=6&amp;topic=19343.html&amp;page=0&amp;anchor=7" class="addthx" data-post="297261"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Отладка резидентной программы</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#8" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="19343">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=19343" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
