<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Как работает GetLocalTime ? - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Люди, кто знает как работает функция GetLocalTime...?">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=3756'>==DJ==[ZLO]</a>, <a target='_blank' href='?action=userinfo&amp;user=8344'>Magister Yoda</a>, <a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a>, <a target='_blank' href='?action=userinfo&amp;user=21426'>Dart Raiden</a>, <a target='_blank' href='?action=userinfo&amp;user=242'>Alf</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как работает GetLocalTime ?</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Nikolka[/b]','')">Nikolka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.75'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=514">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 05:29 <br><script type="text/javascript">QU('Nikolka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nikolka" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Люди, кто знает как работает функция GetLocalTime...?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7826&amp;user=514&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=1" class="addthx" data-post="7826"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Asterix[/b]','')">Asterix</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 450.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.26<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=58">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 05:48 <br><script type="text/javascript">QU('Asterix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Asterix" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Какой-то пространный вопрос, дизассемблируй функцию и исследуй. Или ты хотел пример использования?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7828&amp;user=58&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=2" class="addthx" data-post="7828"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Nikolka[/b]','')">Nikolka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.75'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=514">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 06:16 <br><script type="text/javascript">QU('Nikolka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nikolka" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Нет, я хотел узнать более конкретно: каким образом она генерирует дату, что я не врубаюсь в сгенеренный ею eax. Не могу связать - как же она генерит дату.
<br>
<br>А смысл вот в чём: хочу хакнуть антихакер касперского. Там блин не серийником защищено (было бы плёвое дело), а ключом. Срок ключа кончился - вот и всё.
<br>
<br>Поставил бряк на GetLocalTime, там теперь нужно заменить её возвращаемое значенме на постоянную, допустим 2000 год... типа ключ ещё не истёк. И не истечёт никогда ...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7829&amp;user=514&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=3" class="addthx" data-post="7829"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]WELL[/b]','')">WELL</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/38.gif" alt=""><br><span class=txtSm>Ранг: 266.8 (наставник), 5thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.22<span style='color:red'>&searr;</span>0.03</span><br>Статус: <a href="action=userinfo&amp;user=38">Участник</a><br><font color=blue>very WELL :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 06:20 <br><script type="text/javascript">QU('WELL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=WELL" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>Nikolka</b>
<br>The GetLocalTime function retrieves the current local date and time. 
<br>
<br>VOID GetLocalTime(
<br>
<br>    LPSYSTEMTIME lpSystemTime 	// address of system time structure  
<br>   );	
<br> 
<br>
<br>Parameters
<br>
<br>lpSystemTime
<br>
<br>Points to a SYSTEMTIME structure to receive the current local date and time. 
<br>
<br> 
<br>
<br>Return Values
<br>
<br>This function does not return a value.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7832&amp;user=38&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=4" class="addthx" data-post="7832"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]WELL[/b]','')">WELL</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/38.gif" alt=""><br><span class=txtSm>Ранг: 266.8 (наставник), 5thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.22<span style='color:red'>&searr;</span>0.03</span><br>Статус: <a href="action=userinfo&amp;user=38">Участник</a><br><font color=blue>very WELL :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 06:21 <br><script type="text/javascript">QU('WELL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=WELL" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<i>Nikolka пишет:
<br>хочу хакнуть антихакер касперского</i>
<br>OutPost лучше =)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7833&amp;user=38&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=5" class="addthx" data-post="7833"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 08:02 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
У тебя есть ключ, пусть даже и истекший, ты можешь узнать, где в ключе срок (мне кажется, это не так трудно). Или этот ключ в блэк-листе, такое тоже может быть, если с этим ключом у тебя прога ни разу не работала.
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=7844&amp;user=410&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=6" class="addthx" data-post="7844"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]PlainTeXT[/b]','')">PlainTeXT</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 111.4 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.93'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=101">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 08:20 <br><script type="text/javascript">QU('PlainTeXT','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PlainTeXT" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>Bitfry</b>
<br>В ключе наверняка есть дата истечения.. тока что это тебе даст -).. ты же не станешь там менять дату и думать, что прога будет работать и дальше <img src="img/smilies/s1.gif" alt="">..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7845&amp;user=101&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=7" class="addthx" data-post="7845"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Asterix[/b]','')">Asterix</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 450.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.26<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=58">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 октября 2004 09:28 &middot; Поправил: Asterix <br><script type="text/javascript">QU('Asterix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Asterix" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>Nikolka</b>
<br>Не знаю каковы твои познания в API кодинге и в ассемблере, но функция GetLocalTime ничего в eax не возвращает, а пример использования вот:
<br><pre>.486
<br>.model flat, stdcall
<br>option casemap:none
<br>include &#92;masm32&#92;include&#92;windows.inc
<br>include &#92;masm32&#92;include&#92;kernel32.inc
<br>include &#92;masm32&#92;include&#92;user32.inc
<br>includelib user32.lib
<br>includelib kernel32.lib
<br>
<br>
<br>.DATA
<br>
<br>szCaption       db  &quot;LocalTime&quot;,0
<br>ALIGN DWORD
<br>szFormat  db  &quot;%s %02u %04u at %02u:%02u:%02u&quot;,0
<br>ALIGN DWORD
<br>month  db  &quot;Jan&quot;,0
<br>       db  &quot;Feb&quot;,0
<br>       db  &quot;Mar&quot;,0
<br>       db  &quot;Apr&quot;,0
<br>       db  &quot;May&quot;,0
<br>       db  &quot;Jun&quot;,0
<br>       db  &quot;Jul&quot;,0
<br>       db  &quot;Aug&quot;,0
<br>       db  &quot;Sep&quot;,0
<br>       db  &quot;Oct&quot;,0
<br>       db  &quot;Nov&quot;,0
<br>       db  &quot;Dec&quot;,0
<br>
<br>
<br>.DATA?
<br>ALIGN DWORD
<br>_st  SYSTEMTIME  &lt;&gt;
<br>ALIGN DWORD
<br>buffer  db  128 dup (?)
<br>
<br>.CODE
<br>
<br>ALIGN DWORD
<br>start:
<br>  mov  ebx, OFFSET _st
<br>  invoke GetLocalTime, ebx
<br>  assume ebx:ptr SYSTEMTIME
<br>  xor eax, eax
<br>  mov ax, [ebx].wSecond
<br>  push eax   ; 1
<br>  mov ax, [ebx].wMinute
<br>  push eax   ; 2
<br>  mov ax, [ebx].wHour
<br>  push eax   ; 3
<br>  mov ax, [ebx].wYear
<br>  push eax   ; 4
<br>  mov ax, [ebx].wDay
<br>  push eax   ; 5
<br>  mov ax, [ebx].wMonth
<br>  lea eax, [month-4+eax*4]
<br>  push eax   ; 6
<br>  assume ebx:nothing
<br>  push OFFSET szFormat   ; 7
<br>  mov esi, OFFSET buffer
<br>  push esi   ; 8
<br>  call wsprintf
<br>  add esp, (8 * SIZEOF DWORD)
<br>  invoke MessageBox, NULL, esi, OFFSET szCaption, MB_OK or MB_ICONINFORMATION
<br>  invoke ExitProcess, 0
<br>End start</pre>
<br>
<br>
<br>
<br><img src="img/attach.gif"> <a href="files/_417079146__LocalTime.exe">_417079146__LocalTime.exe</a><!--file-->
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7848&amp;user=58&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=8" class="addthx" data-post="7848"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Nikolka[/b]','')">Nikolka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.75'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=514">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 ноября 2004 05:14 <br><script type="text/javascript">QU('Nikolka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nikolka" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Нет, ключ я уже просматривал, исследовал - дата истечения зашита и зашифрована.
<br>
<br>Кстати, пока с этим будет пауза, т.к. тут оказалась проверка CRC. Пока придумать ничего не могу. Пока. Сообщение (о изменениях в файле) не ловится никак... Буду думать.
<br>
<br>А Астериксу пасиба... Как и всем вам...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7967&amp;user=514&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=9" class="addthx" data-post="7967"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Man1ac[/b]','')">Man1ac</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=345">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 ноября 2004 07:03 &middot; Поправил: Man1ac <br><script type="text/javascript">QU('Man1ac','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Man1ac" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<i>Nikolka пишет:
<br>Кстати, пока с этим будет пауза, т.к. тут оказалась проверка CRC. Пока придумать ничего не могу. </i>
<br>
<br>bpx ReadFile
<br>bpx CreateFileA
<br>
<br>Думаю больше ничего не придумаешь с CRC <img src="img/smilies/s1.gif" alt=""> Прога сама себя считывает в буффер одной из этих функций и потом производит циклическое вычисление хэша примерно так:
<br>crc32= crc_table[(crc32^ (*buffer++)) &amp; 0xFF]
<br>Ну а потом: if(crc32!=hash) bad_guy(...); Конечно, это самый простой способ =)
<br>
<br>Так что бряки в руки и вперёд <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=7975&amp;user=345&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=10" class="addthx" data-post="7975"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]DrGolova[/b]','')">DrGolova</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/301.jpg" alt=""><br><span class=txtSm>Ранг: 199.6 (ветеран), 12thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.84'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=301">Участник</a><br><font color=blue>www.uinc.ru</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 ноября 2004 11:05 <br><script type="text/javascript">QU('DrGolova','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DrGolova" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
&gt; Конечно, это самый простой способ =)
<br>Канешна, поэтому все нормальные люди используют цифровую подпись.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=8005&amp;user=301&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=11" class="addthx" data-post="8005"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Man1ac[/b]','')">Man1ac</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=345">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 ноября 2004 13:49 &middot; Поправил: Man1ac <br><script type="text/javascript">QU('Man1ac','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Man1ac" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>DrGolova</b>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=8022&amp;user=345&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=12" class="addthx" data-post="8022"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Asterix[/b]','')">Asterix</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 450.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.26<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=58">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 ноября 2004 20:31 <br><script type="text/javascript">QU('Asterix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Asterix" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
&gt; <i>Прога сама себя считывает в буффер одной из этих функций</i>
<br>
<br>Да нет, с помощью CreateFile ничего никуда не считывается ;)
<br>Либо ReadFile, либо MMF, т.е. MapViewOfFile.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=8042&amp;user=58&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=13" class="addthx" data-post="8042"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Nikolka[/b]','')">Nikolka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.75'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=514">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 ноября 2004 07:12 <br><script type="text/javascript">QU('Nikolka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nikolka" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Люди, не мучайтесь! После того сообщения на форуме прошло 40 мин. и CRC был хакнут элементарно...
<br>
<br>Т.к. сообщение не могло словиться обычными методами, то пришлось искать эту строчку в дизассемблере уже в 100 раз. После того, как я понял - WinDASM с русским не дружит дело было в шляпе: загружаю прогу Resourse Hacker. Ищу эту строчку, меняю на какой-нить английский текст (типа Vremja vashe isteklo), сохраняю, дизасемблю. Строчка найдена.
<br>
<br>Смотрю прямо перед MessageBoxA стоит je... меняю на jmp... УРА! Теперь могу менять прогу скока хочу... элементарный взлом CRC (антихакер <img src="img/smilies/s1.gif" alt="">)).
<br>
<br>Теперь по GetLocalTime...  Я так из куска кода мало чё понял. Так как мне задать постоянную вместо возвращаемого значения???
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=8072&amp;user=514&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=14" class="addthx" data-post="8072"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Man1ac[/b]','')">Man1ac</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=345">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 ноября 2004 09:27 &middot; Поправил: Man1ac <br><script type="text/javascript">QU('Man1ac','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Man1ac" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=773.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>Nikolka</b>
<br>Хыхы =) Проверка на CRC типа как я написал <img src="img/smilies/s5.gif" alt="">
<br>
<br><b>Asterix</b>
<br>Да, естественно не считывается <img src="img/smilies/s1.gif" alt=""> Тупанул <img src="img/smilies/s1.gif" alt=""> Но всё равно можно поймать место, когда прога сама себя открывает ;)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=8087&amp;user=345&amp;forum_n=1&amp;topic=773.html&amp;page=0&amp;anchor=15" class="addthx" data-post="8087"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как работает GetLocalTime ?</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#16" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="1">
<input type="hidden" name="topic" value="773">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=773" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
