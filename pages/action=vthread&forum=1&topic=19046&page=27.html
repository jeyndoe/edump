<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Взлом Android приложений - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="В теме обсуждаются вопросы взлома под андроид и соответствующие тулзы. ТУТОРИАЛЫ: --&gt; Тутор от chelpa&lt;-- --&gt; От аффтора antilvl&lt;-- --&gt; дебаг .so&lt;-- ТУЛЗЫ: JEB ApkAnalyser --&gt; Android Reverse Engineering">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a> (+8 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Взлом Android приложений</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=26.html">&lt;&lt;</a> <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=0.html">1</a> ... <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=26.html">27</a> . <b>28</b> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=28.html">29</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=29.html">30</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=30.html">31</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=31.html">32</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=32.html">33</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=33.html">34</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=34.html">35</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=35.html">36</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=36.html">37</a> ... <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=37.html">38</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=38.html">39</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=28.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]SaNX[/b]','')">SaNX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 456.3 (мудрец), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.03'>Активность: 0.28<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=2108">Участник</a><br><font color=blue>Android Reverser</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 сентября 2011 12:37 &middot; Поправил: SaNX <br><script type="text/javascript">QU('SaNX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SaNX" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#1');return false;">#1</a> </span><div align=left><br>
В теме обсуждаются вопросы взлома под андроид и соответствующие тулзы.<br><u><b>ТУТОРИАЛЫ:</b></u><br><noindex><a href="/f/files/8e98_14.12.2012_EXELAB.rU.tgz" rel="nofollow" target="_blank">--&gt; Тутор от chelpa&lt;--</a></noindex><br><noindex><a href="http://androidcracking.blogspot.ru/search/label/tutorial" rel="nofollow" target="_blank">--&gt; От аффтора antilvl&lt;--</a></noindex><br><noindex><a href="/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=14#12" rel="nofollow" target="_blank">--&gt; дебаг .so&lt;--</a></noindex><br><br><u><b>ТУЛЗЫ:</b></u><br>JEB<br>ApkAnalyser<br><noindex><a href="http://redmine.honeynet.org/projects/are/wiki" rel="nofollow" target="_blank">--&gt; Android Reverse Engineering (A.R.E.) &lt;--</a></noindex><br><noindex><a href="https://ibotpeaches.github.io/Apktool/" rel="nofollow" target="_blank">--&gt; Apktool &lt;--</a></noindex><br><noindex><a href="https://github.com/JesusFreke/smali" rel="nofollow" target="_blank">--&gt; Smali/baksmali &lt;--</a></noindex><br><noindex><a href="http://code.google.com/p/apk-recovery/" rel="nofollow" target="_blank">--&gt; APKRecovery &lt;--</a></noindex><br><noindex><a href="http://code.google.com/p/dex2jar/" rel="nofollow" target="_blank">--&gt; Dex2Jar &lt;--</a></noindex><br><noindex><a href="http://code.google.com/p/apkinspector/" rel="nofollow" target="_blank">--&gt; APKInspector &lt;--</a></noindex><br><noindex><a href="http://avatar.dimonvideo.ru/forum/att/1728149047/ae_luckypatcher.apk" rel="nofollow" target="_blank">--&gt; Lucky Patcher 1.2.0 &lt;--</a></noindex><br><noindex><a href="http://narod.ru/disk/38276760001/CrackAssist.0.3.by.ChelpuS.apk.html" rel="nofollow" target="_blank">--&gt; Crack Assist 0.3 &lt;--</a></noindex><br><noindex><a href="http://ul.to/or3kme6t" rel="nofollow" target="_blank">--&gt; ART &lt;--</a></noindex><br><noindex><a href="http://jd.benow.ca" rel="nofollow" target="_blank">--&gt; JD-GUI &lt;--</a></noindex><br><noindex><a href="http://zairon.wordpress.com/dexinspector/" rel="nofollow" target="_blank">--&gt; DexInspector &lt;--</a></noindex><br><noindex><a href="https://github.com/strazzere/android-unpacker/tree/master/native-unpacker" rel="nofollow" target="_blank">--&gt; Android unpacker &lt;--</a></noindex><br>GikDbg<br><br><br>В аттаче fernflower, очень годный жава декомпилер.<br><img src="img/attach.gif" alt=""> <a href="./files/0ece_06.12.2012_EXELAB.rU.tgz">0ece_06.12.2012_EXELAB.rU.tgz</a> - fernflower.jar
<br><br><font size="1"><i>-----<br>SaNX</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=291546&amp;user=2108&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=1" class="addthx" data-post="291546"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=1931" title="13-09-2011 19:21, ранг:438.3" target="_blank">4kusNick</a>, <a href="action=userinfo&user=24193" title="10-10-2011 17:52, ранг:0.4" target="_blank">WmLiM</a>, <a href="action=userinfo&user=21807" title="19-11-2011 18:04, ранг:6.3" target="_blank">gsx3000</a>, <a href="action=userinfo&user=2775" title="27-01-2012 12:12, ранг:342.4" target="_blank">Maximus</a>, <a href="action=userinfo&user=27749" title="15-06-2012 17:13, ранг:2.0" target="_blank">CoolMax_86</a>, <a href="action=userinfo&user=1301" title="14-08-2012 06:11, ранг:68.3" target="_blank">Rustem</a>, <a href="action=userinfo&user=14476" title="02-10-2012 08:04, ранг:97.0" target="_blank">Oott</a>, <a href="action=userinfo&user=32939" title="06-10-2012 20:10, ранг:1.2" target="_blank">streit</a>, <a href="action=userinfo&user=11207" title="07-10-2012 13:49, ранг:3.8" target="_blank">t0ShA</a>, <a href="action=userinfo&user=21408" title="06-12-2012 14:13, ранг:60.2" target="_blank">BAHEK</a>, <a href="action=userinfo&user=35262" title="09-07-2013 07:46, ранг:3.8" target="_blank">sooqa</a>, <a href="action=userinfo&user=24" title="10-07-2013 16:24, ранг:1249.8" target="_blank">Ara</a>, <a href="action=userinfo&user=17319" title="12-11-2013 10:01, ранг:233.4" target="_blank">VodoleY</a>, <a href="action=userinfo&user=28841" title="14-01-2014 12:28, ранг:65.9" target="_blank">vden</a>, <a href="action=userinfo&user=36687" title="24-01-2014 10:45, ранг:0.0" target="_blank">Thegodofviruses</a>, <a href="action=userinfo&user=15457" title="10-03-2014 13:45, ранг:0.3" target="_blank">SDFnik</a>, <a href="action=userinfo&user=13359" title="26-03-2014 23:28, ранг:4.4" target="_blank">Soso</a>, <a href="action=userinfo&user=24594" title="21-04-2014 13:29, ранг:22.1" target="_blank">ff0h</a>, <a href="action=userinfo&user=2753" title="12-05-2014 12:15, ранг:63.1" target="_blank">RAMZEZzz</a>, <a href="action=userinfo&user=37517" title="05-06-2014 22:08, ранг:0.0" target="_blank">quency</a>, <a href="action=userinfo&user=25973" title="18-06-2014 18:44, ранг:3.2" target="_blank">XroM_N70</a>, <a href="action=userinfo&user=34465" title="23-12-2014 17:07, ранг:38.2" target="_blank">Alinator3500</a>, <a href="action=userinfo&user=16383" title="16-01-2015 06:31, ранг:341.1" target="_blank">Coderess</a>, <a href="action=userinfo&user=38223" title="30-06-2015 22:50, ранг:3.5" target="_blank">samtehnik</a>, <a href="action=userinfo&user=6946" title="12-08-2016 12:26, ранг:721.8" target="_blank">Isaev</a>, <a href="action=userinfo&user=43857" title="29-04-2018 04:32, ранг:0.0" target="_blank">dgyst</a>, <a href="action=userinfo&user=43820" title="22-01-2019 11:52, ранг:1.2" target="_blank">ALSSL</a>, <a href="action=userinfo&user=35473" title="03-02-2019 10:35, ранг:390.0" target="_blank">dosprog</a>, <a href="action=userinfo&user=40400" title="23-07-2019 05:23, ранг:0.1" target="_blank">omeh2003</a>, <a href="action=userinfo&user=11638" title="29-09-2019 17:04, ранг:39.7" target="_blank">d0wn</a>, <a href="action=userinfo&user=26651" title="07-10-2019 04:38, ранг:379.3" target="_blank">ELF_7719116</a>, <a href="action=userinfo&user=7" title="23-01-2020 13:38, ранг:534.7" target="_blank">Bad_guy</a></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b][wl][/b]','')">[wl]</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/2760.jpg" alt=""><br><span class=txtSm>Ранг: 196.6 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.76'>Активность: 0.07<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=2760">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 марта 2016 16:08 &middot; Поправил: [wl] <br><script type="text/javascript">QU('[wl]','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=[wl]" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#2');return false;">#2</a> </span><div align=left><br>
bluestack (хотя весит он тоже много)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=363786&amp;user=2760&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=2" class="addthx" data-post="363786"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 29 марта 2016 02:00 &middot; Поправил: Apokrif <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#3');return false;">#3</a> </span><div align=left><br>
<I>[wl] пишет:<br><u>script_kidis пишет:<br>Есть уже отковырянное приложение под андроид простая апка<br></u>bluestack (хотя весит он тоже много)</I><br>bluestack это эмулятор ARM, а у него простая апка (т.е. без .so).<br>Или Genymotion или гуглевый Android эмулятор x86, ISC или еще более ранний просто &quot;летать будут&quot;.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=363799&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=3" class="addthx" data-post="363799"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июня 2016 02:51 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#4');return false;">#4</a> </span><div align=left><br>
Всем привет.<br>Ломаю андроид прогу, столкнулся с тем, что в новой ее версии разработчики критически важные пост запросы на сервер попрятали в нативном коде, в папке assets файлы .so.dat<br>Подскажите как разбирать это ? Нужно найти в .so адреса, на которые идут пост запросы из программы.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=364996&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=4" class="addthx" data-post="364996"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]JST[/b]','')">JST</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.18'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=40653">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июня 2016 04:31 &middot; Поправил: JST <br><script type="text/javascript">QU('JST','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=JST" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#5');return false;">#5</a> </span><div align=left><br>
del
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=364997&amp;user=40653&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=5" class="addthx" data-post="364997"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Quadcon[/b]','')">Quadcon</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 30.2 (посетитель), 18thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.64'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23230">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июня 2016 15:52 <br><script type="text/javascript">QU('Quadcon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Quadcon" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#6');return false;">#6</a> </span><div align=left><br>
<I>mixer632 пишет:<br>Подскажите как разбирать это ? Нужно найти в .so адреса, на которые идут пост запросы из программы.  </I><br>Ну так в первом сообщении топика есть ссылка на дебаг *.so, да и в чем сложность то? Берете ida в руки и в перед.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365005&amp;user=23230&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=6" class="addthx" data-post="365005"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июня 2016 03:28 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#7');return false;">#7</a> </span><div align=left><br>
<I>Quadcon пишет:<br>Ну так в первом сообщении топика есть ссылка на дебаг *.so, да и в чем сложность то? Берете ida в руки и в перед.  </I><br>Я выяснил, что программа накрыта протектором DexProtect. У меня вопрос файлы *.so.dat ее результат деятельности, это те самые файлы, что в той статье в шапке или тут совсем другой подход снятия защиты ?<br>Меня интересует как снять этот протектор с андроид проги. Как я понял основная проблема в нем.<br>Про иду, я пробовал засунуть эти файлы в иду, не запускается анализ их.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365013&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=7" class="addthx" data-post="365013"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]chelpa[/b]','')">chelpa</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 90.7 (постоянный), 32thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.57'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14586">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июня 2016 12:39 <br><script type="text/javascript">QU('chelpa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=chelpa" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#8');return false;">#8</a> </span><div align=left><br>
<I>mixer632 пишет:<br>Про иду, я пробовал засунуть эти файлы в иду, не запускается анализ их.  </I><br>В таком виде защиты лучше действовать с правами root на устройстве. Когда приложение запущено, это so.dat приводятся в нормальный вид где то во внутренней памяти и уже потом запускаются (это лишь предположение). Вот в этот момент их и надо скопировать отдельно куда-то и уже анализировать их.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365103&amp;user=14586&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=8" class="addthx" data-post="365103"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июня 2016 13:06 &middot; Поправил: mixer632 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#9');return false;">#9</a> </span><div align=left><br>
<b>chelpa</b>, работаю на виртуальном устройстве с рутом. А как правильно грузить в иду потом уже скопированный *.so либу. Я знаю список функций нативных, которые она реализует, но когда в иду гружу, она не определяет имена функций. Мне хочется через иду найти, где код этих функций там. Она там определила функции просто как обычно sub_номер.<br>Анализ запускается на *.so файле, перехваченном с устройства, но имена функций не находит.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365104&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=9" class="addthx" data-post="365104"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]chelpa[/b]','')">chelpa</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 90.7 (постоянный), 32thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.57'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14586">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июня 2016 15:29 <br><script type="text/javascript">QU('chelpa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=chelpa" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#10');return false;">#10</a> </span><div align=left><br>
<I>mixer632 пишет:<br>А как правильно грузить в иду потом уже скопированный *.so либу. </I><br>Имена функций скорее всего удалены, такое теперь часто встречается, придётся анализировать без названий. Хотя может и есть методы приведения этого всего в порядок, но я таких тонкостей не знаю<img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365106&amp;user=14586&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=10" class="addthx" data-post="365106"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 июня 2016 21:36 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#11');return false;">#11</a> </span><div align=left><br>
<I>chelpa пишет:<br>Имена функций скорее всего удалены, такое теперь часто встречается, придётся анализировать без названий. </I><br>А как определить с какой инструкции в ида какая из нативных функций начинается, как это определять интересует.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365109&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=11" class="addthx" data-post="365109"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]chelpa[/b]','')">chelpa</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 90.7 (постоянный), 32thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.57'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14586">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2016 17:10 <br><script type="text/javascript">QU('chelpa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=chelpa" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#12');return false;">#12</a> </span><div align=left><br>
<I>mixer632 пишет:<br>А как определить с какой инструкции в ида какая из нативных функций начинается, как это определять интересует.  </I><br>не совсем понял вопрос<img src="img/smilies/s1.gif" alt="">)) но ответ - без понятия<img src="img/smilies/s1.gif" alt="">))
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365119&amp;user=14586&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=12" class="addthx" data-post="365119"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 июня 2016 22:47 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#13');return false;">#13</a> </span><div align=left><br>
<b>chelpa</b>, у меня в смали файле есть список прототипов нативных функций типа вот пример public static native void aadb(Object var0, Object var1);<br>Мне хочется через иду определить с какой команды каждая эта нативная функция в этой либе начинается, а далее уже исследовать те функции, которые интересуют.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365121&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=13" class="addthx" data-post="365121"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2016 00:37 &middot; Поправил: DenCoder <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#14');return false;">#14</a> </span><div align=left><br>
<I>mixer632 пишет:<br>Я знаю список функций нативных, которые она реализует, но когда в иду гружу, она не определяет имена функций. </I><br>У *.so должен же быть экспорт, весь экспорт по именам.<br><br><I>mixer632 пишет:<br>у меня в смали файле есть список прототипов нативных функций типа вот пример public static native void aadb(Object var0, Object var1);<br>Мне хочется через иду определить с какой команды каждая эта нативная функция в этой либе начинается </I><br>Смали - это, грубо говоря, байт-код от компилятора джавы, *.so - машинный код для ARM. Если в приложении на джаве как-то используется so-модуль, то связь с ним через импорт, ида должна его показывать, хотя бы минимум, соответсвенно в *.so ида должна показывать экспорт, иначе никак. Где-то как-то должна быть связь <I>public static native void aadb(Object var0, Object var1)</I> с настоящим названием, если это прототип функции из *.so, иначе бы не грузилось и не работало...<br><br><b>Добавлено спустя 6 минут</b><br><I>DenCoder пишет:<br>У *.so должен же быть экспорт, весь экспорт по именам. </I><br>Попробуйте найти dlopen() и dlsym(), через них динамическая линковка/импорт
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=365123&amp;user=24257&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=14" class="addthx" data-post="365123"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2016 01:41 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#15');return false;">#15</a> </span><div align=left><br>
<I>DenCoder пишет:<br>соответсвенно в *.so ида должна показывать экспорт, иначе никак. </I><br>Да, но только в экспорте всего одна функция JNI_OnLoad.<br><img src="http://data3.floomby.com/files/share/10_6_2016/0/HojJuGzaUC5dYpXjvWbZw.jpg" border="0" align="" alt=""><br>Функции dlopen() и dlsym() действительно тут есть.<br><br><br><I>DenCoder пишет:<br>Если в приложении на джаве как-то используется so-модуль </I><br>Да используется, к примеру вызов aadb будет там ha.aadb(парам1, парам2);
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365125&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=15" class="addthx" data-post="365125"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.4 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2016 10:52 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#16');return false;">#16</a> </span><div align=left><br>
<b>mixer632</b><br>Смотри внутри JNI_OnLoad регистрацию интерфейсов. Там будут все маппинги.
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=365127&amp;user=11966&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=16" class="addthx" data-post="365127"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=24257" title="10-06-2016 09:11, ранг:244.5" target="_blank">DenCoder</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 июня 2016 12:11 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#17');return false;">#17</a> </span><div align=left><br>
<b>mixer632</b><br>То, что выделено в окне функций жирным - импорт. j_j_dlsym - двойной джамп на dlsym(), слабый признак обфускации... но можно через эту функу выйти на заветный код. Правда имена импортируемых функций скорей всего шифрованы... в этом случае расшифровать их стоит определённого труда без дебага. Про JNI_OnLoad не знал... джавовский обработчик загрузки модуля...
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=365129&amp;user=24257&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=17" class="addthx" data-post="365129"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 июня 2016 20:31 &middot; Поправил: Apokrif <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#18');return false;">#18</a> </span><div align=left><br>
<I>r_e пишет:<br>Смотри внутри JNI_OnLoad регистрацию интерфейсов. Там будут все маппинги.</I><br>Не обязательно. Это просто рекомендуется делать маппинги (для не экспортируемых функций) в JNI_OnLoad. Маппинги регистрируются с помощью RegisterNatives и её можно вызвать во многих местах. Я вызываю RegisterNatives() в статическом методе  моего класса и у этого класса &quot;вдруг&quot; появляется еще вагон функций:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">JNIEXPORT&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;JNICALL&nbsp;Java_XXX_create<span class="hl_char">(</span>&nbsp;JNIEnv&nbsp;<span class="hl_char">*</span>env<span class="hl_char">,</span>&nbsp;jobject&nbsp;object<span class="hl_char">,</span>&nbsp;jstring&nbsp;engineConfig&nbsp;<span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;env<span class="hl_char">-</span><span class="hl_char">&gt;</span>RegisterNatives<span class="hl_char">(</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">)</span></li><li class="hl_l0">}</li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=365159&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=18" class="addthx" data-post="365159"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=24257" title="12-06-2016 20:27, ранг:241.2" target="_blank">DenCoder</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 июня 2016 16:22 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#19');return false;">#19</a> </span><div align=left><br>
<b>Apokrif</b>, я пропатчил в приложении метод расшифровки assests файлов *.so.dat и classes.dex.dat. Он их расшифровывает и копирует потом себе. Я убрал всю расшифровку, а туда подложил уже расшифрованные. Но при старте прога теперь не падает, но libdexprotector.so в катлог вижу ловит сигнал SIGBUS и прога висит. <br>Можете подсказать почему так получается ? Сама прога только расшифровывает либу и подгружает в память ее через эту функцию void java.lang.Runtime.load(java.lang.String,java.lang.ClassLoader)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365176&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=19" class="addthx" data-post="365176"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 июня 2016 21:14 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#20');return false;">#20</a> </span><div align=left><br>
<I>mixer632 пишет:<br>но libdexprotector.so в катлог вижу ловит сигнал SIGBUS и прога висит. </I><br>Всё зависит от того, каким дебаггером отлаживаете. Встречался на ARM с такой ситуацией, долго не мог понять, в чём дело... Вышел случайно на инфу, что происходит SIG-спам (предполагаю, что из-за неправильного ответа в прошлом), а дебаггер не может на это нормально отреагировать, и получает либо череду SIG, либо просто молчание ввиду очередного не-ответа.
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=365187&amp;user=24257&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=20" class="addthx" data-post="365187"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 июня 2016 22:06 &middot; Поправил: mixer632 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#21');return false;">#21</a> </span><div align=left><br>
<b>DenCoder</b>, я без дебага запускал на устройстве приложение. Как-то пробовал как тут https://habrahabr.ru/post/150825/ собрать приложение для дебага, но апктул с опцией -d не хочет собирать. Автор в статье говорит, что это принципиально собирать с опцией -d.<br><br><b>Добавлено спустя 4 минуты</b><br><b>DenCoder</b>, в моей проге нашел причину падения, она считывает сигнатуру примерно так.<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">context<span class="hl_char">.</span>getPackageManager<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_char">.</span>getPackageInfo<span class="hl_char">(</span>context<span class="hl_char">.</span>getPackageName<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_char">,</span>&nbsp;PackageManager<span class="hl_char">.</span>GET_SIGNATURES<span class="hl_char">)</span><span class="hl_char">.</span>signatures<span class="hl_char">[</span><span class="hl_number">0</span><span class="hl_char">]</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
 и байты сигнатуры участвуют в расшифровке дех и библиотеки, то есть с левой подписью прога просто падает из-за неверной расшифровке. Попробовал модифицировать прогу и класть старый сертификат, на устройстве xposed с модулем xinstaller поставил, чтобы поставилось с левой подписью. Но когда стоит галка ставить с левой подписью, то все проги падают при попытке работать с классами getPackageManager.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365192&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=21" class="addthx" data-post="365192"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 июня 2016 08:00 &middot; Поправил: Apokrif <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#22');return false;">#22</a> </span><div align=left><br>
<I>mixer632 пишет:<br>в моей проге нашел причину падения, она считывает сигнатуру примерно так.<br>...<br>и байты сигнатуры участвуют в расшифровке дех и библиотеки, то есть с левой подписью прога просто падает из-за неверной расшифровке.</I><br>Закиньте старую сигнатуру как строку в java и замените все вызовы getPackageInfo(..., PackageManager.GET_SIGNATURES)?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365206&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=22" class="addthx" data-post="365206"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 июня 2016 01:27 &middot; Поправил: mixer632 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#23');return false;">#23</a> </span><div align=left><br>
<I>DenCoder пишет:<br>j_j_dlsym - двойной джамп на dlsym(), слабый признак обфускации... но можно через эту функу выйти на заветный код.  </I><br>Вы предполагаете, что в смали файлах может быть вызов через эту функцию ? Я уже такое искал, да и просмотрел весь код от момента загрузки либы до передачи управления протом основной программе. Сам прот грузит эту либу и в самом конце его работы вызывают какую-то нативную функцию с такими параметрами:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">private&nbsp;static&nbsp;native&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;ead<span class="hl_char">(</span>Object&nbsp;var0<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var1<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var2<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var3<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var4<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var5<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var6<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var7<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;var8<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>Все инт параметры не зависят от глобальных переменных и вычисляются перед входом в эту функцию, то есть всегда одни и те же туда поступают инты. А объект это туда передают this, то есть указатель на сам класс, в котором этот прототип написан. <br>Вызывает ее через метод invoke примерно так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;var1&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_char">(</span><span class="hl_char">(</span>Integer<span class="hl_char">)</span>var11<span class="hl_char">.</span><span class="hl_function">invoke</span><span class="hl_char">(</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">if</span><span class="hl_char">(</span>var1&nbsp;<span class="hl_char">!</span><span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;UnsatisfiedLinkError<span class="hl_char">(</span><span class="hl_quote">&quot;DP: &quot;</span>&nbsp;<span class="hl_char">+</span>&nbsp;var1<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li>        </ol>
    </div>
</div></div>
<br>В модифицированном приложении всегда попадает на этот throw почему-то.<br>Как думаете может эта функция и отвечает за настройку тех функций, которых нет в экспорте изначально, потому что после этого он передает управление уже проге, и она начинает работать уже с методами нативными.<br>Еще интересует почему эта функция успешно выполняется протом, ее тоже нет в экспорте библы.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365268&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=23" class="addthx" data-post="365268"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 июня 2016 17:17 &middot; Поправил: Apokrif <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#24');return false;">#24</a> </span><div align=left><br>
<I>mixer632 пишет:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">var1 <span class="hl_char">=</span> <span class="hl_char">(</span><span class="hl_char">(</span>Integer<span class="hl_char">)</span>var11<span class="hl_char">.</span><span class="hl_function">invoke</span><span class="hl_char">(</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">)</span></li>        </ol>
    </div>
</div></div>
</I>А var11 это не <b>java.lang.reflect.Method</b> или наследник? <img src="img/smilies/s2.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365272&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=24" class="addthx" data-post="365272"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=24257" title="18-06-2016 00:21, ранг:241.3" target="_blank">DenCoder</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 июня 2016 17:19 &middot; Поправил: mixer632 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#25');return false;">#25</a> </span><div align=left><br>
<I>Apokrif пишет:<br>А var11 это не java.lang.reflect.Method или наследник?   </I><br>Да, это Method.<br>Так определяется в той функции:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Method&nbsp;var11&nbsp;<span class="hl_char">=</span>&nbsp;var9<span class="hl_char">.</span>getDeclaredMethod<span class="hl_char">(</span><span class="hl_quote">&quot;ead&quot;</span><span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;Class<span class="hl_char">[</span><span class="hl_char">]</span>{Class<span class="hl_char">.</span>forName<span class="hl_char">(</span><span class="hl_quote">&quot;java.lang.Object&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10<span class="hl_char">,</span>&nbsp;var10}<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>var10 инты.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365273&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=25" class="addthx" data-post="365273"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 19 июня 2016 19:20 <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#26');return false;">#26</a> </span><div align=left><br>
<i class=x>mixer632</i>,<br>Я бы начал разбор с DEXPROTECTOR со скачивания триала и защиты своей крошечной проги...<br>Посмотреть, что он там накрутил, попробовать сломать или обойти.<br>Я его не смотрел и ничего полезного сказать не могу. <img src="img/smilies/s4.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365301&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=26" class="addthx" data-post="365301"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 19 июня 2016 19:44 &middot; Поправил: mixer632 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#27');return false;">#27</a> </span><div align=left><br>
<b>Apokrif</b>, я именно так и хотел сделать, но после запроса на их офф сайте ничего не приходит на почту, хотя пишут что за 24 часа ответят. Сделал запросы с яндекс почты, потом с гугловой, подумал яндекс игнорят, но уже неделю молчат и не дают триал скачать. Может есть где на варезниках его скачать ?<br>По сути защиту я снял, ведь все смали файлы вытащил, которые он при запуске расшифровывает и быстро удаляет, их вытащил, *.so библиотеку тоже вытащил, собрал их все вместе и в стартовом файле прописал загрузку библы:
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">System<span class="hl_char">.</span>load<span class="hl_char">(</span><span class="hl_quote">&quot;Полный путь к *.so&quot;</span><span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>Но как только прога пытается вызвать нативный метод, то падает, а в катлог выдает, что не видит реализацию метода. Как бы экспорт в этой либе настроить, ведь падает, так как нет в экспорте этих методов.<br><br><b>Добавлено спустя 1 час 35 минут</b><br>Пробую в своей тестовой проге загрузить эту либу, но получаю ошибку:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">06</span><span class="hl_char">-</span><span class="hl_number">19</span>&nbsp;<span class="hl_number">18</span><span class="hl_char">:</span><span class="hl_number">02</span><span class="hl_char">:</span><span class="hl_number">29</span><span class="hl_char">.</span><span class="hl_number">945</span><span class="hl_char">:</span>&nbsp;D<span class="hl_char">/</span>dalvikvm<span class="hl_char">(</span><span class="hl_number">2910</span><span class="hl_char">)</span><span class="hl_char">:</span>&nbsp;Trying&nbsp;to&nbsp;load&nbsp;lib&nbsp;<span class="hl_char">/</span><span class="hl_function">data</span><span class="hl_char">/</span><span class="hl_function">data</span><span class="hl_char">/</span>my<span class="hl_char">.</span>apk<span class="hl_char">/</span>files<span class="hl_char">/</span>libdexprotector<span class="hl_char">.</span>so&nbsp;0xa6ff79b0</li><li class="hl_l1"><span class="hl_number">06</span><span class="hl_char">-</span><span class="hl_number">19</span>&nbsp;<span class="hl_number">18</span><span class="hl_char">:</span><span class="hl_number">02</span><span class="hl_char">:</span><span class="hl_number">29</span><span class="hl_char">.</span><span class="hl_number">949</span><span class="hl_char">:</span>&nbsp;D<span class="hl_char">/</span>dalvikvm<span class="hl_char">(</span><span class="hl_number">2910</span><span class="hl_char">)</span><span class="hl_char">:</span>&nbsp;Added&nbsp;shared&nbsp;lib&nbsp;<span class="hl_char">/</span><span class="hl_function">data</span><span class="hl_char">/</span><span class="hl_function">data</span><span class="hl_char">/</span>my<span class="hl_char">.</span>apk<span class="hl_char">/</span>files<span class="hl_char">/</span>libdexprotector<span class="hl_char">.</span>so&nbsp;0xa6ff79b0</li><li class="hl_l0"><span class="hl_number">06</span><span class="hl_char">-</span><span class="hl_number">19</span>&nbsp;<span class="hl_number">18</span><span class="hl_char">:</span><span class="hl_number">02</span><span class="hl_char">:</span><span class="hl_number">30</span><span class="hl_char">.</span><span class="hl_number">640</span><span class="hl_char">:</span>&nbsp;W<span class="hl_char">/</span>dalvikvm<span class="hl_char">(</span><span class="hl_number">2910</span><span class="hl_char">)</span><span class="hl_char">:</span>&nbsp;JNI_OnLoad&nbsp;returned&nbsp;bad&nbsp;version&nbsp;<span class="hl_char">(</span><span class="hl_char">-</span><span class="hl_number">1</span><span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;<span class="hl_char">/</span><span class="hl_function">data</span><span class="hl_char">/</span><span class="hl_function">data</span><span class="hl_char">/</span>my<span class="hl_char">.</span>apk<span class="hl_char">/</span>files<span class="hl_char">/</span>libdexprotector<span class="hl_char">.</span>so&nbsp;0xa6ff79b0</li>        </ol>
    </div>
</div></div>
<br>Не знаете почему JNI_OnLoad ошибку возвращает при загрузке, как это обойти ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365303&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=27" class="addthx" data-post="365303"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 июня 2016 07:28 &middot; Поправил: Apokrif <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#28');return false;">#28</a> </span><div align=left><br>
<I>mixer632 пишет:Но как только прога пытается вызвать нативный метод, то падает, а в катлог выдает, что не видит реализацию метода. Как бы экспорт в этой либе настроить, ведь падает, так как нет в экспорте этих методов.<br>…<br>Не знаете почему JNI_OnLoad ошибку возвращает при загрузке, как это обойти?</I><br>Вам ответили раньше, что если нативных методов нет в экспорте, то они скорее всего регистрируются в JNI_OnLoad(), который у вас не отрабатывает правильно (т.к. видит что-то левое).<br>Дебажте саму JNI_OnLoad(), что еще то можно посоветовать? <img src="img/smilies/s11.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365317&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=28" class="addthx" data-post="365317"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 июня 2016 22:04 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#29');return false;">#29</a> </span><div align=left><br>
<I>Apokrif пишет:<br>Дебажте саму JNI_OnLoad() </I><br>Посоветуйте как это делать. Пробую как тут http://www.vans-soft.ru/2016/01/android.html через gikdbg отладчик, но он очень глюченный, удается податтачиться к приложению с либой. Я так понимаю после запуска приложения и старта либы выполняется jni_onload() и в экспорте должны появиться скрытые методы ее, но в этом отладчике только те, что изначально ида показывает. На счет отладчика нативных библиотек что лучше этот gikdbg или андроид сервер от иды или какие-то другие может еще посоветуете.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365328&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=29" class="addthx" data-post="365328"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]Apokrif[/b]','')">Apokrif</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 171.0 (ветеран), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.5'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=19416">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июня 2016 06:04 &middot; Поправил: Apokrif <br><script type="text/javascript">QU('Apokrif','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Apokrif" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#30');return false;">#30</a> </span><div align=left><br>
&gt;Я так понимаю после запуска приложения и старта либы выполняется jni_onload() и в экспорте должны появиться скрытые методы ее<br>Нет, не появятся.<br>Я, честно говоря, не знаю, как остановится на jni_onload().<br>Для начала можно посмотреть в листинге, что на какие плюсовые фукнкции мапятся жабовые в jni_onload(). Это про условии, что сама jni_onload() не зашифрована никак.<br>Она должна выглядеть примерно как описано <noindex><a href="https://developer.android.com/training/articles/perf-jni.html" rel="nofollow" target="_blank">тут</a></noindex><br>Если зашифрована, то нужно доставить триал…<br><br>&gt;На счет отладчика нативных библиотек<br>Я пользую только ida...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365332&amp;user=19416&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=30" class="addthx" data-post="365332"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="31" onfocus="this.blur()" href="JavaScript:di('[b]mixer632[/b]','')">mixer632</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.11'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=40768">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июня 2016 10:56 <br><script type="text/javascript">QU('mixer632','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mixer632" target="_blank">Личное сообщение</a> &middot;  <a href="#31" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=19046&amp;page=27#31');return false;">#31</a> </span><div align=left><br>
<I>Apokrif пишет:<br>Я, честно говоря, не знаю, как остановится на jni_onload(). </I><br>Я думаю только модифицируя ее бесконечным циклом наверно ловить.<br><br><I>Apokrif пишет:<br>Для начала можно посмотреть в листинге, что на какие плюсовые функции мапятся жабовые в jni_onload(). </I><br>Я так понимаю надо выловить RegisterNatives() в этой функции, но это можно сделать без захода во все методы, трассируя jni_onload() или нет ? Как бы бряк на нее поставить в ида.<br><br>И еще если другой подход, мне нужно найти метод, который она динамически экспортирует, этот метод реализует пост и гет запросы. Можно без вылавливания  RegisterNatives(), как-то найти, где пост запросы в ида дизасм коде ее или бряк поставить на что-то, связанное с http пост запросами ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=365337&amp;user=40768&amp;forum_n=1&amp;topic=19046&amp;page=27&amp;anchor=31" class="addthx" data-post="365337"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=26.html">&lt;&lt;</a> <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=0.html">1</a> ... <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=26.html">27</a> . <b>28</b> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=28.html">29</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=29.html">30</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=30.html">31</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=31.html">32</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=32.html">33</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=33.html">34</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=34.html">35</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=35.html">36</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=36.html">37</a> ... <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=37.html">38</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=38.html">39</a> . <a href="action=vthread&amp;forum=1&amp;topic=19046&amp;page=28.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Взлом Android приложений</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#32" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="1">
<input type="hidden" name="topic" value="19046">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=19046" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
