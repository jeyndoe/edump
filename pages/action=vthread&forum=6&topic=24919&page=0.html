<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Указатели в км. - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здрасте. Задача следующая. Необходимо определить что по указателю произойдёт выборка данных из кернел. Тоесть нужно знать, будет ли обращение из км к юм-структуре в произвольной апи. Содержимое апи может быть произвольным, могут">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40382'>jinoweb</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Указатели в км.</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 октября 2017 05:11 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Здрасте.<br><br>Задача следующая. Необходимо определить что по указателю произойдёт выборка данных из кернел. Тоесть нужно знать, будет ли обращение из км к юм-структуре в произвольной апи.<br><br>Содержимое апи может быть произвольным, могут быть выборки юм и км, очевидно что заранее это не известно.<br><br>Можно сформировать список апи, но это лишь частное решение. Возможно ли какое то общее решение или это смысла не имеет ?<br><br>Я не вижу связи между передачей ptr в км и произвольным кодом.<br><br>При этом имеется два потока данных - CFG и DFG.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=379543&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=1" class="addthx" data-post="379543"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 октября 2017 12:34 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Захват и разрушение указателей (IDP-мотор или как оно там?) уже не робит, чтоле? <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=379552&amp;user=1533&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=2" class="addthx" data-post="379552"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 октября 2017 13:22 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>rmn</b><br><br>По делу есть что нибудь ?
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=379553&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=3" class="addthx" data-post="379553"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 октября 2017 23:50 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
гарантированно никак - by design. сама архитектура не позволяет подобный контроль.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=379566&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=4" class="addthx" data-post="379566"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 октября 2017 15:23 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>shellstorm</b><br><br>Тогда можно ли решить задачу на этапе сборки апп, допустим вынести апи в секцию, отдельную от основного кода ?
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=379578&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=5" class="addthx" data-post="379578"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 октября 2017 20:08 &middot; Поправил: shellstorm <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>difexacaw пишет: Тогда можно ли решить задачу на этапе сборки апп, допустим вынести апи в секцию, отдельную от основного кода ?  </I><br><br>Зависит от целей и реализации, но в целом это возможно. Если цель стоит в противодействии жертве которая может сопротивляться и иметь права админа, тут все сложно, даже майки не очень давно заявили по поводу очередного обхода патчгварда - это не баг, а фича, бо лопатить там много, баг реализуется на уровне камня.<br>Самый простой вариант, это вынести функцию в отдельную секцию и в духе упомянутого IDP обрабатывать обращения к функции.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=379582&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=6" class="addthx" data-post="379582"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 октября 2017 19:58 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>shellstorm</b><br><br>Мне нужно знать факт передачи юм указателя в км для известной апи. Если такое обращение есть, то защита падает, так как поток данных перестаёт отслеживаться. Именно это и интересно, я ничего не говорил про подмену данных(IDP).<br><br>Даже если вынести эти апи в отдельную секцию, то всё равно задача не решается - как узнать какие апи передают указатели в км. Это порочный круг.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=379608&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=7" class="addthx" data-post="379608"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 октября 2017 09:14 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>difexacaw пишет: Именно это и интересно </I><br><br>С такой постановкой задачи решения нет, для этого пилят другие оси с прослойкой абстракции которая отделяет пользовательский софт от системного и эта прослойка контролирует обращения к системному коду, но такие абстракции не бесплатны и существенно замедляют работу, поэтому в windows этого нет и вряд ли будет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=379618&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=8" class="addthx" data-post="379618"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 октября 2017 20:22 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>shellstorm</b><br><br>Архитектура ядра нт подразумевает обмен данными в виде ptr:size, так как перед обращением к ptr должна следовать валидаций указателя, размер которого передаётся в км. Также имеет смысл и обратное - на запрос в км юм клиент получает размер возвращаемой инфы. Это фундаментальный принцип архитектуры.<br>На основе этого можно составить сервисные прототипы, но опять же - это сомнительный способ и геморный/не портабельный.<br>Если это статик, то можно попытаться решить в динамике - это возможно(мониторить рабочий набор, рестартить сервисы етц), но я не рассматриваю этот вариант, не профайл. Всякий км фильтр на события #GP - слишком медленно.<br>Определить прототипы в динамике - может быть, но сомнительно, так как это вероятностный подход наверно.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=379640&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=9" class="addthx" data-post="379640"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 октября 2017 21:27 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
ловить обращения нужно не по указателям а по самой памяти<br>очевидно ставить атрибуты на нее при которым будет доступ с ring3 в rig0<br>и на реагировать эксепшин
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=379644&amp;user=15381&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=10" class="addthx" data-post="379644"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 октября 2017 03:37 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>reversecode</b><br><br>&gt; очевидно ставить атрибуты на нее при которым будет доступ с ring3 в rig0<br><br>Ловушки не дадут размер памяти. Тогда будет поток срабатываний при каждом обращении в буфер(тк размер не известен), что очень долго. А есчо км использует разные синхронизации и удержания памяти - юзер буфера блокируются на уровне менеджера памяти, если их размер большой. Как это всё в случае ловушек обработать - не понятно.<br>Эта задача и нужна что бы избежать обращений в память, которой нет. Происходит выборка из N/A памяти ядром(анклав), это нужно избежать. Иначе получается что анклав может быть создан только для X памяти или которая не передаётся в км.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=379648&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=11" class="addthx" data-post="379648"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 октября 2017 10:15 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>reversecode пишет: очевидно ставить атрибуты на нее при которым будет доступ с ring3 в rig0<br>и на реагировать эксепшин  </I><br><br>1. медленно. 2. нет гарантии.<br>в данном случае ТЗ немного сложнее простой песочницы, ибо работать должно быстро, потеря контроля недопустима, иначе не будет изоляции, а без изоляции хватает велосипедов которые все это отдают на отработку системе и в рамках архитектуры нет решения которое дало бы гарантию без серьезной модификации ядра, крч, все плохо.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=379653&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=12" class="addthx" data-post="379653"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 ноября 2017 03:03 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>shellstorm</b><br><br>Решения не видно <img src="img/smilies/s9.gif" alt=""><br><br>Отсутствие возможности для такого контроля делает не возможным реализацию полноценной защиты. Как же не продумано сделано всё <img src="img/smilies/s13.gif" alt=""><br><br>Колхозить забивая сервисные прототипы ой как не гуд. Накопить прототипы так же не просто и не хорошо, короче тупик.<br><br>Для базовых сервисов ядра есчо как то можно снять прототипы, но как быть со второй сервисной таблицей не понятно, там выборка данных зависит от фазы луны.<br><br>NT архитектура фундаментально не безопасная, раз данные не разделяются в модах.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380039&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=13" class="addthx" data-post="380039"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]cppasm[/b]','')">cppasm</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 251.3 (наставник), 81thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.77'>Активность: 0.14<span style='color:red'>&searr;</span>0.11</span><br>Статус: <a href="action=userinfo&amp;user=6859">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 ноября 2017 18:52 <br><script type="text/javascript">QU('cppasm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=cppasm" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Данные разделяются на уровне страниц.<br>Этого достаточно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380047&amp;user=6859&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=14" class="addthx" data-post="380047"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2017 19:30 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>cppasm</b><br><br>Данные никак не разделяются, к ним лишь ограничивается доступ. На уровне механизма адресной трансляции. Событие выборки данных ядро разворачивает в виде нарушения доступа, что есть механизм исключений и трап обработка, тормозная.<br><br>Всякий указатель имеет размер области, без размера указатель не имеет смысла, так как выборка данных по указателю имеет размер. Именно в это всё упирается, нет способа определить размер указателя. Даже если допустить что структура(указатель) ограничен слудющим и размер есть дельта адресов, то возникает две проблемы - одна решается, определением второго указателя, другая не решается - при инициализации структуры могут быть адресации не на чало её.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380059&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=15" class="addthx" data-post="380059"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]cppasm[/b]','')">cppasm</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 251.3 (наставник), 81thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.77'>Активность: 0.14<span style='color:red'>&searr;</span>0.11</span><br>Статус: <a href="action=userinfo&amp;user=6859">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2017 20:19 <br><script type="text/javascript">QU('cppasm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=cppasm" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Данные никак не разделяются, к ним лишь ограничивается доступ. </I><br>Сказал то же самое другими словами.<br>Ограничение (контроль) доступа это и есть разделение.<br><br><I>difexacaw пишет:<br>Всякий указатель имеет размер области, без размера указатель не имеет смысла, так как выборка данных по указателю имеет размер. Именно в это всё упирается, нет способа определить размер указателя. </I><br>Потому что нет у указателя размера, есть только адрес куда он указыват.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380060&amp;user=6859&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=16" class="addthx" data-post="380060"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2017 20:52 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<b>cppasm</b><br><br>Без размера выборки данных не существует указателя, так как он не используется(нет DF). Всякий указатель имеет некоторые особые свойства, например наследование и размер выборки. Вы просто не до конца понимаете. Это всё логически связано воедино, просто сложно понять вначале.<br><br>Смотрите, есть указатель на некоторый блок данных, он передаётся в км аргументом, напрямую или как часть некой структуры(это новая задача - связывание этих указателей). Есть не известный сервисный интерфейс, он принимает на вход некоторую последовательность структур. Каждая часть этой последовательности имеет указатель и размер. Но это извествно для не известного интерфейса. Короче есть адрес структуры и второй указатель в тело структуры, дельта не есть размер.<br><br>Это не первый мой вопрос, всё крутится вокруг накопления данных, так накапливаются указатели(под визором), так же может быть накоплена выборка данных из км, просто я пока не вижу оптимального решения.<br><br>Все указатели в апп могут быть определены в динамике путём наследования, эта задача снята. Но не известен их размер. Пусть произойдёт выборка по указателю, как путём этого узнать размер ?<br><br>Не много видно методов. В целом же суть задачи следующая, я сразу это не описал, так как это не поможет найти решение. Апп выполняется под визором и отслеживаются все потоки данных. Это нужно для двух приложений - полноценная защита от OP, только так это может быть реализовано и одновременно с этим симуляция памяти - анклавы. В первом случае проблема км не стоит - ядро не манипулирует указателями на код. Во втором случае задача разделяется на код и данные, код может быть анклавом, а данные нет, но только те, что передаются в км. Это важно, так никакой сканер памяти не смог бы снять дамп(не зависимо от мода), в частности ав.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380063&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=17" class="addthx" data-post="380063"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 15:23 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<I>difexacaw пишет: Как же не продумано сделано всё </I><br><br>Напротив, очень даже продуманно, назови хоть одну массовую ось без подобных брешей, их нет.<br>Когда проектировалась windows то на тот момент даже такое ядро считалось тяжелым для железа того времени, а затем легаси, миллионы сторонних проектов, сложно что то в одночасье переделать, ибо некому не будет нужен этот гомункул если ради него придется переписывать всю кодовую базу. Другая проблема в сишке, этот уродец в своем дизайне явно имеет лишние хромосомы, язык не безопасен и портировать его хоть на тот же близкий D затруднительно, компиляторы и тот не всегда способны нормально распарсить этот высер сумрачного гения Кернигана и КО. Безопасные оси есть, но они настолько специфические и используются в критических сферах типа космонавтики или ядерной энергетики, тем более это не главная проблема, чаще проблемы возникают из за логических ошибок. Ко всему этому еще и архитектура фон Неймана уязвима, есть конечно камни с другой архитектурой, но тут все аналогично осям. Все свелось к тому, либо несовершенно уже в дизайне, но работает сейчас или все хорошо в дизайне, но скорее всего проект никогда не увидит свет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380080&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=18" class="addthx" data-post="380080"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Gideon Vi[/b]','')">Gideon Vi</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/2585.jpg" alt=""><br><span class=txtSm>Ранг: 1131.7 <b><u>(!!!!)</u></b>, 447thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.83'>Активность: 0.67<span style='color:red'>&searr;</span>0.2</span><br>Статус: <a href="action=userinfo&amp;user=2585">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 17:19 &middot; Поправил: Gideon Vi <br><script type="text/javascript">QU('Gideon Vi','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Gideon Vi" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<noindex><a href="http://i98.fastpic.ru/big/2017/1109/10/88993fe400ad38653f258720386d7310.jpg" rel="nofollow" target="_blank"> <img src="http://i98.fastpic.ru/thumb/2017/1109/10/88993fe400ad38653f258720386d7310.jpeg" border="0" align="" alt=""></a></noindex><br><br>это к вопросу о С, Кернигане, архитектуре Windows и т.п.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380094&amp;user=2585&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=19" class="addthx" data-post="380094"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 17:28 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<I>Gideon Vi пишет: это к вопросу о С, Кернигане, архитектуре Windows и т.п.  </I><br><br>Но аргументировать мы конечно можем (на самом деле нет) и ума хватает лишь на пикчи для децепешников, да? <img src="img/smilies/s1.gif" alt=""><br>1. Причины выбора такой архитектуры описаны архитекторами.<br>2. Прежде чем говорить о языке не плохо его знать и еще что то кроме него. Cи это проблема и эта проблема далеко не в сырых указателях или ручном управлении памяти, проблема именно в дизайне языка, в грамматике (КС) и легаси которым он оброс за годы, и зависимой от платформы специфики.<br>Мораль сей басни, прежде чем постить пикчи неплохо бы для начала изучить матчасть.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380095&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=20" class="addthx" data-post="380095"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 19:22 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<b>shellstorm</b><br><br>Вот и я сказал что не продумано всё и теперь они сами со своим архитектурным косяком столкнулись. Противодействие OP не заложено на уровне архитектуры, а значит она дырявая. А что фиксят это за счёт железа - глупо и не эффективно.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380099&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=21" class="addthx" data-post="380099"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 19:55 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<I>difexacaw пишет: и теперь они сами со своим архитектурным косяком столкнулись </I><br><br>Дважды за последнее время, но они считают это не баг, а фича, даже если она позволяет обойти пачгвард.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380102&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=22" class="addthx" data-post="380102"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 20:14 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<b>shellstorm</b><br><br>KMP никакого отношения не имеет к OP. Это сложного типа ошибки. Они бывают и км, но это не рассматривается.<br><br>OP фикс был на уровне камня - icet. Это не решает задачу, я говорил и подробно описывал. кажется что архитектура пилится под железо. Не используются разработки на уровне софта. Печальна это всё. Но мне интересно вернуться к изначальной задаче и поискать решение. Какие то слоники вместо анализа - может быть комуто забавно, но я потратил огромную кучу времени на размышление(анализ) данной темы, впрочем мнение слоников не важно.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380105&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=23" class="addthx" data-post="380105"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.68'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2017 20:18 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<I>difexacaw пишет: KMP никакого отношения не имеет к OP. </I><br><br>Это всего лишь следствие, как конечная цель закрепления в системе. По поводу же задачи, все же на osdev или форуме reactos быстрее ответят.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=380106&amp;user=41575&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=24" class="addthx" data-post="380106"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 ноября 2017 20:42 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24919.html&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
<b>shellstorm</b><br><br>Я вижу лишь два пути решения. <br><br>A. На уровне компилера. Понятно что это не общий способ.<br>B. Дефейн сервисных прототипов.<br><br>Второй метод довольно сложен из на многих нюансов, но думаю это единственное возможное решение.<br><br>Пусть в сервис передаётся некоторый указатель P. Память по тому указателю является анклавом и не доступна для чтения ни из какого мода - там данных нет, не зависимо от состояния памяти.<br><br>Тогда перед передачей P в сервис данные могут быть загружены по P, а после возврата выгружены. Такой подход приводит к раскрытию данных, так множество потоков будут декриптовать память в линейном массиве, что при большом их числе приведёт к чтению памяти, либо она может быть прочитана через серию обращений. По этой причине метод не пригоден.<br><br><b>Добавлено спустя 19 часов 14 минут</b><br>Решение найдено по пути B.<br><br>Так как исходная область памяти не доступна, то необходимо отобразить её на новую область. Для исключения RC-чтений памяти при сервисном вызове аллоцируется буфер и указатель отобращается на данный буфер, для быстрой трансляции нужно авл дерево.<br>После отработки сервиса данные из буфера не пересылаются в хранилище, а новый буфер остаётся отображённым на указатель - при дальнейшей выборке данных по указателю выборка направляется в этот буфер. При корреляции буферов - наложении их друг на друга две области памяти сливаются в одну.<br><br>Solved, closed.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=380253&amp;user=40990&amp;forum_n=6&amp;topic=24919.html&amp;page=0&amp;anchor=25" class="addthx" data-post="380253"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Указатели в км.</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=24919" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
