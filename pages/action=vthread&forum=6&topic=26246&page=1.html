<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Формат для передачи данных между потоками - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Хочу реализовать передачу данных между потоками через CreateThread Вопрос состоит в том, как именно обернуть параметры функции. Пример функции Code:       &nbsp;bool&nbsp;Encrypt(const&nbsp;char*&nbsp;x1,&nbsp;const&nbsp;size_t&nb">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b> (+4 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Формат для передачи данных между потоками</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=0.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=0.html">1</a> . <b>2</b> . <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=2.html">3</a> . <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=2.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]galenkane[/b]','')">galenkane</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 28.5 (посетитель), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.03'>Активность: 0.07<span style='color:green'>&nearr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=42738">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 января 2020 21:54 <br><script type="text/javascript">QU('galenkane','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=galenkane" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#1');return false;">#1</a> </span><div align=left><br>
Хочу реализовать передачу данных между потоками через CreateThread<br><br>Вопрос состоит в том, как именно обернуть параметры функции.<br><br>Пример функции<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;bool&nbsp;Encrypt<span class="hl_char">(</span><span class="hl_function"><b>const</b></span>&nbsp;<span class="hl_function">char</span><span class="hl_char">*</span>&nbsp;x1<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>const</b></span>&nbsp;size_t&nbsp;x2<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>const</b></span>&nbsp;unsigned&nbsp;<span class="hl_function">char</span><span class="hl_char">*</span>&nbsp;x3<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>const</b></span>&nbsp;unsigned&nbsp;<span class="hl_function">char</span><span class="hl_char">*</span>&nbsp;x4<span class="hl_char">,</span>&nbsp;unsigned&nbsp;<span class="hl_function">char</span><span class="hl_char">*</span>&nbsp;x5<span class="hl_char">,</span>&nbsp;size_t<span class="hl_char">&amp;</span>&nbsp;x5<span class="hl_char">)</span></li>        </ol>
    </div>
</div></div>
<br><br>Посоветуете что-то?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401232&amp;user=42738&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=1" class="addthx" data-post="401232"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 20:51 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#2');return false;">#2</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Скорее он не хочет говорить про то, что нам знать не нужно. </I><br>Наш скилл вангователей уже настолько прокачан, что нам и не нужно этого говорить. Мы и так лучше него знаем, что он на самом деле хочет. Пусть гуглит, что такое маршалинг и реализует его, без всяких там нотифи из ядра в юзермод и отловов разрушенных указателей визорами <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401394&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=2" class="addthx" data-post="401394"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 20:56 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#3');return false;">#3</a> </span><div align=left><br>
<b>rmn</b><br><br>Те кто так как ты думает и допускают критические ошибки.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401395&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=3" class="addthx" data-post="401395"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 21:18 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#4');return false;">#4</a> </span><div align=left><br>
<b>difexacaw</b><br><img src="http://i.piccy.info/i9/d5485f7033b818fb04b3fe3f502ba1b0/1578248147/123816/1042624/d82e7a6eea16ceae59e5d3b30511a84c.jpg" border="0" align="" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401399&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=4" class="addthx" data-post="401399"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 21:51 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#5');return false;">#5</a> </span><div align=left><br>
<I>galenkane пишет:<br>Сделал вот так <br>https://gist.github.com/lurumdare/d3a8558f544fe1cabf9f1fc2d6bdf179 </I><br>Если функция не завершается после создания потока, по передаче параметров пойдёт. Но там стоит Sleep() - никогда нельзя полагаться на то, что какой-то поток обязательно выполнится в такое-то время. Сделай просто указатель на объект глобальным!<br><br><b>Добавлено спустя 9 минут</b><br><I>galenkane пишет:<br>ARCHANGEL задача как бы есть <br><br>мб вы не поняли ее<br><br>главное чтобы они были на стеке  </I><br>Чё тогда не вставить в конце main() и везде, где вызывается CreateThread() с передачей указателя на объект на стеке, простую функцию WaitForSingleObject(hThread, INFINITE). Кстати, malloc() получает адрес не из стека, а из кучи. Есть calloc(), она выделяет память прямо на стеке. Считаю опасной функцией для использования серьёзно на практике.<br><br>Вообще любую структуру можно именно на стеке инициализировать<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">struct&nbsp;A</li><li class="hl_l1">{</li><li class="hl_l0"><span class="hl_function"><b>int</b></span>&nbsp;a<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function"><b>int</b></span>&nbsp;b<span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l1">}<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">main<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l0">{</li><li class="hl_l1">A&nbsp;a<span class="hl_comment">;</span></li><li class="hl_l0">a<span class="hl_char">.</span>a&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l1">a<span class="hl_char">.</span>b&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">1</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div>
<br><br><b>Добавлено спустя 13 минут</b><br><I>rmn пишет:<br>Причем здесь вообще какой-то стек? </I><br><br><I>galenkane пишет:<br>главное чтобы они были на стеке  </I><br><br><b>rmn</b>, ну что непонятного? Ему просто так ОЧЕНЬ нужно. <img src="img/smilies/s1.gif" alt=""><br>Можно так сделать.<br><br><b>Добавлено спустя 16 минут</b><br>По-моему, ТС прежде, чем ставить задачи(или выполнять), нужно сначала разобраться, что такое стек, потоки и как они связаны.
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401402&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=5" class="addthx" data-post="401402"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 22:21 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#6');return false;">#6</a> </span><div align=left><br>
<I>DenCoder пишет:<br>Есть calloc(), она выделяет память прямо на стеке. </I><br>Ты с alloca() путаешь. calloc() выделяет также в куче, только заполняет выделенный блок нулями.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401405&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=6" class="addthx" data-post="401405"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 22:24 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#7');return false;">#7</a> </span><div align=left><br>
<b>rmn</b>, ну видел, но не использовал никогда )
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401406&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=7" class="addthx" data-post="401406"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 января 2020 22:28 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#8');return false;">#8</a> </span><div align=left><br>
<I>DenCoder пишет:<br>но не использовал никогда ) </I><br>Да и не надо. Компилер сам ее вставляет, если локальных переменных больше, чем на 4кб. Ты можешь просто без задней мысли писать <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>int</b></span>&nbsp;values<span class="hl_char">[</span><span class="hl_number">1024</span><span class="hl_char">*</span><span class="hl_number">1024</span><span class="hl_char">*</span><span class="hl_number">1024</span><span class="hl_char">]</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>и безопасно работать со всем массивом. <br>Для того апи и создают, чтобы при написании каждой программы ядра не дебажить и визорами ничего не ловить <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401407&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=8" class="addthx" data-post="401407"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 01:18 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#9');return false;">#9</a> </span><div align=left><br>
<b>rmn</b><br><br>Визорами.. что бы с этим работать нужно многое знать и не базовые вещи. Зачем ты упоминаешь их там где это не уместо.<br><br><b>DenCoder</b><br><br>&gt; Чё тогда не вставить в конце main() и везде, где вызывается CreateThread() с передачей указателя на объект на стеке<br><br>Задача не известна, нельзя даже что то предположить. Зачем трогать стек, система прибьёт поток если что то пойдёт не так, например если переключить стек на область, но ядро проверит это при аллокации памяти и защита сразу прикончит процесс.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401420&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=9" class="addthx" data-post="401420"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 02:08 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#10');return false;">#10</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Задача не известна, нельзя даже что то предположить. </I><br>Очевидно же, что он хочет запилить выполнение произвольной функции в новом потоке, причем, чтобы в коде это выглядело как просто вызов функции.<br><br><b>Добавлено спустя 6 минут</b><br><I>difexacaw пишет:<br>Зачем ты упоминаешь их там где это не уместо. </I><br>А ты? <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401426&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=10" class="addthx" data-post="401426"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 02:26 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#11');return false;">#11</a> </span><div align=left><br>
<b>rmn</b><br><br>&gt; А ты? <br><br>Я не сую туда где это не уместно. Что ты всё про визоры, это лишь удобные инструменты.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401427&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=11" class="addthx" data-post="401427"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]galenkane[/b]','')">galenkane</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 28.5 (посетитель), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.03'>Активность: 0.07<span style='color:green'>&nearr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=42738">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 04:41 &middot; Поправил: galenkane <br><script type="text/javascript">QU('galenkane','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=galenkane" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#12');return false;">#12</a> </span><div align=left><br>
rmn залетел в тему без настроения<br><br><b>Добавлено спустя 1 минуту</b><br>последний PoC <br>https://gist.github.com/lurumdare/a3c2c8c52bb4f455a3c48d94111e5613<br><br><b>Добавлено спустя 5 минут</b><br><b>DenCoder</b> указатель на объект глобальным? это как?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401429&amp;user=42738&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=12" class="addthx" data-post="401429"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 12:12 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#13');return false;">#13</a> </span><div align=left><br>
Дайте повангую, может есть готовое..<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">NTSTATUS</li><li class="hl_l1">RtlRemoteCall<span class="hl_char">(</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;HANDLE&nbsp;Process<span class="hl_char">,</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;HANDLE&nbsp;Thread<span class="hl_char">,</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;PVOID&nbsp;CallSite<span class="hl_char">,</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;ULONG&nbsp;ArgumentCount<span class="hl_char">,</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;PULONG&nbsp;Arguments<span class="hl_char">,</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;BOOLEAN&nbsp;PassContext<span class="hl_char">,</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;BOOLEAN&nbsp;AlreadySuspended</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">*</span><span class="hl_char">+</span><span class="hl_char">+</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Routine&nbsp;Description<span class="hl_char">:</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>This</b></span>&nbsp;function&nbsp;calls&nbsp;a&nbsp;procedure&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;another&nbsp;thread<span class="hl_char">/</span>process<span class="hl_char">,</span>&nbsp;using</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;NtGetContext&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;NtSetContext<span class="hl_char">.</span>&nbsp;&nbsp;Parameters&nbsp;are&nbsp;passed&nbsp;to&nbsp;the</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;target&nbsp;procedure&nbsp;via&nbsp;its&nbsp;stack<span class="hl_char">.</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Arguments<span class="hl_char">:</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;<span class="hl_char">-</span>&nbsp;Handle&nbsp;of&nbsp;the&nbsp;target&nbsp;process</li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;Thread&nbsp;<span class="hl_char">-</span>&nbsp;Handle&nbsp;of&nbsp;the&nbsp;target&nbsp;thread&nbsp;within&nbsp;that&nbsp;process</li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;CallSite&nbsp;<span class="hl_char">-</span>&nbsp;Address&nbsp;of&nbsp;the&nbsp;procedure&nbsp;to&nbsp;<span class="hl_function"><b>call</b></span>&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;the&nbsp;target&nbsp;process<span class="hl_char">.</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;ArgumentCount&nbsp;<span class="hl_char">-</span>&nbsp;Number&nbsp;of&nbsp;<span class="hl_number">32</span>&nbsp;bit&nbsp;parameters&nbsp;to&nbsp;pass&nbsp;to&nbsp;the&nbsp;target</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;procedure<span class="hl_char">.</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;Arguments&nbsp;<span class="hl_char">-</span>&nbsp;Pointer&nbsp;to&nbsp;the&nbsp;array&nbsp;of&nbsp;<span class="hl_number">32</span>&nbsp;bit&nbsp;parameters&nbsp;to&nbsp;pass<span class="hl_char">.</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;PassContext&nbsp;<span class="hl_char">-</span>&nbsp;<span class="hl_function"><b>TRUE</b></span>&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;an&nbsp;additional&nbsp;parameter&nbsp;is&nbsp;to&nbsp;be&nbsp;passed&nbsp;that</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;points&nbsp;to&nbsp;a&nbsp;context&nbsp;record<span class="hl_char">.</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;AlreadySuspended&nbsp;<span class="hl_char">-</span>&nbsp;<span class="hl_function"><b>TRUE</b></span>&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;the&nbsp;target&nbsp;thread&nbsp;is&nbsp;already&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;a&nbsp;suspended</li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>or</b></span>&nbsp;waiting&nbsp;state<span class="hl_char">.</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">Return&nbsp;Value<span class="hl_char">:</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;Status&nbsp;<span class="hl_char">-</span>&nbsp;Status&nbsp;value</li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_char">-</span><span class="hl_char">-</span><span class="hl_char">*</span><span class="hl_char">/</span></li>        </ol>
    </div>
</div></div>
<br><br>Но лучше такое не юзать, это идёт поперёк защиты.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401437&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=13" class="addthx" data-post="401437"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 13:09 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#14');return false;">#14</a> </span><div align=left><br>
можно спорить до бесконечности. Но. Постановки задачи так и не было. Разместить данные на стеке - зачем? Зачем для этого потоки? Потоки в одном или в разных процессах?<br><br><b>galenkane</b><br>Если вы переживаете за свой невероятно прогрессивный малварный алгоритм - то я вас умоляю, тут он не впал никому. Пишите задачу как есть, мы исключительно в образовательных целях её рассмотрим.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401442&amp;user=6336&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=14" class="addthx" data-post="401442"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 13:19 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#15');return false;">#15</a> </span><div align=left><br>
<b>ARCHANGEL</b><br><br>Могу предположить зачем именно нужен стек. Борьба в <strike>ветряными мельницами</strike> с плагинами для олли.<br><br>Стековая память имеет локальное поведение, так guard страница снимается только при выборке из текущего треда, для удалённого чтения снятие гварда приводит к детекту - не подтверждённой попытке выборки.<br><br>А есчо передача параметров в сервисы должна идти через стек, некоторые его проверяют и если он вне диапазона, который был при создании треда, ядро закончит процесс.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401445&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=15" class="addthx" data-post="401445"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]galenkane[/b]','')">galenkane</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 28.5 (посетитель), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.03'>Активность: 0.07<span style='color:green'>&nearr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=42738">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 20:38 <br><script type="text/javascript">QU('galenkane','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=galenkane" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#16');return false;">#16</a> </span><div align=left><br>
<b>ARCHANGEL</b> задача поставлена, держать данные на стеке. Алгоритмы не при чем. Обсуждаемое рассматривается как механизм защиты.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401481&amp;user=42738&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=16" class="addthx" data-post="401481"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 21:46 &middot; Поправил: DenCoder <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#17');return false;">#17</a> </span><div align=left><br>
<I>galenkane пишет:<br>DenCoder указатель на объект глобальным? это как? </I><br>На стеке - локально. <strike>В секции образа процесса, в куче, в выделенной виртуальной памяти, в подгруженной секции</strike>... много слов... Не на стеке - глобально<br><br><b>Добавлено спустя 3 минуты</b><br>Чтобы передавать из main() локальные данные в функцию в другом потоке, функцию ожидания нужно вставить. Или ждёшь нажатия клавиши, или пакета по сети, по USB, или (проще будет) ждёшь завершения потока, в который передал указатель на локальные данные из главного потока.
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401486&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=17" class="addthx" data-post="401486"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]galenkane[/b]','')">galenkane</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 28.5 (посетитель), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.03'>Активность: 0.07<span style='color:green'>&nearr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=42738">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 21:57 &middot; Поправил: galenkane <br><script type="text/javascript">QU('galenkane','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=galenkane" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#18');return false;">#18</a> </span><div align=left><br>
<b>DenCoder</b> пытался сделать на примере ожидание потока, что-то пошло не так. Создавал поток ожидающим,  давал ему приоритет, потом вызывал ResumeThread. Не работает.<br><br><b>Добавлено спустя 4 минуты</b><br>Опишу задачу. <br><br>Есть много ООП.<br>Код делаем с виртуальными функциями. <br>Эти самые функции вызываем в потоках. Допустим три-четыре потока с синхронизацией. И крутим данные между ними. <br><br>Защита в том, что данные будут в разных местах. И чтобы отследить такое, придется изрядно постараться.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401488&amp;user=42738&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=18" class="addthx" data-post="401488"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:03 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#19');return false;">#19</a> </span><div align=left><br>
<I>galenkane пишет:<br>Создавал поток ожидающим, давал ему приоритет, потом вызывал ResumeThread. </I><br>WaitForSingleObject(hTtread, INFINITE)
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401489&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=19" class="addthx" data-post="401489"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:08 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#20');return false;">#20</a> </span><div align=left><br>
<I>galenkane пишет:<br>И чтобы отследить такое, придется изрядно постараться. </I><br>Не придется. Достаточно будет запустить код под визором и все выборки данных всплывут на поверхность <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401490&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=20" class="addthx" data-post="401490"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:14 &middot; Поправил: DenCoder <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#21');return false;">#21</a> </span><div align=left><br>
<b>galenkane</b>, да логику включи - main() завершится, что станет с &quot;данными на стеке&quot;? Если при этом запущенный поток ещё не успел их обработать или даже принять? Тебе об этом пытаются подсказать, но как будто даже не пытаешься понять никого.
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401492&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=21" class="addthx" data-post="401492"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:17 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#22');return false;">#22</a> </span><div align=left><br>
<b>DenCoder</b><br>Ну вот он и спрашивает, как локальные данные перекидывать из одного стека в другой. Якобы это реверсера сильно затормозит, лол.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401493&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=22" class="addthx" data-post="401493"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]galenkane[/b]','')">galenkane</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 28.5 (посетитель), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.03'>Активность: 0.07<span style='color:green'>&nearr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=42738">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:40 <br><script type="text/javascript">QU('galenkane','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=galenkane" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#23');return false;">#23</a> </span><div align=left><br>
<b>rmn</b> каждый реверсер использует визоры. Ну да. Особенно если прога накрыта виртуальной машиной.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401494&amp;user=42738&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=23" class="addthx" data-post="401494"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:41 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#24');return false;">#24</a> </span><div align=left><br>
<b>DenCoder</b><br><br>&gt; main() завершится, что станет с &quot;данными на стеке&quot;?<br><br>Интересный вопрос кстати. Обычно ведь не происходит понижения вложенности, те возврата из серии процедур до завершения потока. А удаление стека настраивается:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>Teb<span class="hl_char">-</span><span class="hl_char">&gt;</span>FreeStackOnTermination<span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zero&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BaseAddress&nbsp;</span><span class="hl_char">=</span>&nbsp;Teb<span class="hl_char">-</span><span class="hl_char">&gt;</span>DeallocationStack<span class="hl_comment">;</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZwFreeVirtualMemory&nbsp;</span><span class="hl_char">(</span>NtCurrentProcess&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_char">,</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">&amp;</span>BaseAddress<span class="hl_char">,</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">&amp;</span>Zero<span class="hl_char">,</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MEM_RELEASE</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li>        </ol>
    </div>
</div></div>
<br><br>&gt;  Допустим три-четыре потока с синхронизацией. И крутим данные между ними. <br><br>Если потоки в одном АП, то достаточно глобальной переменной и локальной синхронизации.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401495&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=24" class="addthx" data-post="401495"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:43 <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#25');return false;">#25</a> </span><div align=left><br>
<I>galenkane пишет:<br>Особенно если прога накрыта виртуальной машиной. </I><br>Ты что не знаешь? Визорам виртуальные машины нипочем <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401496&amp;user=1533&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=25" class="addthx" data-post="401496"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]galenkane[/b]','')">galenkane</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 28.5 (посетитель), 8thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.03'>Активность: 0.07<span style='color:green'>&nearr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=42738">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:46 <br><script type="text/javascript">QU('galenkane','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=galenkane" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#26');return false;">#26</a> </span><div align=left><br>
<b>difexacaw</b> подскажите по локальной синхронизации, как сделать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=401498&amp;user=42738&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=26" class="addthx" data-post="401498"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 января 2020 23:51 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#27');return false;">#27</a> </span><div align=left><br>
<b>galenkane</b><br><br>slim-RWL, единственный способ сделать быстро. Иначе есть сотни всяких синхронизаций, семафоры евенты etc.<br><br>Вот тут <noindex><a href="https://docs.microsoft.com/en-us/windows/win32/sync/slim-reader-writer--srw--locks" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex>
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401500&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=27" class="addthx" data-post="401500"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 января 2020 00:02 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#28');return false;">#28</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Обычно ведь не происходит понижения вложенности, те возврата из серии процедур до завершения потока. </I><br><br>Угу )<br><br>Но как там говорится, что имеет начало, имеет и конец! )<br><br>CrtStartup<br>main<br>CrtCleanup )
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401502&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=28" class="addthx" data-post="401502"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 января 2020 00:05 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#29');return false;">#29</a> </span><div align=left><br>
<b>DenCoder</b><br><br>Обычно весь этот cleanup происходит в оконной функции, без возврата в ртл. Впрочем тс ведь сам код собирает и может это контролировать.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401503&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=29" class="addthx" data-post="401503"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 января 2020 00:07 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#30');return false;">#30</a> </span><div align=left><br>
<I>difexacaw пишет:<br>тс ведь сам код собирает и может это контролировать. </I><br>Мог бы - вопроса тогда и не стояло )
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401504&amp;user=24257&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=30" class="addthx" data-post="401504"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="31" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 января 2020 00:12 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#31" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26246&amp;page=1#31');return false;">#31</a> </span><div align=left><br>
<b>DenCoder</b><br><br>Я всё равно не понял какая задача. Если понимаешь, то напиши.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=401505&amp;user=40990&amp;forum_n=6&amp;topic=26246&amp;page=1&amp;anchor=31" class="addthx" data-post="401505"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=0.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=0.html">1</a> . <b>2</b> . <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=2.html">3</a> . <a href="action=vthread&amp;forum=6&amp;topic=26246&amp;page=2.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Формат для передачи данных между потоками</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=26246" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
