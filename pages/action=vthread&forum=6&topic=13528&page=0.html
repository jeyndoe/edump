<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Segmentation fault при подгрузке модулей ядра в mipsel устройстве работающем на Linux - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Добрый день. В общем есть устройство с процессором архитектуры mipsel. На нем linux. При подгрузке модулей ядра происходит ошибка. Внизу прикреплен лог. Интересует собственно вот что. Из-за чего это может происходить и как найти">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=31361'>zds</a>, <a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a>, <a target='_blank' href='?action=userinfo&amp;user=55802'>JustLife</a>, <a target='_blank' href='?action=userinfo&amp;user=2094'>2nd</a>, <a target='_blank' href='?action=userinfo&amp;user=33192'>morgot</a>, <a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a>, <a target='_blank' href='?action=userinfo&amp;user=27081'>CDK123</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Segmentation fault при подгрузке модулей ядра в mipsel устройстве работающем на Linux</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]NetSpider[/b]','')">NetSpider</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 39.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.39'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3832">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 января 2009 12:39 <br><script type="text/javascript">QU('NetSpider','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=NetSpider" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=13528.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Добрый день. В общем есть устройство с процессором архитектуры mipsel. На нем linux. При подгрузке модулей ядра происходит ошибка. Внизу прикреплен лог. Интересует собственно вот что. Из-за чего это может происходить и как найти причину такой ошибки. Если кто сталкивался или знает что-то по этому поводу - отпишитесь пожалуйста. Заранее, спасибо.<br><br># insmod brcmstfb.ko<br>CPU 0 Unable to handle kernel paging request at virtual address 00000000, epc == 80046358, ra == 80281754<br>Oops in arch/mips/mm/fault.c::do_page_fault, line 167[#1]:<br>Cpu 0<br>&#036; 0   : 00000000 10008400 87a6dd4c 10008401<br>&#036; 4   : c072281c 87a6dd40 00000000 ffffffed<br>&#036; 8   : 87a6dfe0 00008400 00000000 8060a000<br>&#036;12   : ffffffff 00000000 00000000 00000000<br>&#036;16   : c0722818 c0722818 87cd0810 ffffffed<br>&#036;20   : c0080b80 fffffffa c072281c 00000002<br>&#036;24   : 00000000 00000000                  <br>&#036;28   : 87a6c000 87a6dd30 00405fc0 80281754<br>Hi    : 00000000<br>Lo    : 00000000<br>epc   : 80046358 add_wait_queue_exclusive+0x38/0x6c     Tainted: P     <br>ra    : 80281754 __down_interruptible+0x64/0x278<br>Status: 10008402    KERNEL EXL <br>Cause : 0080000c<br>BadVA : 00000000<br>PrId  : 00020000<br>Modules linked in: brcmstfb cirrusfb softcursor fb cfbimgblt cfbfillrect cfbcopyarea bcm7401 bcmkni<br>Process insmod (pid: 225, threadinfo=87a6c000, task=87cd0810)<br>Stack : 87a6dd38 87a6ddb0 87cd0934 00000000 00000001 87cd0810 80024b68 c072281c<br>        00000000 c0080ba4 c0720000 c0722818 802ceeb0 ffffffed c0080b80 fffffffa<br>        00000002 00000002 c046e494 87cd0810 80024b68 00100100 00200200 805a527c<br>        00000001 c0080b80 c048cc1c 00000000 00000000 87a6de0c 87a6ddc8 87af145f<br>        c0080b10 c0082040 00000000 87a6de40 802d0000 ffffffff 00000000 87a6ddcc<br>        ...<br>Call Trace:<br> [&lt;80024b68&gt;] default_wake_function+0x0/0x20<br> [&lt;c046e494&gt;] b_lock+0xb4/0x11c [bcm7401]<br> [&lt;80024b68&gt;] default_wake_function+0x0/0x20<br> [&lt;c048cc1c&gt;] bdisplay_open+0x1c/0x54 [bcm7401]<br> [&lt;c0082040&gt;] brcmstfb_probe+0x40/0x414 [brcmstfb]<br> [&lt;80186598&gt;] driver_probe_device+0x44/0xa4<br> [&lt;80186660&gt;] device_attach+0x68/0xf8<br> [&lt;801436e0&gt;] kobject_get+0x20/0x34<br> [&lt;80144068&gt;] kobject_hotplug+0x2a8/0x33c<br> [&lt;800c5d4c&gt;] sysfs_create_dir+0x38/0x98<br> [&lt;801868b8&gt;] bus_add_device+0x64/0x144<br> [&lt;801439ac&gt;] kobject_add+0x88/0x168<br> [&lt;80184d38&gt;] device_add+0xc0/0x16c<br> [&lt;8018899c&gt;] platform_device_register+0x164/0x1e4<br> [&lt;80186b58&gt;] bus_add_driver+0xbc/0x150<br> [&lt;c0080000&gt;] brcmstfb_check_var+0x0/0x8c [brcmstfb]<br> [&lt;c0082470&gt;] brcmstfb_init+0x5c/0x80 [brcmstfb]<br> [&lt;c0080000&gt;] brcmstfb_check_var+0x0/0x8c [brcmstfb]<br> [&lt;8004e560&gt;] sys_init_module+0x628/0xa38<br> [&lt;8004e1d4&gt;] sys_init_module+0x29c/0xa38<br> [&lt;8000da60&gt;] stack_done+0x20/0x3c<br> [&lt;8000da60&gt;] stack_done+0x20/0x3c<br><br>Code: 24a2000c  aca4000c  ac820004 &lt;acc20000&gt; ac460004  40016000  30630001  34210001  38210001 <br>Segmentation fault<br>#
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=216753&amp;user=3832&amp;forum_n=6&amp;topic=13528.html&amp;page=0&amp;anchor=1" class="addthx" data-post="216753"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]cppasm[/b]','')">cppasm</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 251.3 (наставник), 81thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.77'>Активность: 0.14<span style='color:red'>&searr;</span>0.11</span><br>Статус: <a href="action=userinfo&amp;user=6859">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 января 2009 12:56 <br><script type="text/javascript">QU('cppasm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=cppasm" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=13528.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Ну там же всё написано.<br>Обращение к нулевому адресу - VirtualAddress = 0
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=216755&amp;user=6859&amp;forum_n=6&amp;topic=13528.html&amp;page=0&amp;anchor=2" class="addthx" data-post="216755"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]NetSpider[/b]','')">NetSpider</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 39.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.39'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3832">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 января 2009 13:06 <br><script type="text/javascript">QU('NetSpider','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=NetSpider" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=13528.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Это я понял. Ошибка наподобие Access Volation в винде. Вот только почему оно происходит? Исходников драйвера нет, а mips ассемблер я как бы не знаю, так что с отладкой проблема. А так по идее все должно работать нормально.<br>Конечно по данному логу мало чего понятно, но может у кого-то есть какие-то соображения, что можно сделать чтобы разобраться в чем причина данной ошибки.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=216756&amp;user=3832&amp;forum_n=6&amp;topic=13528.html&amp;page=0&amp;anchor=3" class="addthx" data-post="216756"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]NetSpider[/b]','')">NetSpider</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 39.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.39'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3832">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 января 2009 10:17 &middot; Поправил: NetSpider <br><script type="text/javascript">QU('NetSpider','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=NetSpider" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=13528.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
В общем, почитав про MIPS ассемблер и немного инфы, нарыл, что функция add_wait_queue_exclusive, которая вызывает данную ошибку судя по содержанию регистра epc находится в ядре LInux и вызывается соотвественно там. Копаем дальше...<br><br>void fastcall add_wait_queue_exclusive(wait_queue_head_t *q, wait_queue_t *wait)<br>{<br>	unsigned long flags;<br><br>	wait-&gt;flags |= WQ_FLAG_EXCLUSIVE;<br>	spin_lock_irqsave(&amp;q-&gt;lock, flags);<br>	__add_wait_queue_tail(q, wait);<br>	spin_unlock_irqrestore(&amp;q-&gt;lock, flags);<br>}<br>....<br>В регистре ra адрес возврата - __down_interruptible, но в исходниках ядра такого текста много, ищу реализацию данной функции...<br>....<br>Нашел в semaphore.c<br>int __sched __down_interruptible(struct semaphore * sem)<br>{<br>	int ret = 0;<br>	DOWN_VAR<br>	DOWN_HEAD(TASK_INTERRUPTIBLE)<br><br>	ret = waking_non_zero_interruptible(sem, tsk);<br>	if (ret)<br>	{<br>		if (ret == 1)<br>			/* ret != 0 only if we get interrupted -arca */<br>			ret = 0;<br>		break;<br>	}<br>	schedule();<br>	DOWN_TAIL(TASK_INTERRUPTIBLE)<br>	return ret;<br>}<br><br>Только вот где тут add_wait_queue_exclusive?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=216847&amp;user=3832&amp;forum_n=6&amp;topic=13528.html&amp;page=0&amp;anchor=4" class="addthx" data-post="216847"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]ssx[/b]','')">ssx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 352.4 (мудрец), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33">Участник</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 января 2009 20:07 <br><script type="text/javascript">QU('ssx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ssx" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=13528.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br><div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"></li><li class="hl_l1"><span class="hl_number">135</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;__sched&nbsp;__down_interruptible<span class="hl_char">(</span>struct&nbsp;semaphore&nbsp;<span class="hl_char">*</span>&nbsp;sem<span class="hl_char">)</span></li><li class="hl_l0"><span class="hl_number">136</span>&nbsp;{</li><li class="hl_l1"><span class="hl_number">137</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;retval&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">138</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;task_struct&nbsp;<span class="hl_char">*</span>tsk&nbsp;<span class="hl_char">=</span>&nbsp;current<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">139</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DECLARE_WAITQUEUE<span class="hl_char">(</span>wait<span class="hl_char">,</span>&nbsp;tsk<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">140</span>&nbsp;</li><li class="hl_l1"><span class="hl_number">141</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__set_task_state<span class="hl_char">(</span>tsk<span class="hl_char">,</span>&nbsp;TASK_INTERRUPTIBLE<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">142</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_wait_queue_exclusive<span class="hl_char">(</span><span class="hl_char">&amp;</span>sem<span class="hl_char">-</span><span class="hl_char">&gt;</span>wait<span class="hl_char">,</span>&nbsp;<span class="hl_char">&amp;</span>wait<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">143</span>&nbsp;</li><li class="hl_l0"><span class="hl_number">144</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>while</b></span>&nbsp;<span class="hl_char">(</span>__sem_update_count<span class="hl_char">(</span>sem<span class="hl_char">,</span>&nbsp;<span class="hl_char">-</span><span class="hl_number">1</span><span class="hl_char">)</span>&nbsp;<span class="hl_char">&lt;</span><span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1"><span class="hl_number">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>signal_pending<span class="hl_char">(</span>current<span class="hl_char">)</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l0"><span class="hl_number">146</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">/</span><span class="hl_char">*</span></li><li class="hl_l1"><span class="hl_number">147</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">*</span>&nbsp;A&nbsp;signal&nbsp;is&nbsp;pending&nbsp;<span class="hl_char">-</span>&nbsp;give&nbsp;up&nbsp;trying<span class="hl_char">.</span></li><li class="hl_l0"><span class="hl_number">148</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">*</span>&nbsp;Set&nbsp;sem<span class="hl_char">-</span><span class="hl_char">&gt;</span>count&nbsp;to&nbsp;<span class="hl_number">0</span>&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;it&nbsp;is&nbsp;negative<span class="hl_char">,</span></li><li class="hl_l1"><span class="hl_number">149</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">*</span>&nbsp;since&nbsp;we&nbsp;are&nbsp;no&nbsp;longer&nbsp;sleeping<span class="hl_char">.</span></li><li class="hl_l0"><span class="hl_number">150</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_char">*</span><span class="hl_char">/</span></li><li class="hl_l1"><span class="hl_number">151</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__sem_update_count</span><span class="hl_char">(</span>sem<span class="hl_char">,</span>&nbsp;<span class="hl_number">0</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">152</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retval&nbsp;</span><span class="hl_char">=</span>&nbsp;<span class="hl_char">-</span>EINTR<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">153</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>break</b></span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">154</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1"><span class="hl_number">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;schedule<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">156</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set_task_state<span class="hl_char">(</span>tsk<span class="hl_char">,</span>&nbsp;TASK_INTERRUPTIBLE<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">157</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0"><span class="hl_number">158</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove_wait_queue<span class="hl_char">(</span><span class="hl_char">&amp;</span>sem<span class="hl_char">-</span><span class="hl_char">&gt;</span>wait<span class="hl_char">,</span>&nbsp;<span class="hl_char">&amp;</span>wait<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">159</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__set_task_state<span class="hl_char">(</span>tsk<span class="hl_char">,</span>&nbsp;TASK_RUNNING<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">160</span>&nbsp;</li><li class="hl_l1"><span class="hl_number">161</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wake_up<span class="hl_char">(</span><span class="hl_char">&amp;</span>sem<span class="hl_char">-</span><span class="hl_char">&gt;</span>wait<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">162</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;retval<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">163</span>&nbsp;}</li><li class="hl_l0"><span class="hl_number">164</span>&nbsp;</li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=216907&amp;user=33&amp;forum_n=6&amp;topic=13528.html&amp;page=0&amp;anchor=5" class="addthx" data-post="216907"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]NetSpider[/b]','')">NetSpider</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 39.6 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.39'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3832">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 января 2009 10:44 <br><script type="text/javascript">QU('NetSpider','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=NetSpider" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=13528.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Точно, оно.<img src="img/smilies/s1.gif" alt=""> Плохо искал видимо. Спасибо.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=217224&amp;user=3832&amp;forum_n=6&amp;topic=13528.html&amp;page=0&amp;anchor=6" class="addthx" data-post="217224"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Segmentation fault при подгрузке модулей ядра в mipsel устройстве работающем на Linux</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#7" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="13528">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=13528" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
