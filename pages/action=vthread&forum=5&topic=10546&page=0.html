<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Иследование длл на мультипотоковость. (Multithread) - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здрасьте Всем!! Хочу сразу сказать, что я только пару дней назад нашел этот сайт (да и начал изучать эту область). И хочу выразить огромную благодарность создателям и админам этого сайта! Сайт суперский, огромное количество">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a> (+3 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Иследование длл на мультипотоковость. (Multithread)</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]shob_vas[/b]','')">shob_vas</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14238">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 ноября 2007 22:51 <br><script type="text/javascript">QU('shob_vas','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shob_vas" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Здрасьте Всем!!<br>Хочу сразу сказать, что я только пару дней назад нашел этот сайт (да и начал изучать эту область).<br>И хочу выразить огромную благодарность создателям и админам этого сайта! Сайт суперский, огромное количество полезной информации, качалка, все что нужно для счастья вообщем. Большое спасибо!!!<br><br>Перейду ближе к делу!<br>Есть программа в которую нужно встроить определенный код, и вообще всячески исследовать. Какие процедуры за что отвечают и тд. Самое простое было бы добавить библиотеку и в в процедуре main (или как там она называется) библиотеки создать новый поток, который бы работал постоянно, и использовал внешнии библиотеки приложения. Впринципе этого было бы наверно достаточно.<br>Внимание Вопрос:<br>После создания нового процесса, программа становится мультипотоковой (возможно в приложении и так больше одного потока, я не смотрел пока). Поэтому библиотеки должны быть так же мультипотоковыми, чтобы не было ошибки при вызове из двух потоков одной процедуры одновременно. Вопрос как узнать, multithread dll или singlethread? и есть ли какие нибудь инструменты чтобы сделать из singlethread - multithread?<br><br>Заранее спасибо за ответ!
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=169633&amp;user=14238&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=1" class="addthx" data-post="169633"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 ноября 2007 23:24 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<I>shob_vas пишет:<br>Есть программа в которую нужно встроить определенный код, и вообще всячески исследовать. Какие процедуры за что отвечают и тд. </I><br>Это называется реверсинг.<br><I>shob_vas пишет:<br>в процедуре main (или как там она называется) </I><br>Название - это только слово. А суть - EntryPoint.<br><I>shob_vas пишет:<br>После создания нового процесса </I><br>Ты хотел сказать нити (треда)?<br><I>shob_vas пишет:<br>Вопрос как узнать, multithread dll или singlethread </I><br>Можно посмотреть есть ли в списке вызываемых Win32API функции работы с тредами (типа CreateThread). Если жертва не пакована, то сразу смотри импорт (в Hiew&#039;e F4,F8,F7).<br><I>shob_vas пишет:<br>и есть ли какие нибудь инструменты чтобы сделать из singlethread - multithread? </I><br>Вот этот вопрос вообще не понял.<br>Ты знаком с WinAPI-программированием?<br>Если нет - увы =(.
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=169638&amp;user=410&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=2" class="addthx" data-post="169638"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]shob_vas[/b]','')">shob_vas</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14238">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 ноября 2007 23:59 <br><script type="text/javascript">QU('shob_vas','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shob_vas" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>Bitfry</b><br>Спасибо за исчерпывающий ответ!<br><br><I>Bitfry пишет:<br>Можно посмотреть есть ли в списке вызываемых Win32API функции работы с тредами (типа CreateThread). Если жертва не пакована, то сразу смотри импорт (в Hiew&#039;e F4,F8,F7). </I><br>Буду иметь ввиду, спасибо, обязательно посмотрю!<br><br>Хотя я щас подумал, возможно вы не много не так поняли вопрос...<br>Когда я создаю библиотеку (или екзешник) в VS в свойствах проекта, можно указать в графе &quot;runtime library&quot; на выбор multithread или singlethread. (Я конечно может что то неправильно понимаю, но я себе это представляю как генерация кода для мультитредового приложения либо сингтредового) Я вообще себе это правильно понимаю или нет?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=169643&amp;user=14238&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=3" class="addthx" data-post="169643"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 ноября 2007 02:03 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Так бы сразу и сказал, что про VS спрашиваешь.<br>Различий между multithread и singlethread в бинарнике не будет до тех пор пока не появится код второй нити и, если не ошибаюсь, без опции multithread этот код не скомпилить. Так что смотри импорт.<br>А для более глубокого понимания вопроса спускайся на уровень Ассемблера и чистого WinAPI.
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=169649&amp;user=410&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=4" class="addthx" data-post="169649"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]shob_vas[/b]','')">shob_vas</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14238">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 ноября 2007 10:39 <br><script type="text/javascript">QU('shob_vas','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shob_vas" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Так вот один из вопросов как раз и есть. Как узнать с какими опциями скомпилен екзешник. мультитред или синглтред? может это делает какой нибудь peid или чтонибудь типа того...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=169689&amp;user=14238&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=5" class="addthx" data-post="169689"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 ноября 2007 21:23 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>shob_vas пишет:<br>может это делает какой нибудь peid или чтонибудь типа того... </I><br>Ещё раз повторю. Чтоб было понятно.<br><br>PeId всего лишь сопоставляет файл со своей базой сигнатур. Если ты добавишь в базу свою сигнатуру  Multithread (там элементарный текстовый формат), то будет и PeId определять эту самую опцию.<br><br>Проблема заключается в том, что exe собраные multithread и singlethread абсолютно одинаковые.<br>Можешь провести эксперимент:<br><br>1. Скомпилить шаблон окна в VS с разными опциями.<br>2. Сравнить по байтам FC /b<br>3. Проанализировать отличия.<br>Увидишь, что кроме билда и тайма файлы одинаковые.<br><br>Но если в коде будет второй тред (хотябы оконная процедура второй нити) - различия будут.<br>А самое яркое из них всё равно функция CreateThread  в импорте. =)
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=169774&amp;user=410&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=6" class="addthx" data-post="169774"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]s0larian[/b]','')">s0larian</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1737.jpg" alt=""><br><span class=txtSm>Ранг: 387.4 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.19'>Активность: 0.17<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1737">Участник</a><br><font color=blue>системщик</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 ноября 2007 09:57 <br><script type="text/javascript">QU('s0larian','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=s0larian" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>Bitfry</b>, кста, в старых VC++ были две версии снандартных библиотек: single and multi threaded. Думаю что первая это просто оптимизация второй без синхронизации. Так енто, в принципе можно сделать сигнатуру malloc или new - реализации будут разные.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=169849&amp;user=1737&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=7" class="addthx" data-post="169849"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]shob_vas[/b]','')">shob_vas</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14238">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 ноября 2007 11:57 <br><script type="text/javascript">QU('shob_vas','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shob_vas" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>Bitfry пишет:<br>Проблема заключается в том, что exe собраные multithread и singlethread абсолютно одинаковые. </I><br><br>Хм, а зачем тогда эта опция нужна, если она не влияет на код?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=170024&amp;user=14238&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=8" class="addthx" data-post="170024"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]s0larian[/b]','')">s0larian</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1737.jpg" alt=""><br><span class=txtSm>Ранг: 387.4 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.19'>Активность: 0.17<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1737">Участник</a><br><font color=blue>системщик</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 ноября 2007 20:21 <br><script type="text/javascript">QU('s0larian','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=s0larian" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>shob_vas</b>, в старых компилерах были разные библиотеки. В VC8/VS2005 ни опции ни single threaded libs уже нету.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=170106&amp;user=1737&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=9" class="addthx" data-post="170106"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]shob_vas[/b]','')">shob_vas</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14238">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 ноября 2007 20:47 &middot; Поправил: shob_vas <br><script type="text/javascript">QU('shob_vas','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shob_vas" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
понял, спасибо!<br>То есть по идее если екзешник скомпилен на vs2005, то можно подсоединять новые ПОТОКИ к нему и использовать функции его библиотек (dll) не боясь, ошибок из-за одновременного вызова функции разными ПОТОКАМИ, так?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=170112&amp;user=14238&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=10" class="addthx" data-post="170112"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]tnt17[/b]','')">tnt17</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/7417.jpg" alt=""><br><span class=txtSm>Ранг: 109.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.7'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=7417">Участник</a><br><font color=blue>Cardinal</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 ноября 2007 21:03 <br><script type="text/javascript">QU('tnt17','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tnt17" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>shob_vas</b><br>Не разные процессы, а один. В разных процессах свое адрессное пространство, и им глубоко похер, что какой-то еще процесс юзает эту дллку. А вот в одном - если какой-то из потоков использует глобальную переменную, то при обращении к ней разных потоков должна быть поминимуму синхронизация, а по максимуму от нее вообще желательно избавиться. При компиляции в мультитрединг компилятор где можно, заменяет переменные на локальные.Это вообще кассательно библиотечных функций. За своими лучше следить самому.
<br><br><font size="1"><i>-----<br>– Почему ты работаешь по ночам ?  – Так удобнее... В одну смену с чертями...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=170114&amp;user=7417&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=11" class="addthx" data-post="170114"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]shob_vas[/b]','')">shob_vas</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.64'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14238">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 ноября 2007 22:01 <br><script type="text/javascript">QU('shob_vas','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shob_vas" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
черт, я имел ввиду потоки а не процессы!
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=170124&amp;user=14238&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=12" class="addthx" data-post="170124"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 ноября 2007 23:35 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>s0larian пишет:<br>Bitfry, кста, в старых VC++ были две версии снандартных библиотек: single and multi threaded. Думаю что первая это просто оптимизация второй без синхронизации. Так енто, в принципе можно сделать сигнатуру malloc или new - реализации будут разные. </I><br>Понял. <br>Нужно не шаблон компилить, а пример с malloc, тогда различия появятся.<br>Но вообще странно, что этих сигнатур до сих пор нет в PeId. =/<br><br><I>shob_vas пишет:<br>То есть по идее если екзешник скомпилен на vs2005, то можно подсоединять новые ПОТОКИ к нему и использовать функции его библиотек (dll) не боясь, ошибок из-за одновременного вызова функции разными ПОТОКАМИ, так? </I><br>100% гарантии нет. Но если dll писал не Бил лично, то должно работать.<br>Очень советую прочитать:<br>Джеффри РИХТЕР<br>Создание эффективных WIN32-приложений<br>с учетом специфики 64-разрядной версии Windows<br><br><I>shob_vas пишет:<br>черт, я имел ввиду потоки а не процессы! </I><br>Строго говоря, thread лучше переводить как &quot;нить&quot; или тупо &quot;тред&quot;.<br>А то встречал я такие переводы, в которых одним словом и stream и pipe и thread... Пойди разберись.
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=170132&amp;user=410&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=13" class="addthx" data-post="170132"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]s0larian[/b]','')">s0larian</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1737.jpg" alt=""><br><span class=txtSm>Ранг: 387.4 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.19'>Активность: 0.17<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1737">Участник</a><br><font color=blue>системщик</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 ноября 2007 04:41 &middot; Поправил: s0larian <br><script type="text/javascript">QU('s0larian','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=s0larian" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10546.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>Bitfry</b>, кста ешё один момент - CRT(С Runtime Libs) может линковаться динамически. Вообще, было три варианта: single-threaded static &lt;ML[d]&gt;, multithreaded static &lt;MT[d]&gt;, or multithreaded DLL&lt;MD[d]&gt;<br><br>В VS2005 осталисть два воследних.<br><br>http://support.microsoft.com/kb/154753 http://support.microsoft.com/kb/154753
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=170146&amp;user=1737&amp;forum_n=5&amp;topic=10546.html&amp;page=0&amp;anchor=14" class="addthx" data-post="170146"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Иследование длл на мультипотоковость. (Multithread)</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#15" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="10546">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=10546" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
