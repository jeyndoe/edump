<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Динамические массивы в Delphi - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здравствуйте! Появился вопрос касательно работы динамических массивов в Delphi: Заранее не известно сколько будет всего элементов, по мере чтения файла я узнаю сколько их будет. Т.е. нужно паралелно увеличивать кол-во эл-тов и">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Динамические массивы в Delphi</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]locker_fx[/b]','')">locker_fx</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 113.4 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.1'>Активность: 0.13<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5062">Участник</a><br><font color=blue>Ветеран</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 20:24 <br><script type="text/javascript">QU('locker_fx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=locker_fx" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Здравствуйте!<br><br>Появился вопрос касательно работы динамических массивов в Delphi:<br>Заранее не известно сколько будет всего элементов, по мере чтения файла я узнаю сколько их будет. Т.е. нужно паралелно увеличивать кол-во эл-тов и запихивать туда содержимое. Почему так нужно, долго обьяснять...Собственно сам вопрос будет ли большая нагрузка если в пути чтения файла расширять динаический массив? Массивы в Delphi работают так же как и в Basic&#039;е(насколько мне известно бэйсик делает так: при вызове redim создаёт новый массив нужной длинны, копирует эл-ты из старого(если требуется), уничтожает старый и мы пользуемся новым. Поправьте, если я не прав, пожалуйста.)?
<br><br><font size="1"><i>-----<br>моя подпись!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178006&amp;user=5062&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=1" class="addthx" data-post="178006"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]GlOFF[/b]','')">GlOFF</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 51.7 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.32'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10603">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 20:42 <br><script type="text/javascript">QU('GlOFF','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=GlOFF" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<b>locker_fx</b> Так делфи сама следит за массивом динамическим и расширяет\сужает при необходимости или запросах. Нагрузка зависит от характера твоего приложения, но думаю на современных мощностях вопрос твой отпадает. <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178007&amp;user=10603&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=2" class="addthx" data-post="178007"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Enigma[/b]','')">Enigma</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 88.3 (постоянный), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.58'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8396">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 20:45 <br><script type="text/javascript">QU('Enigma','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Enigma" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Это работает малость не так, динамический массив представляет из себя набор dword&#039;ов - указатель в памяти гле содержатся данные этого елемента. Когда ты создаешь новый елемент, к общему списку указателей добавляется еще один и выделяется память равная размеру этого элемента.<br><br>Вообщем смотря сколько ты будешь обрабатывать данных, если массив длинной (не размером данных, а именно длинной), не больше 10000 элементов, то время его создания (досоздания) вообщем то незначительно, и почти незаметно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178008&amp;user=8396&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=3" class="addthx" data-post="178008"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]arnix[/b]','')">arnix</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 210.5 (наставник), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.14<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 20:47 &middot; Поправил: arnix <br><script type="text/javascript">QU('arnix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=arnix" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
var Students : array of string; <br>...<br>SetLength(Students, 14) ;<br>...<br><br>Можно делать это не часто, тойсть добавить по 2000-3000 записей, каждый раз когда необходимо, но вот насколько это будет тормозить при больших значениях нужно тестить <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178009&amp;user=26&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=4" class="addthx" data-post="178009"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 20:52 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<I>locker_fx пишет:<br>создаёт новый массив нужной длинны, копирует эл-ты из старого(если требуется), уничтожает старый и мы пользуемся новым. </I><br>Как-то страшно это звучит, не думаю, что всё так запущено...<br>Вот почитай: www.rsdn.ru/article/Delphi/dynarrays.xml
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178010&amp;user=6946&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=5" class="addthx" data-post="178010"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]locker_fx[/b]','')">locker_fx</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 113.4 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.1'>Активность: 0.13<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5062">Участник</a><br><font color=blue>Ветеран</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 20:53 <br><script type="text/javascript">QU('locker_fx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=locker_fx" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>arnix пишет:<br>var Students : array of string; <br>... <br>SetLength(Students, 14) ; <br>... </I><br><br><I>Enigma пишет:<br>Вообщем смотря сколько ты будешь обрабатывать данных, если массив длинной (не размером данных, а именно длинной), не больше 10000 элементов, то время его создания (досоздания) вообщем то незначительно, и почти незаметно. </I><br>Хочется как можно сильнее оптимизировать...
<br><br><font size="1"><i>-----<br>моя подпись!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178011&amp;user=5062&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=6" class="addthx" data-post="178011"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]locker_fx[/b]','')">locker_fx</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 113.4 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.1'>Активность: 0.13<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5062">Участник</a><br><font color=blue>Ветеран</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 21:04 <br><script type="text/javascript">QU('locker_fx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=locker_fx" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>Isaev пишет:<br>Как-то страшно это звучит, не думаю, что всё так запущено...  </I><br>читай внимательнее! Я говорил не про Delphi а про Basic<br><br><I>Isaev пишет:<br>Вот почитай: --&gt; Link &lt;-- </I><br>Зы. прикольно как раз нашёл эту ссыль в гугле
<br><br><font size="1"><i>-----<br>моя подпись!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178012&amp;user=5062&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=7" class="addthx" data-post="178012"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]MACKLIA[/b]','')">MACKLIA</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/5822.gif" alt=""><br><span class=txtSm>Ранг: 279.1 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.96'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5822">Участник</a><br><font color=blue>wizard</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 22:56 <br><script type="text/javascript">QU('MACKLIA','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=MACKLIA" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>locker_fx пишет:<br>Хочется как можно сильнее оптимизировать... </I><br><br>тогда уж пиши на asm <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>Что один человек сделал , другой всегда сломать может...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178019&amp;user=5822&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=8" class="addthx" data-post="178019"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 января 2008 23:05 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>locker_fx пишет:<br>читай внимательнее! Я говорил не про Delphi а про Basic </I><br><img src="img/smilies/s1.gif" alt=""> ты говорил:<br><I>locker_fx пишет:<br>Массивы в Delphi работают так же как и в Basic&#039;е </I><br><br><I>MACKLIA пишет:<br>тогда уж пиши на asm </I><br>+1
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178021&amp;user=6946&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=9" class="addthx" data-post="178021"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]egorovshura[/b]','')">egorovshura</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 122.2 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.43'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1227">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 января 2008 03:31 <br><script type="text/javascript">QU('egorovshura','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=egorovshura" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
А что за елементы то в массиве? объекты или записи или вообще простые типы. Возможно тут лучше TList подойдет.  А вобще <b>arnix</b> правильо сказал: нужно изменять размер массива не каждый раз, а на каждые несколько элементов.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178032&amp;user=1227&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=10" class="addthx" data-post="178032"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]intro[/b]','')">intro</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/4890.jpg" alt=""><br><span class=txtSm>Ранг: 141.4 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4890">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 января 2008 09:44 <br><script type="text/javascript">QU('intro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=intro" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<i class=x>В. Возможно создавать динамически-изменяющиеся массивы в Delphi? <br><br>О. Да. Для начала вам необходимо создать тип массива, использующего самый большой размер, который вам, вероятно, может понадобиться. В действительности, при создании типа никакой памяти не распределяется. Вот когда вы создаете переменную этого типа, тогда компилятор пытается распределить для вас необходимую память. Вместо этого создайте переменную, являющуюся указателем на этот тип. Этим вы заставите компилятор распределить лишь четыре байта, необходимые для размещения указателя. <br><br>Прежде, чем вы сможете пользоваться массивом, вам необходимо распределить для него память. Используя AllocMem, вы можете точно управлять выделяемым размером памяти. Для того, чтобы определить необходимое количество байт, которые вы должны распределить, просто умножьте размер массива на размер отдельного элемента массива. Имейте в виду, что самый большой блок, который вы сможете распределить в любой момент в 16-битной среде равен 64Kб. Самый большой блок, который вы можете в любой момент распределить в 32-битной среде равен 4Гб. Для определения максимального числа элементов, которые вы можете иметь в вашем конкретном массиве (в 16-битной среде), разделите 65,520 на размер отдельного элемента. Например: 65520 div SizeOf(LongInt)</i><br><br>дальше можно прочитать тут - --&gt; Динамические массивы &lt;-- http://www.delphihelp.org/dynamic_arrays2.html <br><br>думаю, что должно помочь.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178044&amp;user=4890&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=11" class="addthx" data-post="178044"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]locker_fx[/b]','')">locker_fx</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 113.4 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.1'>Активность: 0.13<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5062">Участник</a><br><font color=blue>Ветеран</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 января 2008 15:33 <br><script type="text/javascript">QU('locker_fx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=locker_fx" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>MACKLIA пишет:<br>тогда уж пиши на asm  </I><br>Боюсь замучаюсь! Не к чему такие само пожертвования. Asm - сила, но применять надо с умом.<br><br><I>Isaev пишет:<br> ты говорил: <br>locker_fx пишет: <br>Массивы в Delphi работают так же как и в Basic&#039;е  </I><br>Там после скобки стоит знак вопроса <img src="img/smilies/s1.gif" alt=""><br>Я как раз спросил массивы работают также или по другому.<br><br><I>intro пишет:<br>думаю, что должно помочь. </I><br>спасибо, пошёл курить!
<br><br><font size="1"><i>-----<br>моя подпись!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178068&amp;user=5062&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=12" class="addthx" data-post="178068"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]MACKLIA[/b]','')">MACKLIA</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/5822.gif" alt=""><br><span class=txtSm>Ранг: 279.1 (наставник)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.96'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5822">Участник</a><br><font color=blue>wizard</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2008 13:31 <br><script type="text/javascript">QU('MACKLIA','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=MACKLIA" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>locker_fx пишет:<br>Боюсь замучаюсь! Не к чему такие само пожертвования. </I><br><br><br><b>locker_fx</b> а что у тебя за задача такая ,что требуется именно -&gt;<br><I>locker_fx пишет: как можно  сильнее оптимизировать... </I><br>Я иногда вообще заместо динамического массива создавал массив ,количество элементов которого больше ,чем мне понадобится ,вот такой я лентяй <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>Что один человек сделал , другой всегда сломать может...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=178139&amp;user=5822&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=13" class="addthx" data-post="178139"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]OSA[/b]','')">OSA</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.1 (новичок), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.54'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8746">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2008 18:43 <br><script type="text/javascript">QU('OSA','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=OSA" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>locker_fx</b>, не стоит юзать SetLength(x, Length(x)+1). Лучше при добавлении в массив нового элемента проверять Length(x) и при необходимости вызывать SetLength(x, Length(x)+AddSize). Реальное кол-во элементов при этом лучше хранить в отдельной переменной.<br><br>Привыкай лучше к GetMem (+FastMM4). Мне нравиться самому вызывать FreeMem, чем на делфи надеяться.<br><br>И посмотри в делфи реализацию TList (вроде бы там для 16 указателей за раз память выделяется).
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178164&amp;user=8746&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=14" class="addthx" data-post="178164"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Enigma[/b]','')">Enigma</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 88.3 (постоянный), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.58'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8396">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2008 19:06 <br><script type="text/javascript">QU('Enigma','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Enigma" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<I>OSA пишет:<br>Реальное кол-во элементов при этом лучше хранить в отдельной переменной. </I><br><br>ты видел как делфи организует чтение длинны динамического массива? Если взять указатель на массив и вычесть из него 4, в этой ячейке будет хранится размер! Использование своего счетчика - муторнее, и по скорости явно не быстрее!<br><br><I>OSA пишет:<br>И посмотри в делфи реализацию TList (вроде бы там для 16 указателей за раз память выделяется). </I><br>Так же как и динамический массив.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178166&amp;user=8396&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=15" class="addthx" data-post="178166"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]OSA[/b]','')">OSA</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.1 (новичок), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.54'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8746">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2008 20:18 <br><script type="text/javascript">QU('OSA','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=OSA" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=11076.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>Enigma пишет:<br>ты видел как делфи организует чтение длинны динамического массива? Если взять указатель на массив и вычесть из него 4, в этой ячейке будет хранится размер! Использование своего счетчика - муторнее, и по скорости явно не быстрее! </I><br>Если ты выделишь массив для 100 элементов, а реально будешь хранить в нём менее 100, где ты будешь хранить реальное число лементов ?<br>И не нужно тут базарить про внутренную организацию. И без тебя знаю.<br>И как же на скорость влияет дополнительный Integer (в котором будет храниться кол-во элементов) ?<br><br><I>Enigma пишет:<br>Так же как и динамический массив. </I><br>var<br>  arr: array of Pointer;<br>begin<br>  SetLength(arr, 1);<br><br>Ты полагаешь что выделиться память под 16 элементов, т.е. 64 байт ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=178177&amp;user=8746&amp;forum_n=6&amp;topic=11076.html&amp;page=0&amp;anchor=16" class="addthx" data-post="178177"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Динамические массивы в Delphi</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#17" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="11076">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=11076" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
