<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Модификация файла winlogon.exe, нужна помощь спецов! - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Товарищи реверсеры и крэкеры, всем здравия! Нужна ваша помощь по поводу того, как грамотно отредактировать системный исполняемый файл для своих целей и при этом не &quot;уронить&quot; систему, если это вообще возможно в Windows">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a>, <a target='_blank' href='?action=userinfo&amp;user=55997'>bezumchik</a>, <a target='_blank' href='?action=userinfo&amp;user=55477'>Lohmaty</a> (+7 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Модификация файла winlogon.exe, нужна помощь спецов!</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]LShadow77[/b]','')">LShadow77</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 1.36'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=48568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 февраля 2019 23:13 <br><script type="text/javascript">QU('LShadow77','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=LShadow77" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Товарищи реверсеры и крэкеры, всем здравия! Нужна ваша помощь по поводу того, как грамотно отредактировать системный исполняемый файл для своих целей и при этом не &quot;уронить&quot; систему, если это вообще возможно в Windows 10. В моём случае таким файлом является  C:\Windows\System32\winlogon.exe. А цель - избавиться от назойливого уведомления &quot;Не удалось восстановить подключения ко всем сетевым дискам&quot;, которое постоянно выскакивает при старте системы (все иные способы решить эту проблему, найденные в сети, либо не работают, либо создают иные проблемы, по-этому для меня остался только один способ возможного решения - реверсинг).<br><br>Собственно, я нашёл целевой код, должным образом подправил его в WinHex&#039;е, с загрузочной флешки заменил оригинальный winlogon.exe в системе на модифицированный и перезагрузил ПК. Как итог, система выдала экран с сообщением, что-то вроде &quot;У вас проблема, данные об ошибке отправляются&quot;, после чего ПК отключился. В журнале событий (после обратной замены искомого файла), соответственно, зафиксировалось следующая запись:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Компьютер&nbsp;был&nbsp;перезагружен&nbsp;после&nbsp;критической&nbsp;ошибки<span class="hl_char">.</span>&nbsp;&nbsp;Код&nbsp;ошибки<span class="hl_char">:</span>&nbsp;0xc000021a&nbsp;<span class="hl_char">(</span>0xffffde85edbfb1c0<span class="hl_char">,</span>&nbsp;0xffffffffc0000428<span class="hl_char">,</span>&nbsp;0x0000000000000001<span class="hl_char">,</span>&nbsp;0x0000026b80020000<span class="hl_char">)</span><span class="hl_char">.</span>&nbsp;Дамп&nbsp;памяти&nbsp;сохранен&nbsp;в<span class="hl_char">:</span>&nbsp;C<span class="hl_char">:</span><span class="hl_char">\</span>Windows<span class="hl_char">\</span>MEMORY<span class="hl_char">.</span>DMP<span class="hl_char">.</span>&nbsp;Код&nbsp;отчета<span class="hl_char">:</span>&nbsp;bcc49ed4<span class="hl_char">-</span>f497<span class="hl_char">-</span><span class="hl_number">42d4</span><span class="hl_char">-</span>a3c0<span class="hl_char">-</span><span class="hl_number">05e822aff16a</span><span class="hl_char">.</span></li>        </ol>
    </div>
</div></div>
<br><br>Собственно я предполагаю, что причина кроется в цифровой подписи системных файлов. Соответственно, система обнаружила, что файл был модифицирован, и отказалась его принимать.<br>Нельзя исключить, естественно,  что я где-то напортачил при редактировании файла, однако вроде бы аккуратно работал. Раньше я не дизассемблировал 64-битные программы, да ещё под Win10, так что вполне мог что-то не учесть.<br><br>Вопрос к спецам: прав ли я насчёт цифровой подписи (а может тут просто CRC) и как всё таки мне решить эту проблему (и каким софтом)?<br>Спасибо.<br><br>P.S. На всякий случай прилагаю скрины, что касательно самого патча. Вдруг кто увидит мою ошибку, если таковая есть?<br>[url=01-Целевая процедура, ответственная за сетевые подключения.png]http://a.radikal.ru/a32/1902/0c/4df2a3634082.png[/url]<br>[url=02-Оригинальный код (до патча).png]http://c.radikal.ru/c26/1902/33/911266a3d22b.png[/url]<br>[url=03-Модифицированный код (после патча).png]http://b.radikal.ru/b06/1902/38/a60a95f0ada2.png[/url]<br><br><br><br><img src="img/attach.gif" alt=""> <a href="./files/f8b6_28.02.2019_EXELAB.rU.tgz">f8b6_28.02.2019_EXELAB.rU.tgz</a> - 01-Целевая процедура, ответственная за сетевые подключения.png<br><br><b>Добавлено спустя 2 минуты</b><br>[url=01-Целевая процедура, ответственная за сетевые подключения.png]--&gt; http://a.radikal.ru/a32/1902/0c/4df2a3634082.png &lt;--[/url]<br>[url=02-Оригинальный код (до патча).png]--&gt; http://c.radikal.ru/c26/1902/33/911266a3d22b.png &lt;--[/url]<br>[url=03-Модифицированный код (после патча).png]--&gt; http://b.radikal.ru/b06/1902/38/a60a95f0ada2.png &lt;--[/url]<br><br><b>Добавлено спустя 5 минут</b><br>Что-то не работают тут ссылки. Прилагаю архив.<br><br><img src="img/attach.gif" alt=""> <a href="./files/7aad_28.02.2019_EXELAB.rU.tgz">7aad_28.02.2019_EXELAB.rU.tgz</a> - Скрины.rar
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392072&amp;user=48568&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=1" class="addthx" data-post="392072"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]f13nd[/b]','')">f13nd</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/8075.png" alt=""><br><span class=txtSm>Ранг: 271.2 (наставник), 331thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.63'>Активность: 0.32<span style='color:green'>&nearr;</span>1.49</span><br>Статус: <a href="action=userinfo&amp;user=8075">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 февраля 2019 23:26 <br><script type="text/javascript">QU('f13nd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=f13nd" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Проверить из-за цп это или нет просто - поменяй любой байт, который точно ни на что не повлияет. Патчить файл венды и отключать для этого ее иммунитет ко всяким не твоим изменениям наверное плохое решение, лучше искать способ инжекта в сам процесс, чтобы уже в нем вставить свои нопы куда надо.
<br><br><font size="1"><i>-----<br>2 оттенка серого</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392073&amp;user=8075&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=2" class="addthx" data-post="392073"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]LShadow77[/b]','')">LShadow77</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 1.36'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=48568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 февраля 2019 23:29 &middot; Поправил: LShadow77 <br><script type="text/javascript">QU('LShadow77','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=LShadow77" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>f13nd</b><br>Думал про &quot;поменять незначащий байт&quot;, на досуге вероятно попробую так сделать. А вот с патчем &quot;на лету&quot; всё несколько сложнее. Как я понимаю, для этого нужно написать какой-нибудь драйвер, который запускался бы до выполнения winlogon, мониторил этот момент и, соответственно, инжектил код при загрузке последнего. Моих текущих знаний и умений пока не хватает, чтобы так заморочиться. Планирую поковырять ещё wlrmdr.exe, может в нём что-то полезное удасться отыскать...<br><br>К слову, где можно почитать про WPP_GLOBAL_Control? Я так понимаю, это что-то связанное с &quot;раскруткой&quot; стека и исключениями, я прав?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392074&amp;user=48568&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=3" class="addthx" data-post="392074"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]ELF_7719116[/b]','')">ELF_7719116</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 419.0 (мудрец), 647thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.73'>Активность: 0.46<span style='color:green'>&nearr;</span>0.51</span><br>Статус: <a href="action=userinfo&amp;user=26651">Участник</a><br><font color=blue>&quotТибериумный реверсинг&quot</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 февраля 2019 23:44 <br><script type="text/javascript">QU('ELF_7719116','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ELF_7719116" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<u>https://answers.microsoft.com/ru-ru/windows/forum/windows_7-networking/ошибка-не/2cb870b2-1ade-417d-9426-6858f86ae046</u><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span style="word-break: break-all">Чтобы&nbsp;предотвратить&nbsp;инициализацию&nbsp;соединения&nbsp;к&nbsp;сетевыми&nbsp;дисками&nbsp;до&nbsp;полного&nbsp;ввлючения&nbsp;сетевых&nbsp;соединений&nbsp;сделайте&nbsp;следующее</span><span class="hl_char">:</span></li><li class="hl_l1">Win<span class="hl_char">+</span>R&nbsp;<span class="hl_char">-</span><span class="hl_char">&gt;</span>Выполнить&nbsp;<span class="hl_char">-</span><span class="hl_char">&gt;</span>&nbsp;gpedit<span class="hl_char">.</span>msc&nbsp;<span class="hl_char">-</span><span class="hl_char">&gt;</span>&nbsp;Конфигурация&nbsp;компьютера&nbsp;<span class="hl_char">-</span><span class="hl_char">&gt;</span>&nbsp;Административные&nbsp;шаблоны&nbsp;<span class="hl_char">-</span><span class="hl_char">&gt;</span>&nbsp;Система&nbsp;<span class="hl_char">-</span><span class="hl_char">&gt;</span>&nbsp;Вход&nbsp;в&nbsp;систему</li><li class="hl_l0">Найдите&nbsp;пункт&nbsp;<span class="hl_quote">&quot;Всегда ожидать инициализации сети при загрузке и входе в систему&quot;</span>&nbsp;<span class="hl_char">-</span>&nbsp;включите&nbsp;его<span class="hl_char">.</span>&nbsp;Перезагрузитесь<span class="hl_char">.</span></li><li class="hl_l1">Все<span class="hl_char">,</span>&nbsp;теперь&nbsp;все&nbsp;процессы&nbsp;будут&nbsp;выполняться&nbsp;только&nbsp;после&nbsp;инициализации&nbsp;сети<span class="hl_char">.</span></li>        </ol>
    </div>
</div></div>
<br>?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392075&amp;user=26651&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=4" class="addthx" data-post="392075"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]LShadow77[/b]','')">LShadow77</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 1.36'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=48568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 00:13 <br><script type="text/javascript">QU('LShadow77','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=LShadow77" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>ELF_7719116</b><br>Как я уже писал, те &quot;легальные&quot; решения в сети, что мне удалось найти, либо не работают на моём ПК, либо работают не так, как мне надо. Этот метод - не работает. Всё равно кидает уведомление. А даже если бы работал, то при условии постоянно включенного второго компа, с которого у меня и расшарены диски. При выключенном компе сообщения также продолжали бы выскакивать. А моя цель - избавиться от них полностью, независимо от доступности сети или компа с шарой.<br><br><b>Добавлено спустя 8 минут</b><br>Изменил один ничего не значащий байт, в области выравнивания между процедурами - винда кричит &quot;У вас проблема!&quot; и вырубает ПК. Таки аутентификация! Или CRC. В первом случае - печаль. Во втором можно попробовать пересчитать контрольную сумму. Каким софтом это можно сделать?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392076&amp;user=48568&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=5" class="addthx" data-post="392076"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]user99[/b]','')">user99</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 43.1 (посетитель), 20thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 2.06'>Активность: 0.16<span style='color:green'>&nearr;</span>0.29</span><br>Статус: <a href="action=userinfo&amp;user=44014">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 00:49 &middot; Поправил: user99 <br><script type="text/javascript">QU('user99','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=user99" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>LShadow77 пишет:<br>Каким софтом это можно сделать?  </I><br>Я сомневаюсь, что ты сможешь подменить цифровую подпись, иначе от нее толку было бы совсем ноль.<br><br>Соглашусь с <b>f13nd</b>, лучше делать изменения на лету. Если целевой процесс является критическим (или как-то так называется), то ты к нему доступ без драйвера не получишь, но где-то встречал драйвера с уязвимостью, используя которые можно получать полный доступ к любому системному процессу. Так что твои действия просты:<br>1) найти этот драйвер (или любой другой способ) и зарегать его его в системе<br>2) написать свой инжектор в виде сервиса (или поместить в автозагрузку)<br>3) при запуске инжектора (вместе с системой) модифицировать целевой процесс
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392077&amp;user=44014&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=6" class="addthx" data-post="392077"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]f13nd[/b]','')">f13nd</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/8075.png" alt=""><br><span class=txtSm>Ранг: 271.2 (наставник), 331thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.63'>Активность: 0.32<span style='color:green'>&nearr;</span>1.49</span><br>Статус: <a href="action=userinfo&amp;user=8075">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 01:13 <br><script type="text/javascript">QU('f13nd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=f13nd" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
В качестве колхоз-стайл-решения могу предложить cdb использовать тупо чтоб приаттачиться к винлогону, пропатчить что надо и выйти на qd) Вроде как опцией -cf можно указать ему скрипт. Если получится его запускать до появления этого окна конечно.
<br><br><font size="1"><i>-----<br>2 оттенка серого</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392078&amp;user=8075&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=7" class="addthx" data-post="392078"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]GroundHog[/b]','')">GroundHog</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.2 (новичок), 16thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.78'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=26517">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 03:51 <br><script type="text/javascript">QU('GroundHog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=GroundHog" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Можно попробовать сделать через инжект dll через KnownDLLs или автоинжектируемую dll, проанализировав импорт winlogon. Но надо обязательно выполнить проверку, что подгрузились в целевой процесс.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392080&amp;user=26517&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=8" class="addthx" data-post="392080"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Alchemistry[/b]','')">Alchemistry</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 145.8 (ветеран), 191thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.05'>Активность: 0.14<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=21411">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 06:27 <br><script type="text/javascript">QU('Alchemistry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Alchemistry" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>LShadow77</b><br>Рискну предположить что так оно и есть и у тебя в ошибке бсод STATUS_SYSTEM_PROCESS_TERMINATED (вероятно от smss) и STATUS_INVALID_IMAGE_HASH в параметрах. Твоя идея была изначально дурацкой и это мягко говоря.<br><br><b>GroundHog</b><br>Изменение KnownDlls в вин10 требует PPL-win-tcb.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392083&amp;user=21411&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=9" class="addthx" data-post="392083"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 390thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 07:57 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>Alchemistry пишет:<br>Твоя идея была изначально дурацкой и это мягко говоря.<br> </I><br>Идея как идея. <br><br>Как минимум - надо было удалить сертификат, который в оверлее, <br>и обнулить чексумму в PE-заголовке.<br>-  это надо было сделать в самом начале.<br>И есть же специально для такого Hiew, зачем мучить WinHex?<br><br>А вот уже дальше могут быть варианты<br><br><I>Alchemistry пишет:<br>KnownDlls в вин10 </I><br>...<br><b><br></b>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392085&amp;user=35473&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=10" class="addthx" data-post="392085"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]ajax[/b]','')">ajax</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/8830.gif" alt=""><br><span class=txtSm>Ранг: 337.6 (мудрец), 224thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.53'>Активность: 0.21<span style='color:red'>&searr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=8830">Участник</a><br><font color=blue>born to be evil</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 10:58 <br><script type="text/javascript">QU('ajax','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ajax" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>dosprog</b><br>отсутствие серта равносильно неверному серту при проверках. чексумма пофик, если это не драйвер, имхо
<br><br><font size="1"><i>-----<br>От многой мудрости много скорби, и умножающий знание умножает печаль</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392086&amp;user=8830&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=11" class="addthx" data-post="392086"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Alchemistry[/b]','')">Alchemistry</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 145.8 (ветеран), 191thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.05'>Активность: 0.14<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=21411">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 11:44 <br><script type="text/javascript">QU('Alchemistry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Alchemistry" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>dosprog пишет:<br><br>Идея как идея.  </I><br>Это от любителей виндоус хп любителям виндоус хп? Дальше по плану мы будем ломать CI, а потом ломать патчгард - т.е. ради каких-то балунов которые всплывают и чем-то раздражают в течении пары секунд мы будем дрючить всю безопасность венды, идея 10 из 10.<br><br>Решение проблемы тс это либо какой-то скрипт который смонтирует ему эти дурацкие сетевые диски при логоне, что это за диски он так и не объяснил также как и почему они не монтируются.<br><br>Либо (для особо упоротых) хак винлогана в памяти через какой-нибудь инжект. ЕМНИП у винлогона есть специальные длл нотификации на события которые можно запилить самому. Как это работает и поможет это - хз, я не любитель подобных извращений. <br><br>Завтра мс выпускает очередной апдейт и вешает на винлогон mitigation политику - запрет неподписанных модулей, запрет выполнения динамического кода и мы приезжаем к точке отправления.<br><br>Простое гугление выдает это<br>http://winitpro.ru/index.php/2018/11/27/ne-podklyuchayutsya-setevye-diski-v-windows/<br><br>Ставим на весы - ломка венды vs использование венды.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392087&amp;user=21411&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=12" class="addthx" data-post="392087"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=8830" title="01-03-2019 09:15, ранг:321.9" target="_blank">ajax</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]user99[/b]','')">user99</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 43.1 (посетитель), 20thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 2.06'>Активность: 0.16<span style='color:green'>&nearr;</span>0.29</span><br>Статус: <a href="action=userinfo&amp;user=44014">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 12:00 <br><script type="text/javascript">QU('user99','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=user99" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>Alchemistry пишет:<br>что это за диски он так и не объяснил также как и почему они не монтируются </I><br>Кстати, у меня такая же хрень с этими сообщениями: в сети два компа, на первом компе смонтированы сетевые диски, ведущие на второй комп, перегружаем первый комп, при входе в систему видим несчастное сообщение, но когда секунд через 5 обращаемся к сетевым дискам они все на месте. Но мне лично впадлу не то чтобы винду корявить, а даже админить ее, т.к. значительно проще забить на сообщение (особенно если учесть, что компы перезагружаются раз в месяц)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392089&amp;user=44014&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=13" class="addthx" data-post="392089"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]mdscorp[/b]','')">mdscorp</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.6 (посетитель), 15thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.37'>Активность: 0.03<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=24498">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 13:17 <br><script type="text/javascript">QU('mdscorp','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mdscorp" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Может все таки попробовать включить нетбиос выключеный с год назад очередным обновлением МС а не патчить винлогон ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392092&amp;user=24498&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=14" class="addthx" data-post="392092"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Gideon Vi[/b]','')">Gideon Vi</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/2585.jpg" alt=""><br><span class=txtSm>Ранг: 1131.7 <b><u>(!!!!)</u></b>, 447thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.83'>Активность: 0.67<span style='color:red'>&searr;</span>0.2</span><br>Статус: <a href="action=userinfo&amp;user=2585">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 13:29 <br><script type="text/javascript">QU('Gideon Vi','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Gideon Vi" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
можно написать утиль, автоматически закрывающую требуемо окно. Тут вообще навыков не надо, они гугля.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392093&amp;user=2585&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=15" class="addthx" data-post="392093"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]BiteMoon[/b]','')">BiteMoon</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 15.7 (новичок), 12thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.04'>Активность: 0.05<span style='color:green'>&nearr;</span>0.07</span><br>Статус: <a href="action=userinfo&amp;user=37654">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 14:16 <br><script type="text/javascript">QU('BiteMoon','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=BiteMoon" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>LShadow77 пишет:<br>как грамотно отредактировать системный исполняемый файл для своих целей и при этом не &quot;уронить&quot; систему, если это вообще возможно в Windows 10. </I><br>Если есть такой вариант,то,прежде всего,чтобы наверняка не испортить систему,советую ставить её на виртуальную машину и там уже вытворять всё,что заблагорассудится...кстати,можно попробовать сделать экспорт-импорт значений реестра Вашей системы в систему под ВМ и глянуть будет ли эта ошибка на ней проявляться...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392095&amp;user=37654&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=16" class="addthx" data-post="392095"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Alchemistry[/b]','')">Alchemistry</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 145.8 (ветеран), 191thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.05'>Активность: 0.14<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=21411">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 17:10 <br><script type="text/javascript">QU('Alchemistry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Alchemistry" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<b>user99</b><br>Если стоит вин10 1809 то там была/есть такая известная проблема, KB4471218. Я не в курсе пофиксили они это или нет, но в любом случае через месяц-два приедет обновление 1903 и с пачкой новых багов там может быть пофиксят это. Вообще если используете вин 10, ставьте исключительно LTSB/LTSC версии, и не гонитесь за распоследними вариантами. Вин10 тестят наживую на обычных юзерах и только для ентерпрайса у мс другое отношение к обновлениям.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392098&amp;user=21411&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=17" class="addthx" data-post="392098"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]LShadow77[/b]','')">LShadow77</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 1.36'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=48568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 20:36 &middot; Поправил: LShadow77 <br><script type="text/javascript">QU('LShadow77','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=LShadow77" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<I>Alchemistry пишет:<br>Твоя идея была изначально дурацкой и это мягко говоря. </I><br>Ну почему же дурацкая? По крайней мере я попытался))) Спасибо за пояснение кодов.<br><I>Alchemistry пишет:<br>ради каких-то балунов которые всплывают и чем-то раздражают в течении пары секунд мы будем дрючить всю безопасность венды </I><br>Не надо утрировать. Разумеется я не собираюсь ломать безопасность винды на своём ПК. С другой стороны, любые эксперименты со своей системой я делаю на свой страх и риск, который прекрасно осознаю.<br><I>ClockMan пишет:<br>и хорошо что таким как вы обломили изменение файлов винды </I><br>Ну уж у вам подобных я не спрашивал. Моя винда, мой ПК - что хочу, то и делаю.<br><I>Alchemistry пишет:<br>и не гонитесь за распоследними вариантами. </I><br>Винда как раз самая распоследняя, и все последние обновы стоят. А что касается версии, то вся система оказалась с... отладочной информацией! IDA спокойно подгружает pdb-файлы, и я в результате вижу всю символику из исходников, которая по идее в релизной сборке должна отсутствовать. Если честно, то я был удивлён. Что говорить, такой код читать - одно удовольствие!))) И да, соглашусь с вами, что уязвимости и прочие баги разрабы имеют обыкновение с течением времени фиксить (и это хорошо). По-этому даже не рассматриваю вариант использования какой-либо уязвимости.<br><br><b>Добавлено спустя 37 минут</b><br>В общем так, ребята. Я полностью изучил весь механизм появления подобных уведомлений при старте системы. И механизм этот таков...<br>Winlogon некоторые сообщения выводит не напрямую, а только создаёт в реестре раздел HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\PostBootReminders, а в нём - ключи, по одному на каждое сообщение. Например, имя ключа для обсуждаемого тут уведомления - Microsoft.NetDriveReconnectFailed. На самом деле, как называть эти ключи совершенно не важно, вся информация о том, что и как показывать - в их параметрах.<br>Далее, оболочка винды при старте в цикле перебирает все ключи в разделе PostBootReminders и показывает соответствующие уведомления, после чего этот раздел удаляет. Код, который это делает, находится в Shell32.dll.<br>Таким образом, если бы удалось сделать так, чтобы между выполнением winlogon и запуском оболочки встроить запуск приложения, которое бы удаляло ключ  HKCU\...PostBootReminders\Microsoft.NetDriveReconnectFailed, то поставленная изначально мною задача была бы относительно изящно решена. Другой вариант решения - сделать так, чтобы winlogon не смог создать этот ключ (как-то поиграться с правами доступа).<br><br>P.S. Если вы у себя на компе запустите прилагаемый reg-файл, то после перезагрузки сможете наблюдать работу постзагрузочных уведомлений &quot;в живую&quot;)))<br>P.S.<br><br><img src="img/attach.gif" alt=""> <a href="./files/5711_01.03.2019_EXELAB.rU.tgz">5711_01.03.2019_EXELAB.rU.tgz</a> - PrevedMedvedOnBoot.reg
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392108&amp;user=48568&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=18" class="addthx" data-post="392108"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]rmn[/b]','')">rmn</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 158.4 (ветеран), 123thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.28'>Активность: 0.14<span style='color:green'>&nearr;</span>0.49</span><br>Статус: <a href="action=userinfo&amp;user=1533">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 марта 2019 21:50 &middot; Поправил: rmn <br><script type="text/javascript">QU('rmn','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rmn" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<b>LShadow77</b><br>Ну так и добавь свой <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">REGEDIT4</li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_char">[</span><span class="hl_char">-</span>HKEY_CURRENT_USER<span class="hl_char">\</span>Software<span class="hl_char">\</span>Microsoft<span class="hl_char">\</span>Windows<span class="hl_char">\</span>CurrentVersion<span class="hl_char">\</span>Explorer<span class="hl_char">\</span>Microsoft<span class="hl_char">.</span>NetDriveReconnectFailed<span class="hl_char">]</span></li>        </ol>
    </div>
</div></div>
<br>в планировщик для выполнения при входе в систему.<br><br>Только скорее всего надо не HKCU, а HKEY_USERS\ТВОЙ-SID
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392109&amp;user=1533&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=19" class="addthx" data-post="392109"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=48568" title="01-03-2019 21:17, ранг:1.2" target="_blank">LShadow77</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]LShadow77[/b]','')">LShadow77</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 1.36'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=48568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 марта 2019 00:39 &middot; Поправил: LShadow77 <br><script type="text/javascript">QU('LShadow77','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=LShadow77" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<b>rmn</b><br>Большое спасибо, это сработало! И даже с нормальным HKCU. Создал задание на запуск при входе в систему и действием &quot;regedit /s C:\NetDriveReconnectFailedSuppress.reg&quot;, и всё - ТИШИНА! Надоедливый месседж больше не всплывает. Как просто всё в итоге оказалось))) Но как изрядно пришлось заморочится, чтобы дойти до этого решения. <br>Виндовские экзешники патчить не пришлось, ну и слава Богу! Отложу этот вопрос до поры))<br><br>Господа, всем вам большой респект, вы мне очень помогли! <br><br><img src="img/attach.gif" alt=""> <a href="./files/18ac_02.03.2019_EXELAB.rU.tgz">18ac_02.03.2019_EXELAB.rU.tgz</a> - NetDriveReconnectFailedSuppress.reg
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392111&amp;user=48568&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=20" class="addthx" data-post="392111"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]LShadow77[/b]','')">LShadow77</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 1.36'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=48568">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2019 13:23 <br><script type="text/javascript">QU('LShadow77','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=LShadow77" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25627.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
Изначально поставленная задача решена, тему закрываю.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392146&amp;user=48568&amp;forum_n=5&amp;topic=25627.html&amp;page=0&amp;anchor=21" class="addthx" data-post="392146"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Модификация файла winlogon.exe, нужна помощь спецов!</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=25627" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
