<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Тут пример поиска функции в, запрашивающей ввод ключа. Непонятна одна маленькя деталь. - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="daxa.com.ua/article/num1/ Можно даже туда не заглядывать, я сейчас попытаюсь объяснить на пальцах, в чём дело. Некоторая учебная программа запрашивает ввод ключа и нужно эту программу сломать. И вот там написано так: трассируем">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Тут пример поиска функции в, запрашивающей ввод ключа. Непонятна одна маленькя деталь.</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]zayats[/b]','')">zayats</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.06'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17114">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июля 2008 22:34 &middot; Поправил: zayats <br><script type="text/javascript">QU('zayats','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zayats" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
daxa.com.ua/article/num1/<br>Можно даже туда не заглядывать, я сейчас попытаюсь объяснить на пальцах, в чём дело.<br><br>Некоторая учебная программа запрашивает ввод ключа и нужно эту программу сломать. И вот там написано так: трассируем программу в Olly Debag с помощью кнопки F8, пока не появится окошко с запросом ключа. Ага, на это место ставим бряк. Рестартовали (Сtrl+ F2), клавишу F9 нажали, добрались до бряка. Дальше F7- трассировка с заходом в подпрограмму. Зашли, снова жмём на F8, пока снова окошко не появится, снова бряк на это место и так далее.<br><br>Это всё понятно.<br><br>Но вот добрались до цикла. Вот я его условно изображу<br><br>строка_1<br>строка_2<br>строка_3<br>строка_4<br><br>То есть жмём на F8 и перебираем тем самым много раз эти 4 строчки. Значит, что предлагают авторы примера: ставим бряк на &lt;строка5&gt; (не изображена, поскольку в цикл не входит) и жмём на F9. Окошко появляется, но в голове не укладывается- откуда оно взялось? Ведь:<br><br>1)    Функция, вызывающее окошко с запросом ввода ключа не может быть до цикла- это понятно<br>2)    Функция, вызывающее окошко с запросом ввода ключа не может быть после цикла- потомму, хотя бы, что мы в эту сторону никак не выйдем- у нас ведь бряк стоит на &lt;строка5&gt;<br>3)    Но и ни в одной из четырёх вышеназванных строчек, эта функция присутствовать не может, ибо до этого мы только что несколько раз пробегались по ним кнопкой F8 и окошка не появлялось! <br><br>Если условиться: сперва к окошку нас вела &lt;строка_x&gt;, допустим (call &lt;чего-то там&gt;). Потом &lt;строка_y&gt; (тоже call &lt;чего-то там&gt;), а теперь &lt;строка_z&gt;, так где ей находиться-то относительно цикла? (сейчас неважно call там или что другое, мтожет, там какой-нибудь другой переход) <br><br>Вот. Пока понять не могу и дальше продвинуться соответственно тоже не могу. Спасибо, если кто объяснит.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194419&amp;user=17114&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=1" class="addthx" data-post="194419"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]coderess[/b]','')">coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июля 2008 22:47 <br><script type="text/javascript">QU('coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
лучшебы саму программку приложил
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=194423&amp;user=16383&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=2" class="addthx" data-post="194423"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]zayats[/b]','')">zayats</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.06'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17114">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июля 2008 22:52 &middot; Поправил: zayats <br><script type="text/javascript">QU('zayats','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zayats" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
А там по ссылке всё есть.<br>И программка там есть есть- она небольшая. Её цель- быть пособием по взлому, больше она ни для чего. Так-то вроде всё понятно- там условный переход безусловным заменяется- это мне знакомо, на С кодил. Но хотелось бы выяснить вот этот вопрос, пока он свеж и пример лёгок. А то потом на более сложных примерах это непонимание как даст-даст о себе знать и придётся ворошить якобы пройденное.<br><br>Не зря же говорят, скупой платит дважды. А ленивый дважды делает.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194424&amp;user=17114&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=3" class="addthx" data-post="194424"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]coderess[/b]','')">coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июля 2008 23:13 <br><script type="text/javascript">QU('coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Получается этот цикл<br><code><br>0044F150  |&gt; /A1 DC6B4500   /MOV     EAX, DWORD PTR DS:[456BDC]<br>0044F155  |. |E8 4A310000   |CALL    TestP.004522A4<br>0044F15A  |. |A1 DC6B4500   |MOV     EAX, DWORD PTR DS:[456BDC]<br>0044F15F  |. |80B8 9C000000&gt;|CMP     BYTE PTR DS:[EAX+9C], 0<br>0044F166  |. |74 0F         |JE      SHORT TestP.0044F177<br>0044F168  |. |8B45 FC       |MOV     EAX, DWORD PTR SS:[EBP-4]<br>0044F16B  |. |C780 4C020000&gt;|MOV     DWORD PTR DS:[EAX+24C], 2<br>0044F175  |. |EB 14         |JMP     SHORT TestP.0044F18B<br>0044F177  |&gt; |8B45 FC       |MOV     EAX, DWORD PTR SS:[EBP-4]<br>0044F17A  |. |83B8 4C020000&gt;|CMP     DWORD PTR DS:[EAX+24C], 0<br>0044F181  |. |74 08         |JE      SHORT TestP.0044F18B<br>0044F183  |. |8B45 FC       |MOV     EAX, DWORD PTR SS:[EBP-4]<br>0044F186  |. |E8 1DFDFFFF   |CALL    TestP.0044EEA8<br>0044F18B  |&gt; |8B45 FC       |MOV     EAX, DWORD PTR SS:[EBP-4]<br>0044F18E  |. |8B80 4C020000 |MOV     EAX, DWORD PTR DS:[EAX+24C]<br>0044F194  |. |85C0          |TEST    EAX, EAX<br>0044F196  |.^\74 B8         \JE      SHORT TestP.0044F150</code><br><br>Вот как раз в нем и прорисовывается окно, ты зайди по F7 в процедуру <br>CALL    TestP.004522A4<br><br>если поискать еще найдешь и <br><code><br>00452288  |.  57            PUSH    EDI                              ; /pMsg<br>00452289  |.  E8 A244FBFF   CALL    &lt;JMP.&amp;user32.TranslateMessage&gt;   ; \TranslateMessage<br>0045228E  |.  57            PUSH    EDI                              ; /pMsg<br>0045228F  |.  E8 7440FBFF   CALL    &lt;JMP.&amp;user32.DispatchMessageA&gt;   ; \DispatchMessageA<br><br></code>
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=194427&amp;user=16383&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=4" class="addthx" data-post="194427"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]tihiy_grom[/b]','')">tihiy_grom</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 441.3 (мудрец), 297thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.33'>Активность: 0.41<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=10534">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июля 2008 23:33 <br><script type="text/javascript">QU('tihiy_grom','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tihiy_grom" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>zayats</b>,<b>coderess</b> - а не устанете ли вы разбирать процедуру окна WndProc? <img src="img/smilies/s1.gif" alt=""><br><br><b>zayats</b>, статью было лень читать, и по-моему в конце там просто делается патч, чтобы прога регистрировалась на любые номера. <br>Гораздо проще взять например DeDe (который отлично разбирает по косточкам программы на Delphi), засунуть в него твою прогу и посмотреть как и что там происходит. И после того как ты это сделаешь, ты увидишь, что вот тут<br><b>00453B10  |&gt; 8B45 FC        MOV EAX,DWORD PTR SS:[EBP-4]<br>00453B13  |. BA A43B4500    MOV EDX,TestP.00453BA4                   ;  ASCII &quot;hello&quot;<br>00453B18  |. E8 3B07FBFF    CALL TestP.00404258<br>00453B1D  |. 74 2B          JE SHORT TestP.00453B4A</b><br>в EAX пихается введенный тобой номер, в EDX пихается строка &quot;hello&quot;, в процедуре они сравниваются и, если они не равны, прыжок JE SHORT TestP.00453B4A не выполняется - и выскакивает MessageBox с сообщением о неправильной регистрации.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194431&amp;user=10534&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=5" class="addthx" data-post="194431"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]zayats[/b]','')">zayats</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.06'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17114">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июля 2008 00:03 &middot; Поправил: zayats <br><script type="text/javascript">QU('zayats','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zayats" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
coderess!<br><br>Цикл этот, я безусловно, видел. Я вот сейчас пробегаюсь по нему клавишей F8- окошко вырисовывается. Постепенно, какими-то частями. Слушай, я правильно тебя понял, что за вырисовывание окошка &quot;ответственен&quot; весь цикл? (Вот я вижу, ты мне намекнул на TestP.004522A4, обращение к этой функции присутствует в цикле. Тоже за что-то функция отвечает, за какую-то часть окошка, наверное) У меня так было, но такое частично прорисовывание я принимал за брак...<br><br>Если так, остаётся выяснить одну деталь и всё на этом.<br>Смотри. Мы заходим в цикл и жмём на клавишу F8 и не можем из цикла выйти. Почему? Если это нормальное поведение программы, то тогда почему при обычном выполнении программы (без трассировки) мы выходим из цикла? Что поменялось?<br><br> И в том и в другом случае мы доходим до этой строки (в цикле она последняя)<br><br>0044F196 |.^\74 B8 \JE SHORT TestP.0044F150<br><br>Но после неё мы при тассировке попадаем на первую строку цикла, а когда трассировки нет, то на строку, следующую за циклом (действительно, и бряк, который мы ставим сразу за циклом, это демонстрирует- программа дальше не идёт. Значит, она упёрлась в бряк. А это, в свою очередь, значит, что она вышла за пределы цикла). Крайне непонятно.<br><br>P. S. Хотя может быть и такой ответ: в программе не поменялось ничего, но невыход из цикла это в чистом виде свойство нажатия клавиши F8. То есть разработчиками Olly Debug просто так сделано, чтобы при трассировке из цикла не выходили. Что ж, такой ответ меня удовлетворит. Но хотелось бы его услышать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194438&amp;user=17114&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=6" class="addthx" data-post="194438"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]tempread[/b]','')">tempread</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 159.1 (ветеран), 7thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.75'>Активность: 0.13<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=7008">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июля 2008 00:21 &middot; Поправил: tempread <br><script type="text/javascript">QU('tempread','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tempread" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>zayats</b><br>У тебя нет понимания принципов работы виндовых приложений.<br>Образно говоря, у каждой программы есть свой цикл сообщений. Винда направляет в этот цикл сообщения,а программа их берет с помощью виндовой функции и  обрабатывает по своему усмотрению(или запускает обработку &quot;по умолчанию&quot;). Детальнее можно почитат --&gt; тут&lt;-- http://www.rsdn.ru/article/baseserv/api32.xml <br><br>Т.е. во время трасировки цикла сообщений, само отлаживаемое приложение неактивно(как окно),к нему не поступают сообщения о нажатии клавиш и/или о кликах мышкой, поэтому и гоняется холостой,ничего не делающий(кроме стандартных действий,например, перерисовка GUI) цикл.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194441&amp;user=7008&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=7" class="addthx" data-post="194441"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]tihiy_grom[/b]','')">tihiy_grom</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 441.3 (мудрец), 297thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.33'>Активность: 0.41<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=10534">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июля 2008 00:25 &middot; Поправил: tihiy_grom <br><script type="text/javascript">QU('tihiy_grom','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tihiy_grom" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>zayats пишет:<br>Если так, остаётся выяснить одну деталь и всё на этом. <br>Смотри. Мы заходим в цикл и жмём на клавишу F8 и не можем из цикла выйти. Почему? Если это нормальное поведение программы, то тогда почему при обычном выполнении программы (без трассировки) мы выходим из цикла? Что поменялось? </I><br><br>Ну раз и всё на этом - тогда смотри и слушай. <img src="img/smilies/s1.gif" alt=""> Открой прогу в IDA (там очень хорошо всё будет видно). Твой цикл находится в функции класса TForm - @Forms@TCustomForm@ShowModal&#036;qqrv. Сам цикл - это обработка формой сообщений, посылаемых хэндлу окна. Когда ты его трассируешь - окно до сих пор принимает сообщения (и представь какое количество сообщений оно принимает, пока ты всего лишь один раз нажал кнопку F8 <img src="img/smilies/s1.gif" alt=""> ) Цикл заканчивается только тогда, когда окно готовится закрыться. Так что - это не особенность Olly, а скорее - особенность обработки сообщений окнами.<br><br><b>Добавлено</b><br>Tempread меня опередил, я сказал тебе тоже самое, только чуть подробнее.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194442&amp;user=10534&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=8" class="addthx" data-post="194442"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]zayats[/b]','')">zayats</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.06'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17114">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июля 2008 00:57 <br><script type="text/javascript">QU('zayats','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zayats" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Мда... <br>Просто авторы той статьи как-то даже и внимания не обратили на зацикливание- ну не вышли из цикла- не вышли. Я и подумал, что объяснение просто, потому и спросил. А оно вон как сложно на поверку оказалось. Спасибо, что...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194446&amp;user=17114&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=9" class="addthx" data-post="194446"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]tihiy_grom[/b]','')">tihiy_grom</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 441.3 (мудрец), 297thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.33'>Активность: 0.41<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=10534">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июля 2008 01:17 <br><script type="text/javascript">QU('tihiy_grom','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tihiy_grom" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>zayats</b><br>Статья эта - фуфло. Если большая вложенность у процедур - ты замучаешься ставить бряки на появление окошка. Гораздо проще пользоваться бряками на API. Начни свои попытки реверса с изучения <a href="http://www.exelab.ru/kid.php" target="_blank">статей для новичков</a> и с цикла статей <a href="http://www.wasm.ru/series.php?sid=17" target="_blank">Введение к крэкинг с нуля, используя OllyDbg</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=194448&amp;user=10534&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=10" class="addthx" data-post="194448"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]coderess[/b]','')">coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 июля 2008 01:20 <br><script type="text/javascript">QU('coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=12238.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>zayats</b> посмотри туториалы Рикардо Наварахи - он грамотно умеется объяснять, не то что в <br>daxa.com.ua/article/num1/ пишет (это сюда в общем вот так и как то так). Почуствуй разницу.<I>tihiy_grom пишет:<br>zayats,coderess - а не устанете ли вы разбирать процедуру окна WndProc? </I><br><br>Ну так ник мой (Code Research/er) : )
<br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=194449&amp;user=16383&amp;forum_n=5&amp;topic=12238.html&amp;page=0&amp;anchor=11" class="addthx" data-post="194449"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Тут пример поиска функции в, запрашивающей ввод ключа. Непонятна одна маленькя деталь.</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#12" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="12238">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=12238" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
