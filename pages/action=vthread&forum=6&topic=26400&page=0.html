<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Права на OpenProcess и DuplicateHandle в elevated - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Есть прога, манифестом запущенная от админа, моя, можно править. Для полноты картины - ее запускает другая прога через CreateProcess, если имеет значение - параметрами запуска тоже можно играть. Есть другая прога, уже не моя,">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40382'>jinoweb</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Права на OpenProcess и DuplicateHandle в elevated</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]ZLOFENIX[/b]','')">ZLOFENIX</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.3 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:green'>&nearr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=2694">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 19:49 <br><script type="text/javascript">QU('ZLOFENIX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZLOFENIX" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Есть прога, манифестом запущенная от админа, моя, можно править. Для полноты картины - ее запускает другая прога через CreateProcess, если имеет значение - параметрами запуска тоже можно играть.<br>Есть другая прога, уже не моя, запущена от юзера, в которой сидит моя длл.<br>Надо перекинуть хэндл из 2й проги в первую, все нужное перекидываю через пайпы, но если 2я прога запущена от юзера - OpenProcess с PROCESS_DUP_HANDLE на pid 1й проги говорит нет доступа.<br>Как можно решить сию проблему?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404463&amp;user=2694&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=1" class="addthx" data-post="404463"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 21:00 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Как можно решить проблему элевации прав.. эксплойтом или глупостью юзера <img src="img/smilies/s5.gif" alt="">
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=404465&amp;user=40990&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=2" class="addthx" data-post="404465"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 21:06 <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Значит открывай не из 2-го процесса первый, а наоборот. Копировать можно в любую сторону.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404466&amp;user=1556&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=3" class="addthx" data-post="404466"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=2694" title="25-03-2020 16:39, ранг:14.6" target="_blank">ZLOFENIX</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]ZLOFENIX[/b]','')">ZLOFENIX</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.3 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:green'>&nearr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=2694">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 21:34 <br><script type="text/javascript">QU('ZLOFENIX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZLOFENIX" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>difexacaw пишет:<br>глупостью юзера </I><br>Именно она и является проблемой, от которой все это и ползет.<br><I>Archer пишет:<br>Копировать можно в любую сторону </I><br>А вот этого не знал, попробую, правда это будет еще костыльней.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404467&amp;user=2694&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=4" class="addthx" data-post="404467"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 21:39 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>ZLOFENIX</b><br><br>Скопируй в изолированный процесс с урезанными правыми описатель с полным доступом, создай <strike>защиту</strike> <img src="img/smilies/s5.gif" alt="">
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=404468&amp;user=40990&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=5" class="addthx" data-post="404468"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]ZLOFENIX[/b]','')">ZLOFENIX</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.3 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:green'>&nearr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=2694">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 21:57 &middot; Поправил: ZLOFENIX <br><script type="text/javascript">QU('ZLOFENIX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZLOFENIX" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>Archer пишет:<br>Копировать можно в любую сторону </I><br>Хотя стоп, в смысле можно звать DuplicateHandle в любом из процессов на хендл из первого или предлагаешь копирнуть из 2го в 1й что-то? Мне как раз нужен хендл из 1го во 2м.<br><I>ZLOFENIX пишет:<br>Скопируй в изолированный процесс с урезанными правыми описатель с полным доступом, создай защиту </I><br>Совсем садизм какой-то.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404470&amp;user=2694&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=6" class="addthx" data-post="404470"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 22:17 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>ZLOFENIX</b><br><br>Да, изврат так не делается. Если два обьекта, не важно процесса изолированы по причине безопасности, то интерфейс должен строиться безопасным, а не на извратах в частности с открытием общего доступа к обьектам. Ты создаёшь уязвимость.<br><br>И либа обычно не сидит&quot; в процессе, если это так, то это попытка уйти из под слоя системной защиты. Сидит значит скрытно и на более низком уровне прав.<br><br>Что привело к необходимости обмена описателями ?<br><br>Очевидно что это никакой даже не примитив интерфейс, это попытка обойти защиту. Это никак не сработает легальным путём.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=404473&amp;user=40990&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=7" class="addthx" data-post="404473"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]ZLOFENIX[/b]','')">ZLOFENIX</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.3 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:green'>&nearr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=2694">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 22:39 &middot; Поправил: ZLOFENIX <br><script type="text/javascript">QU('ZLOFENIX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZLOFENIX" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Да не, ты слишком глубоко копаешь, все гораздо проще.<br>Есть лаунчер игр, моя длл в нем хватает создание процессов и передает хэндл на процесс из CreateProcessInternal в мою х64 прогу, которая без извращений вроде HeavensGate сует в него эту же длл, ну почти без извращений - угоном контекста, так и пауканим по надобности. С гейтом я знатно наимелся, работает не у всех. Моя основная прога запускается от админа, еще и с дебаг привилегиями, она уже запускает 2ю, которая инжектор, а вот лаунчер игор запускают юзеры и руки у них.. юзерские, приходится костылить.<br>Имею радость имения с хэндлами, т.к. посчитал что проще перекинуть его с полным доступом, чем ид созданного процесса, ибо фиг знает откроется он или нет на полный доступ, пока он в заморозке сразу после создания.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404474&amp;user=2694&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=8" class="addthx" data-post="404474"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 22:47 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>ZLOFENIX</b><br><br>&gt; без извращений вроде HeavensGate сует в него эту же длл, ну почти без извращений - угоном контекста, так и пауканим по надобности.<br><br>Так это же весь штатный набор извратов <img src="img/smilies/s6.gif" alt="">
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=404475&amp;user=40990&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=9" class="addthx" data-post="404475"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]ZLOFENIX[/b]','')">ZLOFENIX</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.3 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:green'>&nearr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=2694">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 марта 2020 22:53 &middot; Поправил: ZLOFENIX <br><script type="text/javascript">QU('ZLOFENIX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZLOFENIX" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Так это же весь штатный набор извратов </I><br>Ну в дотнет - обычный CreateRemoteThread.<br>Просто лаунчер - х32, а запускаемое - х64 тоже, подходящих вариантов знаю только эти два - врата и х64 костыль, который втыкает длл.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404476&amp;user=2694&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=10" class="addthx" data-post="404476"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Alchemistry[/b]','')">Alchemistry</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 145.8 (ветеран), 191thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.05'>Активность: 0.14<span style='color:green'>&nearr;</span>0.36</span><br>Статус: <a href="action=userinfo&amp;user=21411">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 марта 2020 10:54 &middot; Поправил: Alchemistry <br><script type="text/javascript">QU('Alchemistry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Alchemistry" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
К сожалению, эта тема показывает в очередной раз общий уровень писателей читов и античитов (первые рано или поздно переходят во вторую фазу). Из описания совершенно непонятно зачем твоей инжектнутой длл описатель процесса, запущенного от админа и на другом IL, если цитата &quot;все нужное перекидываю через пайпы&quot;.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404487&amp;user=21411&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=11" class="addthx" data-post="404487"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=40990" title="25-03-2020 16:20, ранг:334.0" target="_blank">difexacaw</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]hiddy[/b]','')">hiddy</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.2 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 0.61'>Активность: 0.04=0.04</span><br>Статус: <a href="action=userinfo&amp;user=52118">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 марта 2020 10:57 <br><script type="text/javascript">QU('hiddy','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=hiddy" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>ZLOFENIX</b>, копировать хэндл должна прога с правами. Можно сразу из CreateProcessInternal перехватчика делать инжект, без извратов. Для этого потребуется отобразить образ инжектора в процесс лаунчер.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404488&amp;user=52118&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=12" class="addthx" data-post="404488"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 марта 2020 19:19 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>Alchemistry</b><br><br><br>Они не могут описать(сформулировать) задачу, так как скилл около нулевой, есчо поверх комерс мотив; считают приватом всякий тривиальный треш связанный с искомой задачей <img src="img/smilies/s1.gif" alt=""><br><br>Тут рядом в теме на днях один такой нарисовался, ответ на любой вопрос в виде ссылки на ghb найденной в гугле.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=404496&amp;user=40990&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=13" class="addthx" data-post="404496"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Boostyq[/b]','')">Boostyq</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/40448.png" alt=""><br><span class=txtSm>Ранг: 90.1 (постоянный), 91thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.32'>Активность: 0.29<span style='color:green'>&nearr;</span>0.56</span><br>Статус: <a href="action=userinfo&amp;user=40448">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 марта 2020 19:37 <br><script type="text/javascript">QU('Boostyq','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Boostyq" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Они не могут описать(сформулировать) задачу, </I><br>Может ты просто тупой?<br>Игра запускается от лаунчера когда юзеру вздумается с обычными привилегиями, а инжектору нужно поймать этот момент чтобы замаппить чит в клиент игры.<br>Для этого лежит дллка в папке с лаунчером, когда лаунчер запускает процесс игры дллка узнает нужный хэндл и ей нужно передать это в инжектор, но он запущен от админа, и у дллки тупо нет прав чтобы инициировать связь с более привилегированным процессом.
<br><br><font size="1"><i>-----<br>В облачке многоточия</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=404499&amp;user=40448&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=14" class="addthx" data-post="404499"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=2694" title="25-03-2020 16:40, ранг:15.6" target="_blank">ZLOFENIX</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]ZLOFENIX[/b]','')">ZLOFENIX</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.3 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.79'>Активность: 0.01<span style='color:green'>&nearr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=2694">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 марта 2020 19:39 &middot; Поправил: ZLOFENIX <br><script type="text/javascript">QU('ZLOFENIX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZLOFENIX" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=26400.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<I>hiddy пишет:<br>без извратов </I><br>Извраты появляются при х86-&gt;х64.<br><br><b>Boostyq</b><br>Практически да, кроме момента читов.<br><br><I>Alchemistry пишет:<br>К сожалению, эта тема показывает в очередной раз общий уровень писателей читов и античитов (первые рано или поздно переходят во вторую фазу). Из описания совершенно непонятно зачем твоей инжектнутой длл описатель процесса, запущенного от админа и на другом IL, если цитата &quot;все нужное перекидываю через пайпы&quot;. </I><br>А я говорил что это читы или античиты? Может тема показывает желание пернуть в лужу у некоторых старперов? Тебе до слов &quot;все нужное&quot; докопаться хочется, без полного мануала по передаваемым данным не прожить? Надо - значит надо.<br><br><I>difexacaw пишет:<br>комерс мотив</I><br>А это ты где нашел? Еще и скилл приплел.<br><br>Болезные, придумали какую-то дичь и обсирают по придуманным причинам.<br><br>Задачу решил перекинув в прогу с правами ид процесса и таки успешно открыв из него.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=404500&amp;user=2694&amp;forum_n=6&amp;topic=26400.html&amp;page=0&amp;anchor=15" class="addthx" data-post="404500"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Права на OpenProcess и DuplicateHandle в elevated</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=26400" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
