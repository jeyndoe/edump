<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Ревёрс шаблонов с++ - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Добрый день. Я вот помаленьку копаю движок сталкера Xray 1.6.0.2 Меня в нём заинтересовала скриптовая машина, а именно добавление туда функций и классов(прикручен туда luabind). Всё было бы хорошо, но luabind видоизменён(операции">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=1533'>rmn</a>, <a target='_blank' href='?action=userinfo&amp;user=7823'>ManHunter</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a>, <a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a>, <a target='_blank' href='?action=userinfo&amp;user=1288'>UniSoft</a> (+10 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Ревёрс шаблонов с++</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 12:44 <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Добрый день. Я вот помаленьку копаю движок сталкера Xray 1.6.0.2<br>Меня в нём заинтересовала скриптовая машина, а именно добавление туда функций и классов(прикручен туда luabind). Всё было бы хорошо, но luabind видоизменён(операции с памятью все делаются через специальный класс(видимо разработчики столкнулись с утечкой памяти и решили проблему перегрузкой всех new и delete))<br>Так вот. Меня интересует ревёрс шаблонов в С++. Там заменён стандартный std::auto_ptr на ихний. Впринципе ничего нового в реализации самой машины я не заметил. Только операции с памятью там изменены(выделение/освобождение).<br>Имел ли кто - нить опыт в ревёрсе шаблонов и знает ли кто-нить как глобально перегрузить оператор new(знаю можно чисто в классе перегрузить, но возможно ли совсем глобально это сделать?)<br>Сразу прошу меня извинить за возможные грамматические ошибки и написание &quot;не по-русски&quot;.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304219&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=1" class="addthx" data-post="304219"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 13:14 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<b>Dart Sergius пишет:</b><br><i class=x>знает ли кто-нить как глобально перегрузить оператор new</i><br><br>Шаблон + множественное наследование?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=304224&amp;user=6336&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=2" class="addthx" data-post="304224"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 13:56 <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<I>ARCHANGEL пишет:<br> множественное наследование </I><br>а структуру класса оно не сильно изменит? И не влияют ли &quot;предки&quot; на декодированное название функции потомка?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304232&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=3" class="addthx" data-post="304232"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 14:11 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>Dart Sergius пишет:</b><br><i class=x>а структуру класса оно не сильно изменит?</i><br>Может сильно. Подабавляется в потомках то, чего не было в предках.<br><br><i class=x>И не влияют ли &quot;предки&quot; на декодированное название функции потомка?</i><br>Хз.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=304234&amp;user=6336&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=4" class="addthx" data-post="304234"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=22828" title="24-04-2012 11:07, ранг:72.8" target="_blank">Dart Sergius</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Hexxx[/b]','')">Hexxx</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 481.4 (мудрец), 109thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.37'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=10168">Участник</a><br><font color=blue>Тот самый :)</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 14:41 &middot; Поправил: Hexxx <br><script type="text/javascript">QU('Hexxx','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Hexxx" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<I>Dart Sergius пишет:<br>знает ли кто-нить как глобально перегрузить оператор new </I><br>Мы для драйверов делали так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">void</span><span class="hl_char">*</span>&nbsp;__cdecl&nbsp;operator&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;<span class="hl_char">(</span>size_t&nbsp;size<span class="hl_char">)</span></li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>size&nbsp;<span class="hl_char">=</span><span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">4</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ExAllocatePoolWithTag<span class="hl_char">(</span>NonPagedPool<span class="hl_char">,</span>&nbsp;<span class="hl_char">(</span>ULONG<span class="hl_char">)</span>size<span class="hl_char">,</span>&nbsp;<span class="hl_quote">'++CL'</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">}</li>        </ol>
    </div>
</div></div>
<br>и operator new[] аналогично<br><br>Не вьехал как это связано с реверсингом шаблонов. С шаблонами проблема в том что у тебя в коде 100500 классов, некоторые из которых похожи друг на друга как 2 капли воды и отличаются лишь каким-нить одним параметром. Т.е. инстансы для кучи типов, а код - копипаста.
<br><br><font size="1"><i>-----<br>Реверсивная инженерия - написание кода идентичного натуральному</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=304239&amp;user=10168&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=5" class="addthx" data-post="304239"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=22828" title="24-04-2012 11:06, ранг:72.8" target="_blank">Dart Sergius</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.6 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 14:46 &middot; Поправил: r_e <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<b>Dart Sergius</b><br>Если не ошибаюсь, new и delete можно переопределить глобально. Нужно просто объявить функции с определенным прототипом. Погугли.<br>Собсно, что касается шаблонов, то нужно понимать что все они инстанцируются с заданными типами. В итоге мы получаем кучу кода с одинаковой логикой и различными типами данных. По идее, для auto_ptr это некритично, потому как будет ли поле указателем на int или на CObject не играет никакой роли. Структура от этого не поменяется ни на байт.<br><br><b>Hexxx</b><br>Обошел на повороте <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=304241&amp;user=11966&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=6" class="addthx" data-post="304241"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=22828" title="24-04-2012 11:06, ранг:72.8" target="_blank">Dart Sergius</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 15:16 &middot; Поправил: Dart Sergius <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Спасибо буду пробовать.<br><I>Hexxx пишет:<br>Не вьехал как это связано с реверсингом шаблонов </I><br>разработчики заменили std::auto_ptr на свой шаблон<br><I> По идее, для auto_ptr это некритично, потому как будет ли поле указателем на int или на CObject не играет никакой роли</I><br>Спасибо, надеюсь это так.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304243&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=7" class="addthx" data-post="304243"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Vamit[/b]','')">Vamit</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/20406.jpg" alt=""><br><span class=txtSm>Ранг: 331.1 (мудрец), 561thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.3'>Активность: 0.19<span style='color:red'>&searr;</span>0.06</span><br>Статус: <a href="action=userinfo&amp;user=20406">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2012 16:42 <br><script type="text/javascript">QU('Vamit','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vamit" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>Dart Sergius</b><br>Шаблоны реверсятся в С++ так же, как и всё остальное, но если ты в результате хочешь получить один шаблон, а не кучу &quot;полуодинакового&quot; кода на все инстанции, то анализируй одноименные функции по всем инстанциям и оформляй в шаблон, при некоторой сноровке ничего в этом сложного нет... В принципе, по желанию, ты можешь в любом std шаблоне заменить реализацию шаблонных параметров на свою, будь она внешней или внутренней, как Allocator, Hash, Comparator и другие.
<br><br><font size="1"><i>-----<br>Everything is relative...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=304253&amp;user=20406&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=8" class="addthx" data-post="304253"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 мая 2012 23:10 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>r_e</b><br>&lt;&lt;Собсно, что касается шаблонов, то нужно понимать что <u>все они инстанцируются с заданными типами</u>.<br><br>Забавную чушь Вы пишете<img src="img/smilies/s1.gif" alt=""> О non-type параметрах не слышали видимо никогда? <br><br>Вообще то у шаблонов С++ существует 3 разновидности параметров: type parameter, non-type parameter и template parameter. Non-type параметры типами не инстанцируются -&gt; Ваше высказывание ошибочно.<br><br>C++ Templates the Complete Guide by David Vandevoorde and Nicolai M. Josuttis.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304982&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=9" class="addthx" data-post="304982"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 мая 2012 23:32 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
Товарищи.<br>Я тут недавно класец для себя маленький сваял. А так как для себя писал, то соответственно нет ревизии кода и тому подобных вещей. Вообщем хотелось бы, чтобы Вы его покритиковали и высказали свои замечания. В первую очередь интересует оптимальность кода - может Вы лучше варианты увидите. (язык: C++)  Если хотите взглянуть на творчество, то отпишите - покажу...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304983&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=10" class="addthx" data-post="304983"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.6 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 01:17 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>TheNozza</b><br>Вы чисто потролить или с целью померяться?<br><br><noindex><a href="http://msdn.microsoft.com/en-us/library/x5w1yety.aspx" rel="nofollow" target="_blank">Non-type template parameters must be of integral, enumeration, pointer, reference, or pointer to member type, and must be constant at compile time.</a></noindex><br><br>В RE вы не встретите compile-time calculations / MPL в бинаре, потому как вкомпиленно будет именно предрасчитанное компилятором значение. В остальных случаях будет таки либо создан тип / объект, либо сгенерирован код. Что и следовало понимать под странным словом <i class=x>инстанцирование</i>.<br><br>Я даже близко не MVP в С++ и всегда открыт для плодотворной дискуссии. Вы можете просветить меня насчет non-type template parameters в реверсе и как они выражаются в скомпиленном коде. Открою для себя новый мир.
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=304987&amp;user=11966&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=11" class="addthx" data-post="304987"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]int[/b]','')">int</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 101.0 (ветеран), 344thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.1'>Активность: 1.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2449">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 01:34 <br><script type="text/javascript">QU('int','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=int" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>r_e</b><br>Да не, это не троллинг. Он пытается самому себе доказать, что знает Си++.<br><br><b>TheNozza</b><br>Весеннее обострение? Я могу и вечный бан влепить, нет проблем. И таки да, Си++ Вы не знаете.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304990&amp;user=2449&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=12" class="addthx" data-post="304990"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 01:43 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
&quot;В RE вы не встретите compile-time calculations / MPL в бинаре, потому как вкомпиленно будет именно предрасчитанное компилятором значение. В остальных случаях будет таки либо создан тип / объект, либо сгенерирован код. Что и следовало понимать под странным словом инстанцирование.&quot;<br><br>Зачем рассказывать то, о чём и так известно? Зачем слэш добавили(тип/объект) - чтобы съехать? <br><br>Читайте  ещё раз внимательней свою первоначальную фразу, она была некорректной - вы её написали, а не я:<br>&lt;&lt;Собсно, что касается шаблонов, то нужно понимать что все они инстанцируются с заданными <b>типами</b>.<br>Про объекты(Instance of the class) там речи не было, только о типах.<br><br>For example:<br>template&lt;int i&gt; class C<br>{<br>      public:<br>            int k;<br>            C() { k = i; }<br>};<br><br>class C&lt;100&gt;;<br><br>Пример, когда шаблон инстанцируется не типом, а конкретным значением 100. Это non-type параметр. Это не тип. Высказывание было некорректно. Но потом Вы поправились.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304992&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=13" class="addthx" data-post="304992"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 01:56 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
&lt;&lt;И таки да, Си++ Вы не знаете.<br><br>Конечно весь С++ от и до я не знаю.  Не уверен, что есть такие люди, которые его знают полностью, если только авторы, т.к. язык очень сложный. Да и стандарты новые появляются...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304994&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=14" class="addthx" data-post="304994"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 02:35 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br><div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">#include&nbsp;<span class="hl_char">&lt;</span>vector<span class="hl_char">&gt;</span></li><li class="hl_l1">#include&nbsp;<span class="hl_char">&lt;</span>string<span class="hl_char">&gt;</span></li><li class="hl_l0">#include&nbsp;<span class="hl_char">&lt;</span>sstream<span class="hl_char">&gt;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">class&nbsp;DigitalCounter</li><li class="hl_l1">{</li><li class="hl_l0">bool&nbsp;_OverflowFlag<span class="hl_comment">;</span></li><li class="hl_l1">unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;_Radix<span class="hl_comment">;</span></li><li class="hl_l0">unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;_Resolution<span class="hl_comment">; </span></li><li class="hl_l1">unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;<span class="hl_char">*</span>&nbsp;_pCurrentValue<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_function"><b>void</b></span>&nbsp;MakeIncrement<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l0">{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;Index&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span><span class="hl_char">+</span><span class="hl_char">+</span>_pCurrentValue<span class="hl_char">[</span>Index<span class="hl_char">]</span>&nbsp;<span class="hl_char">=</span><span class="hl_char">=</span>&nbsp;_Radix<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_pCurrentValue<span class="hl_char">[</span>Index<span class="hl_char">]</span>&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span><span class="hl_char">+</span><span class="hl_char">+</span>Index&nbsp;<span class="hl_char">=</span><span class="hl_char">=</span>&nbsp;_Resolution<span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_OverflowFlag&nbsp;</span><span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>true</b></span><span class="hl_comment">;</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MakeIncrement<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Index&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">}</li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_function">public</span><span class="hl_char">:</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">DigitalCounter<span class="hl_char">(</span>unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;Radix<span class="hl_char">,</span>&nbsp;unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;Resolution<span class="hl_char">)</span><span class="hl_char">:</span></li><li class="hl_l1">_Radix<span class="hl_char">(</span>Radix<span class="hl_char">)</span><span class="hl_char">,</span>&nbsp;_Resolution<span class="hl_char">(</span>Resolution<span class="hl_char">)</span><span class="hl_char">,</span>&nbsp;_OverflowFlag<span class="hl_char">(</span><span class="hl_function">false</span><span class="hl_char">)</span></li><li class="hl_l0">{&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_pCurrentValue&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;<span class="hl_char">[</span>_Resolution<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">; i &lt; _Resolution; i++) _pCurrentValue[i] = 0;</span></li><li class="hl_l1">}</li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_function">std</span><span class="hl_char">:</span><span class="hl_char">:</span>string&nbsp;asString<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l0">{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">std</span><span class="hl_char">:</span><span class="hl_char">:</span>stringstream&nbsp;tmp<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;_Resolution&nbsp;<span class="hl_char">-</span>&nbsp;<span class="hl_number">1</span><span class="hl_comment">; i &gt;= 0; i--) tmp &lt;&lt; _pCurrentValue[i];</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;tmp<span class="hl_char">.</span><span class="hl_function">str</span><span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">}</li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_function"><b>void</b></span>&nbsp;Reset<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">; i &lt; _Resolution; i++) _pCurrentValue[i]=0;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_OverflowFlag&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>false</b></span><span class="hl_comment">;</span></li><li class="hl_l0">}</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">bool&nbsp;Overflow<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;{return&nbsp;_OverflowFlag<span class="hl_comment">;}</span></li><li class="hl_l1"><span class="hl_function"><b>void</b></span>&nbsp;operator<span class="hl_char">+</span><span class="hl_char">+</span><span class="hl_char">(</span><span class="hl_char">)</span>{MakeIncrement<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;}</span></li><li class="hl_l0">unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;operator<span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;<span class="hl_char">(</span>unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;Index<span class="hl_char">)</span>{return&nbsp;_pCurrentValue<span class="hl_char">[</span>Index<span class="hl_char">]</span><span class="hl_comment">;}</span></li><li class="hl_l1">unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;Resolution<span class="hl_char">(</span><span class="hl_char">)</span>{return&nbsp;_Resolution<span class="hl_comment">;}</span></li><li class="hl_l0">}<span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>Предлагаю обсудить недостатки и преимущества кода данного класса. В нем я реализовал функционал счётчика с целью перебора произвольного алфавита(задаётся в рантайме) на любую глубину(задаётся в рантайме). В последний момент STL-евый vector был заменен на обычный массив с целью увеличения производительности, соответственно клиент класса берёт на себя ответственность при вызове operator[], т.к. выход за пределы массива более не контролируется.  Вопрос: имеются ли более оптимальные пути?<br>Кому надо, те поймут, остальным не обязательно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=304997&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=15" class="addthx" data-post="304997"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.6 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 11:00 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>TheNozza</b><br><i class=x>И эти люди запрещают мне ковыряться в носу?</i><br>Тут тебе все, начиная с недочетов дизайна и заканчивая UB.
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=305003&amp;user=11966&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=16" class="addthx" data-post="305003"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 11:46 <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
хм, у меня проблема возникла ещё с ревёрсом самого оператора new.<br>Кароче есть такой код:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">luabindMemAlloc&nbsp;<span class="hl_function"><b>proc</b></span>&nbsp;<span class="hl_function">near</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">arg_0<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>dword</b></span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;&nbsp;<span class="hl_number">4</span></li><li class="hl_l1">arg_4<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>dword</b></span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;&nbsp;<span class="hl_number">8</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">esp</span><span class="hl_char">+</span>arg_4<span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ecx</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">esp</span><span class="hl_char">+</span>arg_0<span class="hl_char">]</span></li><li class="hl_l1"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">edx</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">ds</span><span class="hl_char">:</span><span class="hl_char">?</span>allocator_parameter@luabind@@3PAXA&nbsp;<span class="hl_comment">; void * luabind::allocator_parameter</span></li><li class="hl_l0"><span class="hl_function"><b>push</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span></li><li class="hl_l1"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">edx</span><span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_function"><b>push</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ecx</span></li><li class="hl_l1"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ecx</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">ds</span><span class="hl_char">:</span><span class="hl_char">?</span>allocator@luabind@@3P6APAXPAXPBXI@ZA&nbsp;<span class="hl_comment">; void * (*luabind::allocator)(void *,void const *,uint)</span></li><li class="hl_l0"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">edx</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">ecx</span><span class="hl_char">]</span></li><li class="hl_l1"><span class="hl_function"><b>push</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span></li><li class="hl_l0"><span class="hl_function"><b>call</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">edx</span></li><li class="hl_l1"><span class="hl_function"><b>add</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">esp</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">0Ch</span></li><li class="hl_l0"><span class="hl_function">retn</span></li><li class="hl_l1">luabindMemAlloc&nbsp;<span class="hl_function">endp</span></li>        </ol>
    </div>
</div></div>
<br><br>в с++ он выглядит так насколько я понял:<br><br>void* hz(void*ptr,void*size){<br>return luabind::allocator(luabind::allocator_parameter, (const void*)ptr, size);<br>};<br>на что компилер мой генерит<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>dword</b></span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_registr">ds</span><span class="hl_char">:</span><span class="hl_char">?</span>allocator_parameter@luabind@@3PAXA_0&nbsp;<span class="hl_comment">; void * luabind::allocator_parameter</span></li><li class="hl_l1"><span class="hl_function"><b>push</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0</span></li><li class="hl_l0"><span class="hl_function"><b>push</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">esi</span></li><li class="hl_l1"><span class="hl_function"><b>push</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span></li><li class="hl_l0"><span class="hl_function"><b>call</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>dword</b></span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_registr">ds</span><span class="hl_char">:</span><span class="hl_char">?</span>allocator@luabind@@3P6APAXPAXPBXI@ZA_0&nbsp;<span class="hl_comment">; void * (*luabind::allocator)(void *,void const *,uint)</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">где&nbsp;</li><li class="hl_l1"><span class="hl_char">?</span>allocator_parameter@luabind@@3PAXA_0<span class="hl_char">=</span></li><li class="hl_l0"><span class="hl_function"><b>jmp</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ds</span><span class="hl_char">:</span>__imp_<span class="hl_char">?</span>allocator_parameter@luabind@@3PAXA&nbsp;</li><li class="hl_l1">а&nbsp;<span class="hl_char">?</span>allocator@luabind@@3P6APAXPAXPBXI@ZA_0</li><li class="hl_l0"><span class="hl_function"><b>jmp</b></span>&nbsp;<span class="hl_registr">ds</span><span class="hl_char">:</span>__imp_<span class="hl_char">?</span>allocator@luabind@@3P6APAXPAXPBXI@ZA_0</li>        </ol>
    </div>
</div></div>
<br><br>Валится от того что  void * (*luabind::allocator)(void *,void const *,uint) указывает на область памяти, которая недоступна для выполнения. Мб там указатели на функции, а я пытаюсь вызвать сами функции? Как мне лучше это написать?<br>Или во время инициализации dll своей прописать типо<br>luabind::allocator=(void __cdecl*(void*,void const*,uint))(*luabind::allocator)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305004&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=17" class="addthx" data-post="305004"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]ELF_7719116[/b]','')">ELF_7719116</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 419.0 (мудрец), 647thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.73'>Активность: 0.46<span style='color:green'>&nearr;</span>0.51</span><br>Статус: <a href="action=userinfo&amp;user=26651">Участник</a><br><font color=blue>&quotТибериумный реверсинг&quot</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 12:10 <br><script type="text/javascript">QU('ELF_7719116','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ELF_7719116" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>Dart Sergius</b><br>Может асм вставкой обойтись?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305005&amp;user=26651&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=18" class="addthx" data-post="305005"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 12:13 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<b>r_e</b><br>&lt;&lt;и заканчивая UB<br><br>UB возможно при вызове operator[]. <br>Предположим идёт полный перебор 32-битного числа (Radix=2, Resolution=32). Если контролировать выход индекса за границы массива, то дополнительно будет сделано более, чем 2^32 степени ненужных сравнения, когда со стопроцентной вероятностью известно, что в клиентском коде индекс за границы не выходит. Тут выбирать приходится: либо безопасность, либо скорость.<br><br>Ну и конечно раз вместо вектора теперь динамический массив, то деструктор добавить нужно, иначе memory leak.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305006&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=19" class="addthx" data-post="305006"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 12:14 <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<b>ELF_7719116</b> символы как то надо нормально экспортнуть. <br>luabind::allocator_parameter и  luabind::allocator экспортированы из другой dll. <br>есть вариант конечно попробовать посмотреть исходные значения в olly(ida тяжко перебазирует 7-ми метровый dll), и сравнить с значениями, которые получаются у меня в программе.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305007&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=20" class="addthx" data-post="305007"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 12:44 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<b>r_e</b><br><br>На Core 2 Duo полный перебор 32-битного числа с максимальным приоритетом процесса (nice -n -20 ./Counter) занимает 2 минуты 35.11 секунд. Что - то медленно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305008&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=21" class="addthx" data-post="305008"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 13:22 <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
хм, я кажется понял что у меня неверно было.<br>у меня на extern он генерит странный код.<br>Как я понимаю, загрузчик просто заполнит мою переменню, и всё. Но компилер делает по другому. Он досоздаёт переменную <br>__imp_?allocator@luabind@@3P6APAXPAXPBXI@ZA_0<br>которую и заполняет как я понял загрузчик Windows.<br>и в адрес моей переменной пихает указатель на jmp. Появляются 2 лишних байта(jmp). Как это бы обойти?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305014&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=22" class="addthx" data-post="305014"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.6 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 13:41 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<b>TheNozza</b><br>hint: UB из-за этого if (++Index == _Resolution)<br>Я user-case&#039;ы даже не рассматривал.<br><br>А также в студии:<br> - Отсутствие деструкора - утечка памяти. Неиспользование smart pointers.<br> - Непроверка критических участков с бросанием эксепшнов.<br> - Неконстантные функции, возвращающие константы.<br> - Неоптимальная упаковка данных. Чо уж тогда тип элемента счетчика не сделать параметром шаблона?<br> - Постфиксные инкременты<br> - Нестандартное поведение перегруженного инкремента<br> - Дизайн нерасширяем<br> - Для данного кода в конструкторе достаточно было вызвать Reset<br> - Множественные perfomance issues, например:<br>&gt;&gt; for (int i = 0; i &lt; _Resolution; i++) _pCurrentValue[i]=0;<br>memset() для линейного непрерывного пространства, for_each для итераторов<br>&gt;&gt; std::string asString()<br>Передача объекта через стек.<br><br>Вывод: наколенная школьная поделка.
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=305018&amp;user=11966&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=23" class="addthx" data-post="305018"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=2889" title="09-05-2012 09:55, ранг:9.8" target="_blank">redlord</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]redlord[/b]','')">redlord</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.4 (посетитель), 24thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.71'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2889">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 14:28 <br><script type="text/javascript">QU('redlord','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=redlord" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<b>TheNozza</b><br><br><br>в многопоточном приложении не юзабелен
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305025&amp;user=2889&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=24" class="addthx" data-post="305025"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 15:08 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
<b>r_e</b><br><br>&lt;&lt;UB из-за этого if (++Index == _Resolution)<br>При каком сценарии здесь возникнет UB? (последовательность вызова интерфейсных методов)<br><br><br>&lt;&lt;Отсутствие деструкора - утечка памяти.<br>Да, это косяк.<br><br>&lt;&lt;Неконстантные функции, возвращающие константы.<br>Не критично. Хотя можно поправить.<br><br>&lt;&lt;Неоптимальная упаковка данных. <br>А вот это непростой вопрос. Думал над ним.  Упаковка данных действительно неоптимальная.  <br><br>Концепция была следующая: есть алфавит, например из трёх букв &#039;a&#039;,&#039;b&#039;,&#039;c&#039;. Нужно перебрать все варианты слов из пяти букв данного алфавита. Задаём счётчику: Radix = 3;  Resolution = 5; После каждого инкремента счётчика пока !Overflow() через operator[] запрашиваем все цифры и отображаем их на символы алфавита.<br>То есть:<br>00000 -&gt; aaaaa<br>00001 -&gt; aaaab<br>.........................<br>22222 -&gt; cccccc<br><br>У Вас есть другие варианты?<br><br>&lt;&lt;Чо уж тогда тип элемента счетчика не сделать параметром шаблона?<br>С какой целью? Элементы счётчика всегда цифры.<br><br>&lt;&lt;Постфиксные инкременты<br>Его можно реализовать на базе префексного. Главное добиться оптимальности кода префексного оператора.<br><br>&lt;&lt; std::string asString()<br>&lt;&lt;Передача объекта через стек.<br>Так возвращается из метода временная переменная.<br><br>Вообщем обсуждать надо...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305027&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=25" class="addthx" data-post="305027"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.6 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 15:21 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<b>TheNozza</b><br>UB&gt; DigitalCounter l(1, 1);<br>for (int i = 0; i &lt; 0xffffffff; ++i) ++l;<br><br>&gt; С какой целью? Элементы счётчика всегда цифры.<br>Это могут быть ну очень большие цифры. И тогда вашего int просто не хватит.<br><br>&gt; Его можно реализовать на базе преф<strike>е</strike><b>и</b>ксного.<br>Не только можно, но так и реализуется. Это классика. Соответственно, постфиксный используется только там где неприменим префиксный.<br><br>&gt; Так возвращается из метода временная переменная.<br>Чего уж тогда не перегрузить оператор вывода в поток? Было бы вполне в с++ стиле.<br><br>Собсно, чо тут обсуждать? Поумерь ЧСВ и неси в мир доброе и светлое нормальным тоном.
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=305030&amp;user=11966&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=26" class="addthx" data-post="305030"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 16:36 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
<b>r_e</b><br><br>Давайте взглянем на более глобальные вещи: а именно на применённый алгоритм.<br>Возможно, такой счётчик (со свойственной ему рекурсией)  для брутфорса вариант неподходящий. Вам знакомы другие алгоритмы?<br><br>Может на базе дерева существует шанс выполнить тот же перебор в более короткий срок? А может и нет.<br>Что думаете?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305041&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=27" class="addthx" data-post="305041"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]TheNozza[/b]','')">TheNozza</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 23.4 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.32'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24722">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 16:44 <br><script type="text/javascript">QU('TheNozza','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TheNozza" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
На этом форуме многие занимаются не созданием ПО, а анализом уже существующего. <br>Никто случайно не в курсе у  ломалок забытых паролей от архивов(много таких программ),  ядрышко на счётчике базируется или иным образом устроено? Интересно их внутреннее устройство.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305042&amp;user=24722&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=28" class="addthx" data-post="305042"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]Dart Sergius[/b]','')">Dart Sergius</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/22828.jpg" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=22828">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 мая 2012 17:19 &middot; Поправил: Dart Sergius <br><script type="text/javascript">QU('Dart Sergius','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dart Sergius" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=19820.html&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
<b>TheNozza</b>, ща придёт Archer и скажет про кнопку &quot;правка&quot;. <br>где-то в сети пробегало решение вашей задачи, но где я уже не помню. <br>И вы не знаете как решить мою проблему? Как мне импортировать нормально без jmp, который вставляет компилятор?<br><br>Проблема решилась<br>return allocator(&amp;allocator_parameter, (const void*)ptr, size);<br>тупо передал адрес нашего jmp =)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=305047&amp;user=22828&amp;forum_n=6&amp;topic=19820.html&amp;page=0&amp;anchor=29" class="addthx" data-post="305047"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Ревёрс шаблонов с++</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#30" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="19820">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=19820" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
