<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Помогите с Olly 2 - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="А то закрыли тему неожиданно.... ----------------------- Я гляжу, тут сильно Олю нахваливают. Может подскажете, аттачусь к hl.exe с внедренным в него Cheating Death client&#039;ом 4.25.0, и усе. hl зависает, Оля зависает и только">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=3756'>==DJ==[ZLO]</a>, <a target='_blank' href='?action=userinfo&amp;user=8344'>Magister Yoda</a>, <a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Помогите с Olly 2</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 06:45 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
А то закрыли тему неожиданно....
<br>
<br>-----------------------
<br>Я гляжу, тут сильно Олю нахваливают. Может подскажете, аттачусь к hl.exe с внедренным в него Cheating Death client&#039;ом 4.25.0, и усе. hl зависает, Оля зависает и только ресет поможет их снять. CD как то сечет, что запущен SoftIce, не пойму как, поэтому начал искать альтернативы, но, похоже проще будет с SIce-ом всё-таки.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11793&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=1" class="addthx" data-post="11793"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Bit-hack[/b]','')">Bit-hack</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/198.jpg" alt=""><br><span class=txtSm>Ранг: 303.7 (мудрец), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.9'>Активность: 0.19<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=198">Участник</a><br><font color=blue>tPORt Manager</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 07:08 <br><script type="text/javascript">QU('Bit-hack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bit-hack" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
А ты зачем созда тему, если проще с сайсом?
<br><i>ттачусь к hl.exe</i>
<br>К играм(крупным) не аттачатся<img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11797&amp;user=198&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=2" class="addthx" data-post="11797"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 08:54 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
----------------------------------------------------
<br>Cheating Death client&#039;ом 4.25.0 
<br>Это типа лоадер или чё? Если лоадер, он открывает прогу с привелегиями отладки и х.. ты к ней приатачишься! Я как понял ты хочешь приаттачиться к полноэкранной игре Поставь хот галку в настройках, чтобы оля стала по верх всех(все не на Оле, а Оля на всех
<br>----------------------------------------------------
<br>
<br>Аттач то проходит, но все нитки суспендед и не резюмятся <img src="img/smilies/s1.gif" alt=""> То есть по адресному пространству ползать можно, но как в иде - статично. И иногда виснет при попытке остановить отладку.
<br>
<br>CD - это лоадер, но после внедрения его длл в контру основной процесс можно закрывать он функциональности особой не несет. А вот та внедренная длл с закрученной функцией, которая отвечает за регистрацию клиента на серваке и она не хотит корректно работать если включен SIce.
<br>
<br>Игру я делаю в оконном режиме, для удобства.
<br>
<br>Дак значит Olly в этом случае не прокатит? Жаль, я думал раз уж коммерческие протекторы под ним пускают, то он смогет...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11821&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=3" class="addthx" data-post="11821"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Bit-hack[/b]','')">Bit-hack</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/198.jpg" alt=""><br><span class=txtSm>Ранг: 303.7 (мудрец), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.9'>Активность: 0.19<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=198">Участник</a><br><font color=blue>tPORt Manager</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 09:01 <br><script type="text/javascript">QU('Bit-hack','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bit-hack" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<i>ant_man пишет:
<br>Дак значит Olly в этом случае не прокатит? Жаль, я думал раз уж коммерческие протекторы под ним пускают, то он смогет...</i>
<br>Комерческие протекторы почти под всем ложатся! На олю нех.. гнать - супер отладчик. Если уметь им пользоваться, тогда и HEX редактор не нужен и вообще нех не нужно...<img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11822&amp;user=198&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=4" class="addthx" data-post="11822"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 09:19 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Я ж не спорю - если уметь, можно и в хекс. А если нет, то надо что-нибудь незаметно живучее, вовремя всплывающее и брякающееся где надо.
<br>Если говорить конкретно, то надо узнать чем занимается функция той длл по адресу 0x7fe010e0 в процессе hl. Но там куча SEH, INT3, RDTSC и мож еще что. И когда запущен SoftIce ничего полезного функция не делает, что резко усложняет задачу - непонятно где копать.
<br>
<br>А с Olly еще и умудриться надо до 0x7fe010e0 живым добраться <img src="img/smilies/s1.gif" alt=""> Расскажите как <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11827&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=5" class="addthx" data-post="11827"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]infern0[/b]','')">infern0</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 160.1 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=36">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 09:27 <br><script type="text/javascript">QU('infern0','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=infern0" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<i>ant_man пишет:
<br>0x7fe010e0 в процессе hl.</i>
<br>что-то не похож этот адрес на юзеровский код. Хотя фиг знает - теоретически он в первых 2 гигах.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11829&amp;user=36&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=6" class="addthx" data-post="11829"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 09:37 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>ant_man</b>
<br>это системная библиотека, кернел какой-нибудь
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=11830&amp;user=29&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=7" class="addthx" data-post="11830"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Mario555[/b]','')">Mario555</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/15.jpg" alt=""><br><span class=txtSm>Ранг: 332.0 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.97'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=15">Участник</a><br><font color=blue>•Pr0tEcToRs KiLLeR•</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 12:48 <br><script type="text/javascript">QU('Mario555','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mario555" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>ant_man</b>
<br>эх, вот читеров развелось =) играй честно !
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11855&amp;user=15&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=8" class="addthx" data-post="11855"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 12:54 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
что вы меня пугаетиити <img src="img/smilies/s1.gif" alt=""> я уж думал перегрелся на жарком уральском солнце. не, всё прально. мод кернеля 0x7c570000. а код CD 0x7fe00000 - 0x7ff92000. может это только у меня в win2000 SP4 так? не знаю. Может дело в том, что это не совсем длл, cdeath.exe мониторит процессы и инжектирует в hl cd.dll, а та, в свою очередь, грузит упакованный файл непонятной структуры cd.bin и распаковывает его уже в те адреса.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11857&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=9" class="addthx" data-post="11857"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 декабря 2004 12:59 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<i>Mario555 пишет:
<br>эх, вот читеров развелось =) играй честно !</i>
<br>
<br>я не читерил и не собираюсь, было любопытно разобраться что за защита. а теперь, когда стало известно, что CD с софтайсом не дружит - как я буду отлаживать и играть в CS?! перезагружаться? <img src="img/smilies/s1.gif" alt=""> за державу, короче, обидно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11858&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=10" class="addthx" data-post="11858"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]KATEHOK[/b]','')">KATEHOK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=924">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 03:09 <br><script type="text/javascript">QU('KATEHOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=KATEHOK" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
CD какой версии? Какая ОС? Под ХР с айсом CD 4.25 работает. Вчера проверил еще и с  Olly - нормально аттачится.
<br>Защита там простая - проверки кода некоторых функций hl (путем checksum), проверка кода самой CD (сравнение с оригинальным кодом, который лежит чуть выше (для адресов 0х7fexxxxx оригинальный код лежит в 0x7ffxxxxx) + checksum на этот код, ну и проверки кода, который вызывает экспортируемые энжином функции.
<br>Впрочем, я разбирался достаточно давно (где-то с версией 4.1х), но не думаю, что там что-то кардинально поменялось.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11939&amp;user=924&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=11" class="addthx" data-post="11939"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 05:09 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Как я уже писал,
<br>CD 4.25.0
<br>WIN2K ws SP4 (пробовал на сервере - тоже)
<br>
<br>Ты как проверял, к серваку с защитой подключался? не кикает?
<br>А в Olly после аттача процесс дальше отпускается?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11949&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=12" class="addthx" data-post="11949"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]KATEHOK[/b]','')">KATEHOK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=924">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 06:11 &middot; Поправил: KATEHOK <br><script type="text/javascript">QU('KATEHOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=KATEHOK" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Да, отпускается. Только пришлось убрать бряки по эвентам (кроме int 3), иначе начинались глюки. Но я запускал HL в полноэкранном режиме; может, глюки из-за этого.
<br>Да, с айсом я работал еще под чистой ХР (без сервис паков), а с Olly - уже под ХР SP1.
<br><i>Ты как проверял, к серваку с защитой подключался? не кикает?</i>
<br>А что, собственно, проверять? Я защиту не отключал - гиморно все это, т.к. вычисленные checksum&#039;ы используются в обмене между клиентской и серверной частями CD (точно не скажу, но мне так показалось).
<br>А что нужно-то? Сэмулировать работу CD?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11955&amp;user=924&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=13" class="addthx" data-post="11955"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 06:59 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
В этом и фишка, я хочу знать как он сечет, что айс запущен. Потому что когда он это определяет, то с серваком общаться перестает, даже вычислять ответ не потрудится. У меня IceExt со всеми защитами включен - не помогает.
<br>
<br>Проверял что он делает в SEH с DRx так
<br>
<br>bpmb место_в_ядре_call_to_seh x do &quot;bc1;bpmb @(esp+4*2)+1c;x;&quot; //убрать старый бряк, поставить новый на DR7 в CONTEXT.
<br>
<br>не словило ничего - значит, кажись с DR операций нет... че еще копнуть, реестр попробую. от MeltIce айсекст должен железно беречь...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11960&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=14" class="addthx" data-post="11960"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]KATEHOK[/b]','')">KATEHOK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=924">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 07:42 &middot; Поправил: KATEHOK <br><script type="text/javascript">QU('KATEHOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=KATEHOK" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
По идее, CD DRx регистры не трогает, т.к. под NT нужны права администратора, чтобы их изменить (или я ошибаюсь? Впрочем, в ring0 он точно не лезет). Можно написать небольшой драйвер, который бы перехватывал обращение к этим регистрам (аппаратно) и выводил что-нибудь <img src="img/smilies/s1.gif" alt="">
<br>А точно CD перестает работать, может, он детектит простые точки останова на защищаемом коде (или установленные хуки)?
<br>Могу сегодня вечером проверить.
<br>ЗЫ Все-таки мне кажется, что айс он не детектит.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11964&amp;user=924&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=15" class="addthx" data-post="11964"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 08:09 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
я без всяких бряков в фоне держу айс - сервер кикает. без айса всё на ура.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11968&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=16" class="addthx" data-post="11968"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Mario555[/b]','')">Mario555</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/15.jpg" alt=""><br><span class=txtSm>Ранг: 332.0 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.97'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=15">Участник</a><br><font color=blue>•Pr0tEcToRs KiLLeR•</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 08:35 <br><script type="text/javascript">QU('Mario555','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mario555" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<i>KATEHOK пишет:
<br>DRx регистры не трогает, т.к. под NT нужны права администратора, чтобы их изменить</i>
<br>гыгы
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11972&amp;user=15&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=17" class="addthx" data-post="11972"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]KATEHOK[/b]','')">KATEHOK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=924">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 09:54 <br><script type="text/javascript">QU('KATEHOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=KATEHOK" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>Mario555</b>
<br>Уверены, что стандартный Гость сможет получить хендл нити с правами THREAD_SET_CONTEXT? Я не уверен, что, собственно, и написал.
<br>Или Вы знаете другой способ записи в DR регистры (не прыгая в ring0)? Или как прыгнуть в ring0 (мне под Гостем не удавалось открыть &#92;device&#92;physicalmemory)?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11983&amp;user=924&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=18" class="addthx" data-post="11983"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Asterix[/b]','')">Asterix</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 450.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.26<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=58">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 10:02 <br><script type="text/javascript">QU('Asterix','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Asterix" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<b>KATEHOK</b>
<br>Дык это, SEH используй, в обработчике except_handler получишь доступ к структуре CONTEXT и можно писАть в dr регистры.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11986&amp;user=58&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=19" class="addthx" data-post="11986"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Mario555[/b]','')">Mario555</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/15.jpg" alt=""><br><span class=txtSm>Ранг: 332.0 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.97'>Активность: 0.18<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=15">Участник</a><br><font color=blue>•Pr0tEcToRs KiLLeR•</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 декабря 2004 10:09 <br><script type="text/javascript">QU('Mario555','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mario555" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<b>KATEHOK</b>
<br>ну вот,  Asterix меня опередил =) 
<br>пиши в структуру CONTEXT... после выхода из обработчика записанные значение окажутся в DRx.
<br>
<br><i>KATEHOK пишет:
<br>способ записи в DR регистры (не прыгая в ring0)</i>
<br>а там по-любому только в ринг0... просто мы может записать в структуру CONTEXT а винда там уже сама это в DRx запишет (ессно на уровне ринг0).
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=11988&amp;user=15&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=20" class="addthx" data-post="11988"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]KATEHOK[/b]','')">KATEHOK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=924">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 декабря 2004 05:36 <br><script type="text/javascript">QU('KATEHOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=KATEHOK" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<b>ant_man</b>
<br>Все работает, с сервера не кикает.
<br>Правда, если несколько раза вызвать айс (HL в полноэкранном режиме), начинает бажить управление <img src="img/smilies/s1.gif" alt="">
<br>
<br><b>Asterix</b>
<br><b>Mario555</b>
<br>SEH - это, конечно, хорошо. Но разве эти регистры не уникальны для каждой нити (другими словами, они должны переписаться при переключении на другую нить)? Тогда придется как-то встраивать обработчик исключений в чужую нить (как?), суспендить ее, патчить по адресу EIP (или как-нибудь еще вызвать исключение), резюмить, и т.д. Геморрой еще тот.
<br>Хотя у меня есть подозрение, что для ХР SP1 регистры DR одни и те же внутри каждого процесса.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12063&amp;user=924&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=21" class="addthx" data-post="12063"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 декабря 2004 05:54 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<i>KATEHOK пишет:
<br>Все работает, с сервера не кикает. 
<br>Правда, если несколько раза вызвать айс (HL в полноэкранном режиме), начинает бажить управление </i>
<br>
<br>Хм. <img src="img/smilies/s9.gif" alt=""> Значит это только мне так &quot;повезло&quot;.
<br>Какой у тебя айс, чем скрываешь?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12066&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=22" class="addthx" data-post="12066"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 декабря 2004 05:57 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<i>KATEHOK пишет:
<br>SEH - это, конечно, хорошо. Но разве эти регистры не уникальны для каждой нити (другими словами, они должны переписаться при переключении на другую нить)? Тогда придется как-то встраивать обработчик исключений в чужую нить (как?)</i>
<br>
<br>Зачем чужую нить суспендить, если айс в твоей шарит? <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12067&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=23" class="addthx" data-post="12067"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 декабря 2004 06:24 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
Помнится, попадалась мне как-то утилита, которая показывала какими способами она смогла обнаружить в системе айс. Не подскажете как она зовется? Может есть что-нибудь подобное?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12071&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=24" class="addthx" data-post="12071"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]KATEHOK[/b]','')">KATEHOK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=924">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 декабря 2004 06:34 <br><script type="text/javascript">QU('KATEHOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=KATEHOK" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
Айс из Driver Studio 3.1 (почти полная) + IceExt 0.65. Ничем не скрываю (!protect on юзаю вручную, когда понадобится). Все работает под WinXP SP1 (rus). Osinfo.dat скачан с нумеги.
<br>
<br><i>Зачем чужую нить суспендить, если айс в твоей шарит?</i>
<br>Ну, как там айс шарит, дело темное. Ведь если установть аппаратный бряк, например, на функцию из kernel32.dll, то брякаться будут все нити. Но, похоже, это иногда не нравится винде, и бряки не срабатывают <img src="img/smilies/s1.gif" alt="">
<br>Как винда обрабатывает эти регистры при переключении нитей - фиг знает. Но в Win2k SP1 аппаратные точки останова действовали во всех адресных пространствах (Гунински даже эксплоит написал, который рушил lsass.exe и захватывал именованный канал), но эту проблему решили SP2 (или SP3?). Как - интересный вопрос.
<br>
<br>Кстати, никто не в курсе, как перехватить переключение на нужную нить и как самому принудительно переключиться? Может, ссылки полезные есть <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12074&amp;user=924&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=25" class="addthx" data-post="12074"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 декабря 2004 12:19 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<i>ant_man пишет:
<br>Помнится, попадалась мне как-то утилита, которая показывала какими способами она смогла обнаружить в системе айс.</i>
<br>
<br>Нашел, это detect.exe из пакета NtDump, но она старая. Пишет, что ничего не находит... <img src="img/smilies/s9.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12109&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=26" class="addthx" data-post="12109"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]ant_man[/b]','')">ant_man</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.7 (посетитель), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.58'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=921">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 19 декабря 2004 14:46 <br><script type="text/javascript">QU('ant_man','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ant_man" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=1139.html&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
Короче, действительно, в WinXP такой ерунды нет и активный ICE не влияет на работу защищенной функции. Надо будет еще поразбираться в чем здесь дело, если лень не одолеет <img src="img/smilies/s1.gif" alt="">
<br>KATEHOK, thanks for advice.
<br>
<br>PS. А имитатор CD4.25.0 получился. <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=12437&amp;user=921&amp;forum_n=1&amp;topic=1139.html&amp;page=0&amp;anchor=27" class="addthx" data-post="12437"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Помогите с Olly 2</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#28" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="1">
<input type="hidden" name="topic" value="1139">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=1139" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
