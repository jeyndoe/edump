<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Лог работы ВМ - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Можно ли (теоретически) создать тулзу для записи полного лога (небольшой части) работы ВМ - все выполненные инструкции+I/O+memory R/W, с возможностью &quot;воспроизведения&quot; работы ВМ из этого лога?">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55914'>Kybyx</a> (+3 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/mod.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=7&sortBy=0&page=0.html"><b>Оффтоп</b></a> <b class=bulletHead>&#8212;&#8250;</b> Лог работы ВМ</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 13:02 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Можно ли (теоретически) создать тулзу для записи полного лога (небольшой части) работы ВМ - все выполненные инструкции+I/O+memory R/W, с возможностью &quot;воспроизведения&quot; работы ВМ из этого лога?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382601&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=1" class="addthx" data-post="382601"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 16:08 <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<b>spinz</b><br><br>Какой именно вм, это понятие слишком растяжимое. В любом случае придётся сворачивать выполняемый код, выделяя повторные проходы, таким образов обьединять инструкции в блоки/циклы/функции. А это не простая задача. Иначе лог получится бесконечно большим и бесполезным.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382603&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=2" class="addthx" data-post="382603"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 17:34 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>difexacaw</b><br><br>Какая вм, думаю, принципиальной разницы нет, пусть будет вмваря какая-нибудь. А свертка кода это первое, что приходит в голову, конечно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382607&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=3" class="addthx" data-post="382607"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 18:08 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>spinz</b><br><br>ОС выполняет огромное количество инструкций, причём параллельно и на железе. На секундный лог не хватит никакой дисковой памяти, это безумная, невозможная и глупая задача.<br>Дамп какой то локальной вм возможен и думаю актуален. Даже гпв нт работает на конкретных событиях, а не на трассировке инструкций. Так что для начала вам нужно как всегда сформулировать задачу/цель. Так как это далее определит решение. Такое пилится всегда исходя из главного - эффективности работы(минимальный тайминг). Именно это значительно усложняет задачу, так как придётся выбирать самый эффективный алгоритм в каждой части задачи и как то их совместить. Это всегда так сложно ддя реалтайм вм <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382609&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=4" class="addthx" data-post="382609"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 18:40 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>difexacaw</b><br>Если взять одноядерную гостевую ВМ, то параллельности не будет. И инструкций за одну секунду не так уж и много, если конечно проц не нагружен на 100%, что бывает редко. Ну пусть даже по максимуму будет 3-4млрд инструкций в секунду (что крайне завышенная цифра), по 4 байта на инструкцию (что тоже завышено) - даже без свертки кода на терабайтный диск уже влезет минута работы ВМ.<br><br>Да, цели никакой нет, чисто умозрительная задача пришла в голову.<br><br>P.S. Что такое гпв нт?<br><br>P.P.S. Думаю, подобная тулза была бы в отдельных случаях востребована.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382611&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=5" class="addthx" data-post="382611"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 19:10 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<b>spinz</b><br><br>Понятие загрузки проца лишь условно, то что вы видите в диспетчере задач статистику - оно не отображает реальную работу проца. Он никогда не останавливается. На младших версиях процов был реализован холодильник&quot; - остановка выполнения через halt. Это уже давно не актуально, учитывая загрузку системы.<br><br>&gt; по 4 байта на инструкцию (что тоже завышено) - даже без свертки кода на терабайтный диск уже влезет минута работы ВМ.<br><br>Чего 4 байта ?<br><br>А как же механизм трансляции, это намного больше займёт памяти. Есчо n*4 на трансляцию. И только для линейного сохранения адресов каждой инструкции. Без выборок данных. На запуск блокнота не хватит никакого диска. Впрочем не важно.<br><br>&gt; Да, цели никакой нет, чисто умозрительная задача пришла в голову.<br><br>P.S. Что такое гпв нт?<br><br>Виндовый гипервизор, во все ключевые события нт встроен обмен данными с визором.<br><br>Задача как алгоритмическая весьма интересна, но это уже не конкретно тз, а чисто алгоритмическая и абстрактая задача по свёртке кода. Именно к этому сводится исходная задача и так она должна быть сформулирована.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382612&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=6" class="addthx" data-post="382612"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 19:40 &middot; Поправил: spinz <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>difexacaw пишет:<br>Чего 4 байта ?<br>А как же механизм трансляции, это намного больше займёт памяти. Есчо n*4 на трансляцию. И только для линейного сохранения адресов каждой инструкции. Без выборок данных. На запуск блокнота не хватит никакого диска. Впрочем не важно. </I><br><br>Ну я для простоты предположил, что каждая инструкция занимает в среднем 4 байта (конечно меньше). Адреса инструкций в общем случае хранить не нужно, т.к. стартуя с определенной точки (снапшота ВМ) и &quot;выполняя&quot; последовательно инструкции из лога, ВМ естественным образом повторит всю работу проца, в т.ч. и вычисление текущего IP. По аналогии с восстановлением из бэкапа базы SQL-сервера - имея исходный бэкап (снапшот) и зная все последующие тразакции, сервер может восстановить конечное состояние БД на момент последней записанной в журнал транзакции. Нужно только отслеживать смену IP  из-за интерраптов, которые конечно тоже придется сохранять в лог.<br><br><I>difexacaw пишет:<br>Он никогда не останавливается. </I><br>Ну выборка и выполнение инструкций останавливается же после hlt и mwait, хотя tsc, конечно, продолжает увеличиваться. Впрочем, можно проц и в S1 отправить, тогда и tsc будет стоять
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382613&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=7" class="addthx" data-post="382613"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 20:47 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Забавно когда человек не зная принципов работы железа и архитектуру видит аналогию с пхп скриптами <img src="img/smilies/s5.gif" alt="">
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382614&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=8" class="addthx" data-post="382614"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2018 23:26 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Да ладно тебе, индий, и работу железа, и архитектуру я знаю гораздо лучше тебя.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382616&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=9" class="addthx" data-post="382616"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]hors[/b]','')">hors</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/31056.jpg" alt=""><br><span class=txtSm>Ранг: 136.0 (ветеран), 360thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.53'>Активность: 0.27<span style='color:red'>&searr;</span>0.14</span><br>Статус: <a href="action=userinfo&amp;user=31056">Участник</a><br><font color=blue>Qt Developer</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 13:16 &middot; Поправил: hors <br><script type="text/javascript">QU('hors','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=hors" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>spinz пишет:<br><br>Да ладно тебе, индий, и работу железа, и архитектуру я знаю гораздо лучше тебя.  </I><br><br>Не знаешь. <br>А если бы знал, то не городил бы тут чушь про базы SQL сервера.
<br><br><font size="1"><i>-----<br>http://ntinfo.biz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382628&amp;user=31056&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=10" class="addthx" data-post="382628"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=40990" title="07-03-2018 14:18, ранг:182.7" target="_blank">difexacaw</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 14:25 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Вот еще один не умеет в аналогии
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382629&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=11" class="addthx" data-post="382629"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 17:23 &middot; Поправил: shellstorm <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>spinz пишет: даже без свертки кода на терабайтный диск уже влезет минута работы ВМ </I><br><br>Хорошая шутка. В реальной жизни хорошо если минута работы блокнота со связанными данными влезет в терабайт <img src="img/smilies/s1.gif" alt=""><br><br><I>spinz пишет: Вот еще один не умеет в аналогии  </I><br><br>Аналогия звучит примерно так: &quot;Земля она круглая, начертим круг и как видим он очень простой, можно всю землю перенести на лист бумаги, главное больше слонов с китами добавить&quot;..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382636&amp;user=41575&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=12" class="addthx" data-post="382636"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 17:31 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>hors</b><br><br>Согласен, после #7 понял что это за тема и что за человек, какой у него масштаб знаний. А изначально вопрос довольно интересный. Это чисто алгоритмическая задача по выделению кода и подобному. Я тут поднимал частную задачу по выделению циклов <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=24744&amp;page=0#1" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br>Задача тс куда сложнее, это полноценное выделение повторно исполняемых блоков. Это просто решается без использования бд и какого либо связывания, те как алгоритм. Но реально нужны довольно гибкие связанные структуры, со сложной организацией, которую нужно продумать. Думаю именно в этом проблема.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382637&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=13" class="addthx" data-post="382637"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 18:09 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
&gt; Но реально нужны довольно гибкие связанные структуры, со сложной организацией, которую нужно продумать.<br><br>Смысл хранить пустую трассу без данных и ко всему прочему без свертки циклов?<br>С таким же успехом можно запустить софт заново, эффект будет такой же.<br>Для реализации time travel необходимо сохранять внушительные куски памяти, а в случае с операционной системой, это придется делать часто и сохранять много. Иначе эта трасса будет просто мусором, такую самому можно генерировать рандомом, используя таблицу частот инструкций, пользы от нее будет столько же.<br>Сохранение трассы состояний операционной системы это конечно же шиза, а для софта вполне практичная задача, можно делать снапы на входе в функцию и откатываться назад во время отладки, только всё украдено задолго до нас. Этой идеи лет больше чем мне и были реализации, windbg частично умеет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382638&amp;user=41575&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=14" class="addthx" data-post="382638"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=40990" title="07-03-2018 18:12, ранг:182.7" target="_blank">difexacaw</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 18:22 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<I>shellstorm пишет:<br>Смысл хранить пустую трассу без данных и ко всему прочему без свертки циклов?<br>С таким же успехом можно запустить софт заново, эффект будет такой же. </I><br><br>Не шаришь. Имея исходное состояние(снапшот) + лог инструкций + I/O и интерраптов, можно в точности восстановить на любой момент времени весь контекст работы ВМ (регистры/память/диск)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382640&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=15" class="addthx" data-post="382640"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 21:12 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>spinz</b><br><br>Да по вашему все не шарят, он всё верно выше сказал, вы просто не поняли.<br><br>Смотрите, к примеру некий системный код в области быстрой и не прерывной обработки(шедулер) сохраняется в лог. В памяти одна и та же инструкция за секунду выполняется миллионы раз. Если отсутствует структурное связывание(не известна предыдущая инструкция или в общем caller&quot;), то инфа про инструкцию есть просто статистическая(таймер-счётчик). Эта инфа соотвественно бесполезна. Утеря хоть одной инструкции из их огромного потока приведёт к отсутствию связывания и бессмысленности всей затеи.<br><br>Думаю следует исключить из данной задачи ос-вм, задача не имеет смысла.<br><br>В случае софт вм пример свёртки вы можите глянуть, тут где то был мой пример. Код выделялся из исполнения и d-fetch овер гб-цикла итераций(vmp). Без такой свёртки лог будет расти бесконечно и крайне быстро. <br><br>Думаю вы это поняли, задача сформулирована. Вам нужно теперь подумать над реализацией свёртки кода - как выделить повторно используемые блоки, причём с учётом вложенности/рекурсивно и с предельно эффективным по размеру использованием памяти на хранение структур, связующих блоки.
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382646&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=16" class="addthx" data-post="382646"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 21:53 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
Внезапно подумалось, что для точного воспроизведения работы ВМ лог инструкций не нужен вообще. Достаточно снапшота и лога интерраптов+I/O. Инструкции проц автоматом возьмет из памяти, сохраненной в снапшоте.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382647&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=17" class="addthx" data-post="382647"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]difexacaw[/b]','')">difexacaw</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/40990.png" alt=""><br><span class=txtSm>Ранг: 338.5 (мудрец), 349thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.02'>Активность: 2.11<span style='color:green'>&nearr;</span>2.42</span><br>Статус: <a href="action=userinfo&amp;user=40990">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2018 22:08 &middot; Поправил: difexacaw <br><script type="text/javascript">QU('difexacaw','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=difexacaw" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
Вот и поговорили <img src="img/smilies/s5.gif" alt=""><br><br>Отличная мотивация на задачу у тс.. тут особо и сказать нечего. У меня детектор реагирует на тролей или пустых&quot; людей, он сработал и редко ошибается.)
<br><br><font size="1"><i>-----<br>vx</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382648&amp;user=40990&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=18" class="addthx" data-post="382648"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 465thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 марта 2018 05:19 <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<I>spinz пишет:<br>Можно ли (теоретически) создать тулзу для записи полного лога (небольшой части) работы ВМ - все выполненные инструкции+I/O+memory R/W, с возможностью &quot;воспроизведения&quot; работы ВМ из этого лога? </I><br>Всё давно изобретено виртуальная машина с snapshots<img src="img/smilies/s6.gif" alt=""> <img src="img/smilies/s6.gif" alt=""> <img src="img/smilies/s6.gif" alt="">
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382651&amp;user=17432&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=19" class="addthx" data-post="382651"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 марта 2018 09:22 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<b>ClockMan</b><br><br>Одного снапшота недостататочно для точного воспроизведения работы ВМ. Тот же сетевой трафик в разные моменты времени будет разным, значит и работа ВМ будет отличаться.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382654&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=20" class="addthx" data-post="382654"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 марта 2018 12:33 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
&gt; Всё давно изобретено виртуальная машина с snapshots<br><br>Снап vm сохраняет одно состояние операционной системы, а ТС хочет из одного состояния сделать back\up trace, то есть по сути из одного сохраненного состояния воспроизвести множественные снапы vm.)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382657&amp;user=41575&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=21" class="addthx" data-post="382657"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 марта 2018 12:19 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
Чисто гипотетически (c) - сервер падает раз в сутки раз в неделю. Как отлаживать?<br>Воспроизведение лога ВМ с учетом записанного трафика могло бы сильно помочь
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382680&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=22" class="addthx" data-post="382680"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 марта 2018 20:27 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<I>spinz пишет:<br>Чисто гипотетически (c) - сервер падает раз в сутки раз в неделю. Как отлаживать? </I><br>Добавить эксепшен-хэндлер с сохранением на диск ошибки перед вылетом?<br><br><b>Добавлено спустя 1 минуту</b><br>Ну а лучше по эксепшен гоу ту дебаггер
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=382771&amp;user=24257&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=23" class="addthx" data-post="382771"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 марта 2018 04:59 <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
ну и чем поможет дебаггер?  Вот летят тебе тысячи однотипных пакетов - и бах, внезапно все встает колом. Не из-за последнего пакета, а из-за совокупности. И что ты будешь отлаживать?<br><br>А эта ситуация повторится в следующий раз через три недели.<br><br>Как будешь ловить ошибку?<br><br><br>А есл записать лог ВМ i/o от снапшота до ошибки, то ошибку всегда можно будет воспроизвести
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=382847&amp;user=22831&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=24" class="addthx" data-post="382847"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]Oott[/b]','')">Oott</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/14476.jpg" alt=""><br><span class=txtSm>Ранг: 106.9 (ветеран), 27thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.6'>Активность: 0.08<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=14476">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 апреля 2018 15:51 <br><script type="text/javascript">QU('Oott','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Oott" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=25087.html&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
Похоже это то что тебе нужно:<br><noindex><a href="https://www.mail-archive.com/qemu-devel@nongnu.org/msg529435.html" rel="nofollow" target="_blank">https://www.mail-archive.com/qemu-devel@nongnu.org/msg529435.html</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=383840&amp;user=14476&amp;forum_n=7&amp;topic=25087.html&amp;page=0&amp;anchor=25" class="addthx" data-post="383840"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/mod.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=7&sortBy=0&page=0.html"><b>Оффтоп</b></a> <b class=bulletHead>&#8212;&#8250;</b> Лог работы ВМ</span></td>
</tr></table>
</div>
<a name=newreply></a>
<center><h3>У вас должно быть 20 пунктов ранга, чтобы оставлять сообщения в  этом подфоруме, но у вас только 0</h3></center><script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=25087" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
