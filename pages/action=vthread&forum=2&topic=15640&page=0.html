<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Помогите пофиксить чужой баг (Borland C++) - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Описание софта: Есть софтинка CarTest-injector нужная мне для работы. Под неё уже сделано всё железо. Прога эта управляет стендом для чистки/проверки автомобильных бензиновых форсунок. Она формирует сигнал нужной формы на 4-ый">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a>, <a target='_blank' href='?action=userinfo&amp;user=42610'>r0lka</a>, <a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a>, <a target='_blank' href='?action=userinfo&amp;user=55550'>testrev1337</a>, <a target='_blank' href='?action=userinfo&amp;user=19256'>johnniewalker</a> (+3 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/red.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=2&sortBy=0&page=0.html"><b>Крэки, обсуждения</b></a> <b class=bulletHead>&#8212;&#8250;</b> Помогите пофиксить чужой баг (Borland C++)</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=2&amp;topic=15640&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=2&amp;topic=15640&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]SergX[/b]','')">SergX</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 226.0 (наставник), 67thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=11974">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 01:31 &middot; Поправил: SergX <br><script type="text/javascript">QU('SergX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SergX" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
<u>Описание софта:</u> Есть софтинка CarTest-injector нужная мне для работы. Под неё уже сделано всё железо. Прога эта управляет стендом для чистки/проверки автомобильных бензиновых форсунок. Она формирует сигнал нужной формы на 4-ый пин COM порта (DTR). Ни как не проверяет наличие адаптера и не ждёт никакого ответа, просто посылает импульсы. Прога написана на Borland C++ и ни чем не пакована, защиты тоже нет. Не проблема конечно и самому написать аналог, но жалко времени, которого и так нет…<br><br><img src="http://www.imagepost.ru./images/rVoe4osCyKq7lYwJ06C6.jpg" border="0" align="" alt=""><br><br><u>Описание бага:</u> Прога проверялась мной на нескольких стационарных компах и на нескольких ноутах. На ноутах при нажатии на кнопку “Start”, тест который должен идти 60сек доходит до 100% за 15-20сек при этом и частота импульсов левая… На стационарных всё нормально. Читал на форумах что у многих та же хрень.<br><br><u>Что нарыл:</u><br>Прога юзает файл IOPORT.DLL который вовсе не DLL а какая-то хрень.<br>Событие при создание главного окна - 004025F0<br>Процедура кнопки СТАРТ - 00401784<br>Тут процедура СТАРТ начинает что-то чудить с IOPORT.DLL - 00401A93<br>Процедура кнопки СТОП - 00402488<br>Используется два VCL таймера, обработчик первого - 004025AC, со вторым не разобрался…<br><br><u>Софт тут</u>: <noindex><a href="http://slil.ru/28485204" rel="nofollow" target="_blank">http://slil.ru/28485204</a></noindex> (Размер: 366.83KB) <noindex><a href="http://www.virustotal.com/ru/analisis/62003dfe452208bf9a8ccc29b57ac1e4d8df298069959662ef0a38fcb76dbf77-1263595701" rel="nofollow" target="_blank">отчёт virustotal.com для параноиков <img src="img/smilies/s1.gif" alt=""></a></noindex><br><br><br><u>Просьба ко всем</u> у кого есть 3 свободные минуты:  проверьте сколько времени у вас будет длится тест после нажатия кнопки “START” (без изменения настроек). В идеале должно быть 60сек. И напишите какой у вас результат по времени, проц и версия маздая.<br><br>Буду благодарен за любые советы.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249124&amp;user=11974&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=1" class="addthx" data-post="249124"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Nabu[/b]','')">Nabu</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 25.3 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.53'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1034">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 08:02 <br><script type="text/javascript">QU('Nabu','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nabu" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Тип ЦП	Mobile DualCore Intel Pentium T4200, 2000 MHz (10 x 200)<br>Операционная система	Microsoft Windows XP Professional SP 3<br>Время у меня меньше одной секунды<img src="img/smilies/s1.gif" alt=""> Но при запуске программа ругалась из-за не подсоединения блока. Может, из-за этого тест так коряво проходит.<br>А так программа старая, поэтому, скорее всего, время теста зависит от производительности системы или железа.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249130&amp;user=1034&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=2" class="addthx" data-post="249130"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]SER[G]ANT[/b]','')">SER[G]ANT</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/11127.gif" alt=""><br><span class=txtSm>Ранг: 147.7 (ветеран), 50thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.23'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=11127">Участник</a><br><font color=blue>sv_cheats 1</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 08:19 &middot; Поправил: SER[G]ANT <br><script type="text/javascript">QU('SER[G]ANT','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SER[G]ANT" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<I>Nabu пишет:<br>А так программа старая, поэтому, скорее всего, время теста зависит от производительности системы или железа. </I><br>При чем тут производительность железа, если там установлен таймер ? 60 секунд они и в Африке 60 секунд.<br><br><I>SergX пишет:<br>Просьба ко всем у кого есть 3 свободные минуты: проверьте сколько времени у вас будет длится тест после нажатия кнопки “START” (без изменения настроек). В идеале должно быть 60сек. И напишите какой у вас результат по времени, проц и версия маздая. </I><br><br>DualCore AMD Athlon II X2 250, 3000 MHz (15 x 200)<br>Windows XP Pro SP3<br><br>Результат:<br><b>Статический тест:</b><br><i class=x>Текущий расход мл</i> - 150<br><b>Динамический тест:</b><br><i class=x>Текущий расход мл</i> - 7,2525<br>Оба теста проходили положенные 60 секунд.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249132&amp;user=11127&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=3" class="addthx" data-post="249132"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]sendersu[/b]','')">sendersu</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 512.7 (<b>!</b>), 360thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.56'>Активность: 0.27<span style='color:red'>&searr;</span>0.03</span><br>Статус: <a href="action=userinfo&amp;user=14629">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 09:22 <br><script type="text/javascript">QU('sendersu','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=sendersu" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>SergX</b><br>ADM Sempro 2300<br>Win XP SP2<br>Оба теста - проходили за 70 сек (1 мин 10 сек)<br><br>Глянул на код<br><br>Возможно, причина неадекватности в том, что при нажатии на старт програма запускает поток и ставит ему прио 5 (tpHighest) - как про меня ето уже слишком, такой приоритет только у критических системных процессов<br><br>Попробуйте уменьшить прио хотя б до простого tpHigher (4):<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">004063F4</span>&nbsp;thr_Execute&nbsp;<span class="hl_function"><b>proc</b></span>&nbsp;<span class="hl_function">near</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00406407</span>&nbsp;<span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">dl</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">5</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">&lt;</span><span class="hl_char">&lt;</span>&nbsp;&nbsp;</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00406409</span>&nbsp;<span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">ebp</span><span class="hl_char">+</span>var_4C<span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">0040640C</span>&nbsp;<span class="hl_function"><b>call</b></span>&nbsp;&nbsp;&nbsp;&nbsp;Classes<span class="hl_char">:</span><span class="hl_char">:</span>TThread<span class="hl_char">:</span><span class="hl_char">:</span>SetPriority<span class="hl_char">(</span>Classes<span class="hl_char">:</span><span class="hl_char">:</span>TThreadPriority<span class="hl_char">)</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li>        </ol>
    </div>
</div></div>
<br><br><br>2) IOPORT.DLL - не реальная длл а user data file, после чтения первих 10 бт проверяет первую и последнюю букву (F, y) в сигнатуре файла &quot;Forsunky&quot;    <img src="img/smilies/s1.gif" alt="">)<br><br>3) на главном окне - два таймера, но у второго нету обработчика. А 1й  - неясно как запукаеться (по умолчанию у него Enabled = False)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249136&amp;user=14629&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=4" class="addthx" data-post="249136"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Nabu[/b]','')">Nabu</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 25.3 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.53'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1034">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 10:10 <br><script type="text/javascript">QU('Nabu','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nabu" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<I>SER[G]ANT пишет:<br>При чем тут производительность железа, если там установлен таймер ? 60 секунд они и в Африке 60 секунд. </I><br>В том то и дело как установлен  этот таймер. Пару раз мне встречалось такое, что авторы программ использовали алгоритмы, которые зависели от производительности.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249138&amp;user=1034&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=5" class="addthx" data-post="249138"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 464thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 10:55 <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>SergX пишет:<br>На ноутах при нажатии на кнопку “Start”, тест который должен идти 60сек доходит до 100% за 15-20сек при этом и частота импульсов левая…  </I><br><b>SER[G]ANT</b>и <b>sendersu</b> вы тесты проводили на ноутах или на стационарных?
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=249141&amp;user=17432&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=6" class="addthx" data-post="249141"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]SergX[/b]','')">SergX</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 226.0 (наставник), 67thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=11974">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 12:17 &middot; Поправил: SergX <br><script type="text/javascript">QU('SergX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SergX" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>Nabu пишет:<br>Время у меня меньше одной секунды Но при запуске программа ругалась из-за не подсоединения блока. </I><br>Просто у тебя COM порта нету. Забыл об этом предупредить. Порт как устройство нужен для работы проги, но подключено ли что-то не важно.<br><br><I>sendersu пишет:<br>Попробуйте уменьшить прио хотя б до простого tpHigher (4):</I><br>спс, попробую. это я не заметил.<br><br><I>sendersu пишет:<br>IOPORT.DLL - не реальная длл а user data file, после чтения первих 10 бт проверяет первую и последнюю букву (F, y) в сигнатуре файла &quot;Forsunky&quot; </I><br>Это я видел, потом прога догружает остальное и что-то сним делает. Пока что не разобрался, запутано слишком. Обращение к IOPORT.DLL есть всегда перед работой с портом. Думаю что там код который оно грузит, обрабатывает и выполняет. Скорее всего в IOPORT.DLL небольшая прога писаная на асме которая непосредственно и управляет портом, а интерфейс ей только передаёт настройки. Буду ковырять в этом направлении.<br><br><I>sendersu пишет:<br>А 1й  - неясно как запукаеться (по умолчанию у него Enabled = False) </I><br>Как запускается, тоже не понял, но этот таймер как-раз отвечает за завершение теста. Он сам себя выключает и вызывает обработчик кнопки &quot;СТОП&quot;. Но проблема не только в нём.<br><br><I>Nabu пишет:<br>В том то и дело как установлен  этот таймер. Пару раз мне встречалось такое, что авторы программ использовали алгоритмы, которые зависели от производительности. </I><br>Тут использован стандартный  VCL таймер самой Borland C++. Он убогий и может давать погрешность но не на столько...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249147&amp;user=11974&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=7" class="addthx" data-post="249147"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 12:36 &middot; Поправил: SVLab <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Имеются определенные различия в работе COM порта на 9х системах и на XP. Некоторые прямо бросаются в глаза. Например на 9х драйвер порта грузится при запуске системы всегда, независимо от того, подключено к порту что-нибудь или нет, а в XP, если при старте система ничего не находит, то и драйвер не грузится. Кто переходил с 9х на XP и имел внешний dial-up модем, с этим знакомы. Возможно, есть и другие, невидимые глазу различия, из-за чего на этой программе лезут всякие баги. Эта программа, судя по внешнему виду, предназначена для 9х, для XP вроде была версия, в названии которой прямо указывалась аббревиатура ХР.<br>То что прожка не проверяет наличие устройства при работе, возможно разрабы посчитали достаточным сообщение, выдаваемое при запуске, или при взломе поменяли лишний переход.<br>Ноуты вещь специфическая. Попробуй найти старый ноут с COM портом, который предназначался для работы с 9х, и там попробовать (на 9х).<br>А высокий приоритет ставится, скорее всего, для того, что бы повысить точность таймеров, дабы не мешали менее приоритетные события.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249149&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=8" class="addthx" data-post="249149"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Nabu[/b]','')">Nabu</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 25.3 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.53'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1034">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 12:55 <br><script type="text/javascript">QU('Nabu','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Nabu" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>SergX пишет:<br>Как запускается, тоже не понял, но этот таймер как-раз отвечает за завершение теста. Он сам себя выключает и вызывает обработчик кнопки &quot;СТОП&quot;. Но проблема не только в нём. </I><br>я ради интереса менял интервал таймера. Все оставалось так же. Но прогрессбар доходил до 98%, а потом было ожидание равное поставленному мной интервалу.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249150&amp;user=1034&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=9" class="addthx" data-post="249150"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]SergX[/b]','')">SergX</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 226.0 (наставник), 67thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=11974">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 13:05 &middot; Поправил: SergX <br><script type="text/javascript">QU('SergX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SergX" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
Сигнал на порт у меня есть на всех компах. На ноутах частота импульсов увеличена пропорционально ускорению времени прохождения теста. Пробовал тыкать в ноут карточку с дополнительными СОМ портами, разницы нет.<br><br><I>SVLab пишет:<br>для XP вроде была версия, в названии которой прямо указывалась аббревиатура ХР. </I><br>Да есть такая, с ней та же история. Подробностей не помню, но тоже на ноутах не работала нормально.<br><br><I>SVLab пишет:<br>То что прожка не проверяет наличие устройства при работе, возможно разрабы посчитали достаточным сообщение, выдаваемое при запуске, или при взломе поменяли лишний переход. </I><br>Прога вроде скачана с офф сайта и не ломана. Наличие устройства определить не возможно так как в нём нет никаких мозгов. Устройство состоит из 4-х полевиков которые получая сигнал от порта открываются и подают 12v на форсунки.<br><br><I>Nabu пишет:<br>Но прогрессбар доходил до 98%, а потом было ожидание равное поставленному мной интервалу. </I><br>Замечал не раз небольшую (2-6 сек) задержку на 98%. Значит этот таймер можно оставить в покое, проблема не в нём.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249152&amp;user=11974&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=10" class="addthx" data-post="249152"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 464thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 13:29 <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<I>SergX пишет:<br>Прога вроде скачана с офф сайта и не ломана </I><br><b>/*401DD0*/  PUSH 30<br>/*401DD2*/  PUSH 0049B592//Внимание!<br>/*401DD7*/  PUSH 0049B531//Данная версии программы не является зарегестрированной и не будет работать на данном компьютере!<br>/*401DDC*/  PUSH 0<br>/*401DDE*/  CALL &lt;JMP.&amp;USER32.MessageBoxA&gt;</b>
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=249153&amp;user=17432&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=11" class="addthx" data-post="249153"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 13:59 &middot; Поправил: ToBad <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Проверил на двух стационарных компах:<br>Athlon 64 X2 7750 (2.71Ггц), XP SP3 - оба теста в норме по времени, загрузка проца 40-50%.<br>Athlon 64 3000+ (1.81Ггц) , XP SP2 - загрузка проца от 98 при старте и падает до 80% под конец теста. Тест проходит на 10-15 секунд дольше, подвисает на 98%...<br><br>Ты не пробывал промониторить что идёт на ком порт? Может данные с ноутов вообще не посылаются?<br>А так найти место где стартует процесс и идёт первое переключение состояния DTR и протрейсить в файл до момента когда тест заканчивается. Ес-но сделать это на правильном и неправильном компе. Думаю там в основном циклы. В общем разницу думаю заметишь если программа не так работает. Но как мне кажется дело в ошибке расчёта интервалов между импульсами, а если в трейслоге ты это увидишь - то без труда найдёшь место ошибочного расчёта....<br><br>p.s. А как вам это?: <i class=x>Слишком большая скорость процессора! Данный класс работает только для процессоров до 4 млрд.герц!</i><br>До этого идёт расчёт интервалов для работы циклов, непосредственно перед установкой SetCommTimeouts.<br>Вот и ответ, есть ограничения в работе класса, автор что-то пытается вычислить, но ошибается, это сообщение никто не видит, но таймауты порта устанавливаются не правильно, из за этого на ноутах и быстрее....
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249154&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=12" class="addthx" data-post="249154"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 14:40 <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>ClockMan</b> совершенно прав, прога ломана.<br><br>По адресу 40159A есть переход который обходит сообщение: <i class=x>Слишком большая скорость процессора! Данный класс работает только для процессоров до 4 млрд.герц!</i><br>Если прыжок выполнить, то получаем сообщение и на любом компе программа пробегает секунд за 20... IOPORT.DLL - это скорее всего ключик привязки к компу.<br>Видимо сломали неплохо, но не учли то, что на некоторых компах появятся должно это сообщение. Нужно смотреть что и как считает на нормальных компах и на ноутах. То есть обрати внимание на адрес 4015DE где rdtsc. Видимо на мобильных платформах как то особенно работает и выдаёт некорректные результаты, либо автор далее что то закосячил... Думаю разгадка тут. В общем внимательно изучи работу sub_401544 и разницу работы sub_4015D8 на обычных процах и на мобильных.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249158&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=13" class="addthx" data-post="249158"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 14:42 &middot; Поправил: SVLab <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Если скачана с оффсайта и неломана, значит это демка, иначе зачем там мессадж по адресу 401dde<br>О, уже этот вопрос мусолится <img src="img/smilies/s1.gif" alt=""><br><br>Если там такое простое устройство, что нельзя проверить его подключение, каким боком тогда здесь другой мессадж по адресу 4076d7 &quot;Блок не найден! Проверьте правильность подсоединения блока и его питания!&quot;
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249159&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=14" class="addthx" data-post="249159"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 14:52 &middot; Поправил: ToBad <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>SergX</b> вот интересная ссылочка которая возможно прольёт свет на проблему: forum.ixbt.com/topic.cgi?id=26:38128<br>Например это интересный момент:<br><i class=x><u>забудьте Вы про rdtsc.<br>сказали же, что есть проблемы с синхронизацией на многоядерниках, и частота плавает при включенных Enhanced Intel SpeedStep Technology (EIST) / AMD Cool &#039;n&#039; Quiet.</u></i><br><br>p.s. Начинаю думать, что проблема не в кривом сломе, а в работе rdtsc на разных процах. Раз на остальных компах работает нормально и свои функции выполняет по словам топикстартера.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249161&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=15" class="addthx" data-post="249161"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 464thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 15:46 <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>SVLab пишет:<br>Если скачана с оффсайта и неломана, значит это демка </I><br>Ломаннная она с ниже перечисленного сайта качается демо без поддержки ком портов<img src="img/smilies/s1.gif" alt=""><br>cartest.nnov.ru/injector.htm
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=249167&amp;user=17432&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=16" class="addthx" data-post="249167"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 17:42 <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<b>ClockMan</b><br>Посмотрел сайт, есть там демка с COM портами cartest.nnov.ru/Injectordem.rar, но размер ее немного меньше. А вот той, что выложил <b>SergX</b>, не нашел.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249176&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=17" class="addthx" data-post="249176"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 18:12 <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
Он сказал, что прога работает на стационарных. Какая разница, где взял и кто ломал или не ломал. Речь о глюке, об ошибке которая только на мобильных платформах возникает. Кто хорошо понимает работу rdtsc на си и нюансы работы на мобильных платформах или хотя бы имеет ноут для теста - думаю без труда пофиксит....
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249185&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=18" class="addthx" data-post="249185"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 19:55 <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
То что прога работает на стационарах, никак не указывает на то, что она не была криво поломана. Отличие COM портов на ноутах может быть аппаратным, обычно уровни сигналов там не соответствуют стандарту RS232. <b>SergX</b>, конечно, говорил, что &quot;Наличие устройства определить не возможно так как в нём нет никаких мозгов&quot;, но зачем тогда сообщение &quot;Блок не найден! Проверьте правильность подсоединения блока и его питания!&quot;. По моему, для этого особые мозги устройству и ненужны, достаточно проверить уровни. На ноуте они могут быть другими, и хотя устройство подключено, программа просто его не видит, а из-за кривого взлома не выводит это сообщение. Ну эт так конечно, просто размышления. (Но то что уровни ноутбучных COM могут отличаться от стационарных, это точно).
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249193&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=19" class="addthx" data-post="249193"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 21:58 &middot; Поправил: ToBad <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<I><b>SVLab</b> пишет:<br>Но то что уровни ноутбучных COM могут отличаться от стационарных, это точно </I><br><b>SergX</b> говорил, что ставил внешнюю плату с портами, значит этот вариант исключён.<br>Фишка в том, что весь процесс при нормальных условиях должен занимать где то минуту, ибо играют роль продолжительность импульсов и время между ними. Со слов топикстартера ясно, что на ноутах всё работает так же, только за 20 секунд, то есть ускорено в 3 раза. Перед открытием порта и настройкой таймаутов идет проверка быстродействия машины (sub_4015D8), где за счёт ошибки rdtsc специфичной для мобильных платформ мы и получаем неверный расчёт в ходе которого всё происходит в 3 раза быстрее и естественно оборудование подключаемое на ком порт уже не воспринимает это.<br><br>p.s. В общем так получается, мы запоминаем значения вызвав функцию с инструкцией rdtsc, затем по адресу 401563 делаем секундную паузу sleep, затем ещё раз функу с rdtsc. Таким образом автор вычисляет на сколько изменился TSC (Time Stamp Counter) за секунду. Так или иначе проблема тут. У кого ещё остались сомнения - поменяйте интервал sleep в большую и меньшую сторону. Тут и ошибка про 4Ггц всплывёт, и проход за 15-20 секунд как на ноуте увидите на стационарном....<br><br>p.p.s. Пишу это сообщение, а сам думаю, нужно дату поста глянуть, может это 2007 оживили.... <img src="img/smilies/s5.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249198&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=20" class="addthx" data-post="249198"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 22:41 &middot; Поправил: SVLab <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
Но он не сказал, какую именно плату. Если там нет преобразователя уровней, ее порты ничем не будут отличаться от ноутбучных, а, вообще, много внешних COM эмуляторов, которые не работают с тем или иным оборудованием. Если б можно было подключить эту плату к стационарнику и проверить, тогда аппаратную проблему можно было бы точно исключить или подтвердить в зависимости от результата <img src="img/smilies/s1.gif" alt=""><br><br>Насчет rdtsc может ты и прав, но если б эта ошибка была именно и только в ноутбучных процессорах, она была бы где нибудь описана.<br><br>Ну если все от Sleep зависит, можно и в обратную сторону развернуть, чтобы на ноутах нормально работало?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249200&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=21" class="addthx" data-post="249200"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]Adminka[/b]','')">Adminka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23882">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 января 2010 23:50 &middot; Поправил: Adminka <br><script type="text/javascript">QU('Adminka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Adminka" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<I>ToBad пишет:<br>по адресу 401563 делаем секундную паузу sleep, затем ещё раз функу с rdtsc. Таким образом автор вычисляет на сколько изменился TSC (Time Stamp Counter) за секунду. Так или иначе проблема тут. У кого ещё остались сомнения - поменяйте интервал sleep в большую и меньшую сторону. </I><br><br>У меня на ноуте код этой функции (начинается по 401544) вообще не выполняется (ни при запуске, ни при нажатии кнопки), если только это прога не обламывает брейкпоинты, но она же их не обламывает. А ProgressBar, как у Nabu, мгновенно доходит до конца. На стационарном всё как положено, минуту, а на ноуте вот так, даже не за 15-20 сек, а вообще меньше чем за секунду.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249213&amp;user=23882&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=22" class="addthx" data-post="249213"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 00:49 <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<b>Adminka</b><br>А COM то у тебя на ноуте есть? Нету. То-то и оно. <img src="img/smilies/s1.gif" alt=""><br><br><b>ToBad</b><br>А не может ли быть проблема в том, что во время Sleep ноутбучный проц переводится в режим с пониженной тактовой частотой?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249221&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=23" class="addthx" data-post="249221"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Adminka[/b]','')">Adminka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23882">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 01:03 &middot; Поправил: Adminka <br><script type="text/javascript">QU('Adminka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Adminka" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<b>SVLab</b><br>Насколько я понимаю, вы с <b>ToBad</b> ещё не пришли к согласию, аппаратная это проблема или нет<img src="img/smilies/s1.gif" alt=""> Вы логично говорите, что COM-порта нет, но <b>ToBad</b> сказал, что ещё перед открытием порта проверяется быстродействие машины, поэтому мне показалось странным, что этот код не выполняется.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249222&amp;user=23882&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=24" class="addthx" data-post="249222"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 01:40 <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
<I><b>Adminka</b> пишет:<br>У меня на ноуте код этой функции (начинается по 401544) вообще не выполняется </I><br><br>Это интересно. Первый вызов должен из недр tformcreate выходить.<br>Посмотри заходит ли у тебя в 407658. Если заходит, то глянь на каком из двух прыжков (407685 или 40769B) идёт обход нужной функции, она ниже...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249231&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=25" class="addthx" data-post="249231"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 01:46 &middot; Поправил: ToBad <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<I><b>Adminka</b> пишет:<br>но ToBad сказал, что ещё перед открытием порта проверяется быстродействие машины </I><br><br>Я мог обмануть... <img src="img/smilies/s1.gif" alt=""> Первый вызов идёт после конфигурирования порта, установление таймаутов и т.д.<br>Если порта нет, то конечно туда не попадает. Но как я понимаю топикстартер и все остальные кто озабочен работой программы догадались проверять на ноутах с портом... )))<br><br><I><b>SVLab</b> пишет:<br>А не может ли быть проблема в том, что во время Sleep ноутбучный проц переводится в режим с пониженной тактовой частотой? </I><br><br>Вроде как вики грозится что нет: <i class=x><u>В современных процессорах Intel, счетчик TSC не зависит от использования технологий энергосбережения и увеличивается на 1 каждый такт, вне зависимости от того, работал ли процессор или находился в состоянии сна. В некоторых реализациях счетчики TSC могут иметь синхронные значения на многоядерной системе.</u></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249232&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=26" class="addthx" data-post="249232"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]Adminka[/b]','')">Adminka</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=23882">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 02:18 <br><script type="text/javascript">QU('Adminka','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Adminka" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
<I>SergX пишет:<br>Порт как устройство нужен для работы проги </I><br>Извините, надо было этот пост чуть раньше посмотреть.<br><br><b>ToBad</b><br>Если ещё актуально, то в 407658 заходит, обход функции на 407685, если убрать его и переход на &quot;слишком быстрый процессор&quot;, то выполняется за ~10 сек.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249235&amp;user=23882&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=27" class="addthx" data-post="249235"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 03:38 <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
Полез все-таки в гугль.<br>Здесь говорится об ошибке rdtsc, возникающей при переходе ноута в режим пониженного энергопотребления при выполнении sleep coding.derkeiler.com/Archive/Assembler/comp.lang.asm.x86/2004-11/0004.html<br>А вот официальная дока с багами Pentium M (в том числе rdtsc) download.intel.com/support/processors/mobile/pm/sb/25266532.pdf.<br>Есть такая же для Celeron M, а как с ноутбучными двухядерными, х.з.<br>Проскакивала инфа и о баге с rdtsc на некоторых двухядерных AMD
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249236&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=28" class="addthx" data-post="249236"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]ToBad[/b]','')">ToBad</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/702.gif" alt=""><br><span class=txtSm>Ранг: 450.3 (мудрец), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.67'>Активность: 0.2<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=702">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 03:55 &middot; Поправил: ToBad <br><script type="text/javascript">QU('ToBad','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ToBad" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
Не очень впечатляющая перспектива:<br><u><i class=x>There was an ACPI daemon that put the CPU into a low <br>power mode during the sleep( ) fcn. To test this, I recompiled the kernel <br>without ACPI support.</i></u><br>А в биосе поддержку ACPI нельзя отключить?<br><noindex><a href="http://support.microsoft.com/kb/896256" rel="nofollow" target="_blank">Может это поможет зафиксить?</a></noindex><br><noindex><a href="http://www.wasm.ru/forum/viewtopic.php?id=31072&amp;p=1" rel="nofollow" target="_blank">А ещё тут обсуждалось.</a></noindex><br>В общем нужно гуглить: rdtsc fix
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249237&amp;user=702&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=29" class="addthx" data-post="249237"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]SVLab[/b]','')">SVLab</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 133.4 (ветеран), 57thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.34'>Активность: 0.11<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4026">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 января 2010 04:20 <br><script type="text/javascript">QU('SVLab','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SVLab" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=2&amp;topic=15640&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
В биосе вроде нет, ядро надо менять. Но, возможно, проблема именно в процессоре.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=249238&amp;user=4026&amp;forum_n=2&amp;topic=15640&amp;page=0&amp;anchor=30" class="addthx" data-post="249238"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=2&amp;topic=15640&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=2&amp;topic=15640&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/red.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=2&sortBy=0&page=0.html"><b>Крэки, обсуждения</b></a> <b class=bulletHead>&#8212;&#8250;</b> Помогите пофиксить чужой баг (Borland C++)</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#31" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="2">
<input type="hidden" name="topic" value="15640">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=15640" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
