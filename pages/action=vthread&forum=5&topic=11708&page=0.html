<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Изменение длл - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Драсте. Сейчас долблюсь над одной прогой - error smart (версия 2.7.2861.900). Защита там не очень и сложная но я наткнулся на другую проблему. Мне надо изменить длл . В файле все изменил , но в памяти когда загружается дллка код">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a>, <a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Изменение длл</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 апреля 2008 12:15 <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Драсте. Сейчас долблюсь над одной прогой - error smart (версия 2.7.2861.900). Защита там не очень и сложная но я наткнулся на другую проблему. Мне надо изменить длл . В файле все изменил , но в памяти когда загружается дллка код остается первоначальным. Как бороться с этой заразой?<br>Прогу не получается выставить- огромная скотина.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186494&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=1" class="addthx" data-post="186494"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]HandMill[/b]','')">HandMill</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 222.2 (наставник), 115thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.14<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=4554">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 апреля 2008 13:12 &middot; Поправил: HandMill <br><script type="text/javascript">QU('HandMill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HandMill" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Лови на LoadLibrary (если этим методом происходит загрузка) из exe (тоесть вообще патчи exe, а не dll в файле, а сам exe уже будет патчить dll в памяти). Если же загрузка dll статическая - то патчи по импорту(тоесть базовая точка будет любая функция из таблицы импорта dll). Потом отсчитывай от места загрузки / адреса из таблицы импорта адрес того что ты там собираешься патчить. Тоесть идея состоит в том, что бы пропатчить ехе, а он уже в процессе будет изменять код dll. Ну и вот приблизительно что у тебя может получится:<br><br>                        call LoadLibraryA<br>          __exe:   jmp patch_place ; передаём управление на наш патч<br><br>xxxxxxxx<br><br>   patch_place:<br><br>   mov __exe, ORIGINAL_CODE ; восстанавливаем в ехе оригинальный код<br>   add eax, PATCH_ADDRESS ; получаем адрес места где собираемся вносить изменения<br>   mov dword ptr ds:[eax], PATCH_DATA  ; патчим нужное место столько раз, сколько тебе нужно<br>   mov dword ptr ds:[eax+4], PATCH_DATA  ; патчим нужное место столько раз, сколько тебе нужно<br>   sub eax, PATCH_ADDRESS ; восстанавливаем содержимое регистра eax<br>   jmp __exe ; передаём управление на оригинальный код<br><br>Быть может это изврат, но таким вот образом можно патчить и пакованные dll (например накрытые аспром) причём абсолютно без распаковки и в обход всяких там механизмов антиотладки(ессесно не крутых).<br>З.Ы.: а луче для новичка - сварганить search and replace patch - так долго думать не прийдётся пропатчилось оно или нет(лог покажет)
<br><br><font size="1"><i>-----<br>все багрепорты - в личные сообщения</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=186497&amp;user=4554&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=2" class="addthx" data-post="186497"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 апреля 2008 13:21 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<I>pycha пишет:<br>В файле все изменил , но в памяти когда загружается дллка код остается первоначальным. </I><br>Варианты:<br>1. Скорее всего ты промахнулся в файле. Менял что-то где-то не там.<br>2. Ты уверен, что в памяти осталось как было? Может быть это только отладчик так показывает. Проверь наверняка. В ольки грохни файл(ы) анализа (*.udd).<br>3. Теоретически код может &quot;перезаписываться&quot; по ходу выполнения программы. Проверить это просто - если секция кода НЕ имеет атрибут записи (как обычно), значит такого быть не может.<br>4. Ты уверен, что файл пропатчил вообще? Проверь в Hiew&#039;e или каком-нибудь дизасме.
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=186498&amp;user=410&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=3" class="addthx" data-post="186498"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 апреля 2008 22:01 &middot; Поправил: pycha <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
В файле я точно не промазал в Hdasm показывает что все пропатчено а адреса в файле точно такие как и в памяти . Ради чистоты эксперимента переимновал длл и переместил в другую папку. В памяти она всеравно была ( хоть и в папке не создалась)<br>Вот часть кода проги где идет вызов длл.<br>.text:0041A17E                 mov     eax, [esp+30h]<br>.text:0041A182                 push    eax<br>.text:0041A183                 lea     ecx, [esp+18h]<br>.<b>вызов на длл </b>text:0041A187     call    ds:?Compare@?&#036;CStringT@DV?&#036;StrTraitMFC_DLL@DV?&#036;ChTraitsCRT@D@ATL@@@@@A    TL@@QBEHPBD@Z ; ATL::CStringT&lt;char,StrTraitMFC_DLL&lt;char,ATL::ChTraitsCRT&lt;char&gt;&gt;&gt;::Comp    are(char const *)<br>.text:0041A18D                 test    eax, eax<br>.text:0041A18F                 jnz     short loc_41A1D3<br>.text:0041A191                 push    ecx<br>.text:0041A192                 lea     edx, [esp+18h]<br>.text:0041A196                 mov     ecx, esp<br>.text:0041A198                 mov     [esp+24h], esp<br>.text:0041A19C                 push    edx<br>.text:0041A19D                 call    ds:??0?&#036;CStringT@DV?&#036;StrTraitMFC_DLL@DV?&#036;ChTraitsCRT@D@ATL@@@@@ATL@@QA    E@ABV01@@Z ; ATL::CStringT&lt;char,StrTraitMFC_DLL&lt;char,ATL::ChTraitsCRT&lt;char&gt;&gt;&gt;::CStr    ingT&lt;char,StrTraitMFC_DLL&lt;char,ATL::ChTraitsCRT&lt;char&gt;&gt;&gt;(CStringT&lt;char,    StrTraitMFC_DLL&lt;char,ATL::ChTraitsCRT&lt;char&gt;&gt;&gt;::CStringT&lt;char,StrTraitM    FC_DLL&lt;char,ATL::ChTraitsCRT&lt;char&gt;&gt;&gt; const &amp;)<br>.text:0041A1A3                 push    1<br>.text:0041A1A5<br>.text:0041A1A5 loc_41A1A5:                             ; CODE XREF: .text:0041A12Aj<br>.text:0041A1A5                                         ; .text:0041A153j ...<br>.text:0041A1A5                 call    sub_41A3B0<br>.text:0041A1AA                 push    0<br>.text:0041A1AC                 push    0<br>.text:0041A1AE                 push    offset aApplicationReg ; &quot;Application registered!&quot;<br>.text:0041A1B3                 call    ?AfxMessageBox@@YGHPBDII@Z ; AfxMessageBox(char const *,uint,uint)<br>.text:0041A1B8                 mov     ecx, dword_455BCC<br>.text:0041A1BE                 mov     eax, [ecx]<br>.text:0041A1C0                 mov     edx, [ecx+1020h]<br>.text:0041A1C6                 mov     eax, [eax+164h]<br>.text:0041A1CC       <br>Как мне новичку легче будет найти нужный код в проге?<br><b>HandMill</b> З.Ы.: а луче для новичка - сварганить search and replace patch - так долго думать не прийдётся пропатчилось оно или нет(лог покажет) -<br>я смысл вродебы понял , переспрошу - попытатся найти индентичный код в ехе и его там изменить?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186537&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=4" class="addthx" data-post="186537"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Crawler[/b]','')">Crawler</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/4825.jpg" alt=""><br><span class=txtSm>Ранг: 216.9 (наставник), 85thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.15'>Активность: 0.31<span style='color:red'>&searr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=4825">Участник</a><br><font color=blue>X-Literator</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 апреля 2008 22:49 <br><script type="text/javascript">QU('Crawler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Crawler" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
ОМГ) какой ясный код )<br>А что за либа? Может, она вообще системная или mfc ))
<br><br><font size="1"><i>-----<br>Харе курить веники и нюхать клей, к вам едет из Америки бог Шива, и он еврей.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=186777&amp;user=4825&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=5" class="addthx" data-post="186777"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 апреля 2008 10:08 <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Ну что же, она не системная, лежит в подпапке Microsoft.VC80.CRT название msvcr80.dll путь к ней проходит через еще 2 длл одна из которых mfc80.dll
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186805&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=6" class="addthx" data-post="186805"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 апреля 2008 14:15 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>pycha</b> Вообще-то в полной Visual Studio 2005 их 2 - одна для 32-бит и вторая для 64-х
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186834&amp;user=4072&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=7" class="addthx" data-post="186834"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 апреля 2008 19:07 <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Я тебя видно не понял , к чему тут visual studio ? Эти файлы были в подпапке проги error smart или ты имееш ввиду что эта прога входила в комплект к VS?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186862&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=8" class="addthx" data-post="186862"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 апреля 2008 08:25 <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>pycha</b> Ты посмотри в PETools действительно ли DLL подгружена из папки программы или используется ее копия из Windows. Копия может храниться как в system32 так и в WinSxS. И вообще пачит системные длл - это изврат, пропатчи прогу.
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=186895&amp;user=3232&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=9" class="addthx" data-post="186895"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 апреля 2008 10:29 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>pycha</b><I>pycha пишет:<br>Я тебя видно не понял , к чему тут visual studio ? </I><br>  Я к тому, что нормальная dll весит  600 кило, но я у себя на диске видел у защищенной проги <br>  на 60 Кб и в импорте у нее оля зашита. Возможно и у тебя такая.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186918&amp;user=4072&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=10" class="addthx" data-post="186918"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 апреля 2008 13:31 <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Да спасибо, нашел. Ето системная msvcr80.dll в WinSxS.  И изменить ее можно только с другой ОС. Мне нужно изменить ее потомучто если просто меняеш прыжок то выкидывает мэсаг что прога зарегана, но прога так и остается не зарегистрированой. Или же я чтото не доглядел.<img src="img/smilies/s14.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186931&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=11" class="addthx" data-post="186931"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 апреля 2008 16:06 <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>pycha пишет:<br>Или же я чтото не доглядел </I><br>Уже лучше. Начинаешь соображать <img src="img/smilies/s1.gif" alt=""><br>На будущее, чтоб разговор складывался проще, ссылку на жертву и конкретные действия (патчил файл-такой-то по смещению такому-то).<br><br><I>pycha пишет:<br>если просто меняеш прыжок то выкидывает мэсаг что прога зарегана, но прога так и остается не зарегистрированой </I><br>Давай думай.<br>Вызывается func1, ты меняешь результат после выхода, а прога по прежнему ограничена.<br>Если меняешь значение в func1, то всё ок.<br><br>Что это означает?
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=186943&amp;user=410&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=12" class="addthx" data-post="186943"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2008 01:22 &middot; Поправил: pycha <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Вот именно вся проверка (как я понимаю) идет в длл файлах и если я не ошибаюсь то все системные .Изменение длл нужного эфекта не дало . Прогу иследую дальше. Не выставлял прогу ибо папка с установленой прогой весит 32 метра , сегодня наконец-таки (наконецто :s6<img src="img/smilies/s1.gif" alt="">догадался посмотреть на установщик, а он весит всего 2.3 метра. Вот собственно и он http://slil.ru/25724006 http://slil.ru/25724006  У меня медленный и не очень дешовый gprs поэтому я думаю что  меня поймут почему не вылажывал .
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186969&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=13" class="addthx" data-post="186969"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Rush[/b]','')">Rush</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 75.0 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.12'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1913">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2008 08:41 &middot; Поправил: Rush <br><script type="text/javascript">QU('Rush','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Rush" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>pycha</b><br>Ничего там менять не надо в системных длл. Проверка примитивная, можешь для самообучения кейген намутить (навскидку там все просто).<br><br>Вот здесь смотри регистр eax<br>.text:0041A103 mov     eax, [esp-0EC0h+RegCode]  - <b>серийник на имя</b><br>.text:0041A107 push    eax<br>.text:0041A108 lea     ecx, [esp-0EBCh+RegCode2]<br>.text:0041A10C call    ds:MFC80_1482<br>.text:0041A112 test    eax, eax<br>.text:0041A114 jnz     short loc_41A12C<br><br>Где-то выше генератор серийника от имени.<br><br>Интересно, с чего ты решил копаться в библе. Если не можешь по названию сообразить что за библа, то хотя бы в гугле поищи про нее по названию. Тогда понятно будет - копаться в самописной библе, в которой возможно находится защита или ты нарвался на одну из общеизвестных системных библиотек. Теоретически хитрый программер может зашить проверку в функи системных длл, но такого, по крайней мере, мне не встречалось.<br><br>R.&#036;. Посмотрел повнимательнее - там по ходу дела 3 варианта серийника (триал, полный и еще что-то) судя по количеству констант, от которых он генерится и количетсву проверок.<br>До кучи есть еще интересное место:<br>.text:0040D07D mov     eax, [esp+24h+arg_0]<br>.text:0040D081 setnle  bl<br>.text:0040D084 test    eax, eax - <b>вот здесь eax должно быть больше 2</b><br>.text:0040D086 jnz     short loc_40D0BA<br>В этой функе проверяется триал и т.д. Эта хрень запускается из многих мест в проге.<br>Вот тебе сколько задачек - разбирайся, отламывай, кейгень и т.д.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186976&amp;user=1913&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=14" class="addthx" data-post="186976"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]pycha[/b]','')">pycha</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.77'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=13503">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2008 11:01 &middot; Поправил: pycha <br><script type="text/javascript">QU('pycha','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=pycha" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Я просто увидел что в msvcr80.dll для того чтобы прога выкинула сообщение что она зарегана (чтобы не сработал проыжок 0041A18F ) в функции по адресу 78144В20 должен обнулятся еах, что собственно я хотел и сделать. Я всех системных длл не знаю, а темболее клон лежал в подпапке проги вот я и подумал что все происходит в нем<br>PS Так и не пойму зачем он там
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186987&amp;user=13503&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=15" class="addthx" data-post="186987"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 апреля 2008 12:36 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=11708.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>pycha</b> Ты просто промахнулся. Пропатчив msvcr80 ты отключил выдачу MessageBox в прогах скомпиленых на этой версии студии. А лежит он там - видимо у автора были проблемы с совместимостью и он победил их таким образом.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=186995&amp;user=4072&amp;forum_n=5&amp;topic=11708.html&amp;page=0&amp;anchor=16" class="addthx" data-post="186995"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Изменение длл</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#17" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="11708">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=11708" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
