<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>syser - а он еще нужен? - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="есть мысль себе в портфолио добавить хоть что то, что можно показать на паблик из всего что сделано или делается или будет делаться, почти ничего на паблик показывать нельзя вспомнил про Syser,его можно, могу восстановить соурсы">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55914'>Kybyx</a> (+2 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/mod.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=7&sortBy=0&page=0.html"><b>Оффтоп</b></a> <b class=bulletHead>&#8212;&#8250;</b> syser - а он еще нужен?</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=1.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=0.html">1</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=1.html">2</a> . <b>3</b> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=4.html">5</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=5.html">6</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=3.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 декабря 2016 00:08 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#1');return false;">#1</a> </span><div align=left><br>
есть мысль себе в портфолио добавить хоть что то, что можно показать на паблик<br>из всего что сделано или делается или будет делаться, почти ничего на паблик показывать нельзя<br>вспомнил про Syser,его можно, могу восстановить соурсы ядра дебагера, которое общее для Ring3 и Ring0<br>(кто помнит у Syser два дебагера, ring3 и ring0, знают все только ring0, про ring3 мало наверное кто помнит, он был бесплатен)<br>ну и сам Ring3 часть как рабочий дебагер, можно и всю Ring0, но мне это не интересно<br>ну и все конечно на гитхаб<br><br>собственно вопрос, а дальше это кому то интересно? подхватить,развивать итд, гуи дебагер для ядра еще живы ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=370403&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=1" class="addthx" data-post="370403"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 апреля 2017 15:41 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#2');return false;">#2</a> </span><div align=left><br>
добил закладки(табы)<br>удалил из тестов одну клаву<br>https://www.sendspace.com/file/f8kv57<br><br>попутно пришлось зарефакторить списки, стандартный std::list не умеет обратный итератор(по моему только констовый?),<br>да  и что бы использовать извращения с CONTAINIG_RECORD для списков(в стандартном не добраться, поля протектед итд), <br>все равно надо было это рано или поздно реализовывать<br>в итоге теперь можно использовать извращения вида<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>void</b></span>&nbsp;CWispTabWnd<span class="hl_char">:</span><span class="hl_char">:</span>RemoveTab<span class="hl_char">(</span>WISP_TAB_WND_ITEM&nbsp;<span class="hl_char">*</span>pTabItem<span class="hl_char">,</span>&nbsp;bool&nbsp;bDestroy<span class="hl_char">)</span></li><li class="hl_l1">{</li><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">std</span><span class="hl_char">:</span><span class="hl_char">:</span>list<span class="hl_char">&lt;</span>WISP_TAB_WND_ITEM<span class="hl_char">&gt;</span><span class="hl_char">:</span><span class="hl_char">:</span>iterator&nbsp;it&nbsp;<span class="hl_char">=</span>&nbsp;pTabItem<span class="hl_comment">; //???WTF can't compile</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TList<span class="hl_char">&lt;</span>WISP_TAB_WND_ITEM<span class="hl_char">&gt;</span><span class="hl_char">:</span><span class="hl_char">:</span>iterator&nbsp;it&nbsp;<span class="hl_char">=</span>&nbsp;CONTAINING_RECORD<span class="hl_char">(</span>pTabItem<span class="hl_char">,</span>&nbsp;TList<span class="hl_char">&lt;</span>WISP_TAB_WND_ITEM<span class="hl_char">&gt;</span><span class="hl_char">:</span><span class="hl_char">:</span>_List_val<span class="hl_char">,</span>&nbsp;_M_val<span class="hl_char">)</span><span class="hl_comment">; </span></li><li class="hl_l1">&nbsp;</li>        </ol>
    </div>
</div></div>
<br>такое же извращение с рефакторингом надо и для map контейнера сделать, но пока связываться с ним не хочу<br>он вроде для такого UB удаления только в функции отладчика используется, по гуи вроде не видно таких извратов<br><br>с этими оконными табами потерял почти два дня<br>основная ошибка все та же, переосмысливание закрученых условий, с первого раза не всегда правильно перевариваются в бошке<br><br><b>Добавлено спустя 3 минуты</b><br>я хз, может тему в основной топик двинуть ?))  будет ли это кому интересно в таком виде
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374548&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=2" class="addthx" data-post="374548"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=4554" title="15-04-2017 14:31, ранг:216.4" target="_blank">HandMill</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]HandMill[/b]','')">HandMill</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 222.2 (наставник), 115thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.14<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=4554">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 апреля 2017 17:30 <br><script type="text/javascript">QU('HandMill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HandMill" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#3');return false;">#3</a> </span><div align=left><br>
<I>reversecode пишет:<br>стандартный std::list не умеет обратный итератор(по моему только констовый?) </I><br>должен уметь:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">std</span><span class="hl_char">:</span><span class="hl_char">:</span>list<span class="hl_char">&lt;</span><span class="hl_function">int</span><span class="hl_char">&gt;</span><span class="hl_char">:</span><span class="hl_char">:</span>iterator&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;n<span class="hl_char">.</span><span class="hl_function">end</span><span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_char">-</span><span class="hl_char">-</span>i<span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>и std::list::rbegin тоже должен уметь работать как с const так и без<br><I>reversecode пишет:<br>я хз, может тему в основной топик двинуть ?)) будет ли это кому интересно в таком виде</I><br>по содержанию больше на блог похоже)
<br><br><font size="1"><i>-----<br>все багрепорты - в личные сообщения</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=374551&amp;user=4554&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=3" class="addthx" data-post="374551"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 апреля 2017 17:49 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#4');return false;">#4</a> </span><div align=left><br>
вот как раз проблема в том что список стл вроде как кольцевой, а итератор стл умеет только от конца или от начала<br><br>а в сисере он используетсяк к примеру от начала, а потом по условию или инкрементится либо декриментится на Н позиций<br>перепридумывать условие когда Н больше или Н меньше итд прыгать по разным типам итеров было лень<br><br>и вот с начала декремент  - и сразу ассерт<br><br>рипнул стл и упростил до десятка строк<br><br>ну да ну да, согласен, на блог по одной теме похоже, когда реверс надоест или закончится, можно будет закрыть ее<br><br><b>Добавлено спустя 12 часов 16 минут</b><br>столько уже сделано..743 кила сорсов и должно казаться что реверса только уменьшается... аннифига<br>окно edit и list кажется неподъемным,  а hexview тем более<br><br>добил тулбары<br>на них так же работают хинты<br>https://www.sendspace.com/file/4i71gx<br><br>всегда считал что операции сдвига имеют высший приоритет чем операции +-<br>оказывается нифига<br>(long long)a&lt;&lt;32+b<br>сначала 32+b, потом сдвиг<br>wtf ??<br><br>кстати китаезы видимо уже начинали сисер в 64 битку девелопить, зачатки встречаются, регистры 64 битные в тексте, итд<br>странно что забросили ...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374552&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=4" class="addthx" data-post="374552"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 апреля 2017 22:16 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#5');return false;">#5</a> </span><div align=left><br>
добавил меню<br>и исправил уже свой баг, хинты иногда валили приложение <br>https://www.sendspace.com/file/8pmx08<br><br>ошибка хинтов, неправильно понятый цикл по std::map контейнеру,<br>оказывается перебирая от начала до конца, и отправляя елемент контейнера на обработку,<br>другая функа могла удалить этот же елемент с контейнера, в итоге дальнейший инкремент в переборе валил приложение по ассерту стд мапа<br><br>присмотревшись еще раз в псевдокод рейса, понял что сначала нужно сохранить итератор а потом уже инкремент(postfix increment)<br><br>фигня конечно, но с кучей других условий этот момент мозг пропустил<br><br>вообще в реверсе стараешься держать общую картину, а не мелкие детали, иначе начинаешь тонуть в деталях и руки быстро опускаются<br>а вот уже добив все, можно и поразмыслить над деталями, оптимизациями, упрощениями<br><br><br>уже объем сорсов 782 кила, из которых только сама гуи 463 кила<br><br>основная ошибка в реверсе все та же.... сложно скрученые циклы и условия в рейсе<br>причем если смотреть в асм код, то все намного логичнее и понятнее, <br>поэтому приходится иногда переключаться в асм код и выстраивать для начала правильные циклы и условия<br>а потом уже копипастить и чистить код<br><br>это был бы самый нужный функционал в рейсе, если бы он умел выстраивать правильные логические условия и циклы....<br>но увы, точно знаю ильфак это оптимизировать не будет...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374632&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=5" class="addthx" data-post="374632"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 апреля 2017 19:53 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#6');return false;">#6</a> </span><div align=left><br>
добавил сплит окна, теперь появились табы цпу, регистров, стека, вотча итд<br>https://www.sendspace.com/file/cnoarz<br><br><b>Добавлено спустя 42 минуты</b><br>прикреплю картинку то что уже получается, а то запускать мало кому интересно<br><br><img src="http://rgho.st/7ms26CMHw/image.png" border="0" align="" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374644&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=6" class="addthx" data-post="374644"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=4554" title="20-04-2017 10:47, ранг:216.4" target="_blank">HandMill</a>, <a href="action=userinfo&user=2687" title="20-04-2017 13:26, ранг:207.3" target="_blank">void</a>, <a href="action=userinfo&user=41575" title="20-04-2017 17:13, ранг:18.1" target="_blank">shellstorm</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 19 апреля 2017 20:49 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#7');return false;">#7</a> </span><div align=left><br>
а кто нибудь знает где взять спецификацию по команде vpcext 1, 12h ?<br>сисер ее активно юзает в ядре, но на паблике че то не нахожу<br>причем не просто для детекта виртуалки, но и для вывода на екран итд
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374668&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=7" class="addthx" data-post="374668"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]hors[/b]','')">hors</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/31056.jpg" alt=""><br><span class=txtSm>Ранг: 136.0 (ветеран), 360thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.53'>Активность: 0.27<span style='color:red'>&searr;</span>0.14</span><br>Статус: <a href="action=userinfo&amp;user=31056">Участник</a><br><font color=blue>Qt Developer</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 апреля 2017 01:37 <br><script type="text/javascript">QU('hors','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=hors" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#8');return false;">#8</a> </span><div align=left><br>
<I>reversecode пишет:<br>а кто нибудь знает где взять спецификацию по команде vpcext 1, 12h ? </I><br><br>Нигде не взять. Так как на реальных процессорах такой команды нет и никогда не было(и никогда не будет). <br><br>Последовательности вида 0х0F/0х3F/??/??, которые по неведомым причинам дизассемблер IDA обзывает vpcext, используются для внутренних нужд в VirtualPC( в частности в BIOS).<br><br><I>reversecode пишет:<br>причем не просто для детекта виртуалки, но и для вывода на екран итд  </I><br><br>FACEPALM.JPG
<br><br><font size="1"><i>-----<br>http://ntinfo.biz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=374672&amp;user=31056&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=8" class="addthx" data-post="374672"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 апреля 2017 02:18 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#9');return false;">#9</a> </span><div align=left><br>
конь ты меня просто удивляешь<br>думаешь я не знаю что это за инструкции ? очевидно что знаю что это для емуляторов<br>это ихние инструкции<br><br>так вот эти инструкции явно используются в сисере для коммуникации с вируталкой, и не просто детекта окружения<br>а еще и для обновления екрана<br><br><br>вмваре еще понятна, там стандартные in/out port которые она перехватывает(хотя тоже сложновато найти спецификацию)<br>нашел только такое, и то считаю лажей<br>https://github.com/sysprogs/VirtualKD/blob/master/kdvm/vmwrpc64.asm<br><br>а вот  вирутал пс изобрел свои инструкции<br><br>вот и интересно стало, китаезы сисера разреверсили виртуал пц что бы использовать его возможности на все 100<br>или есть спецификация ?<br><br>очевидно что третье, им кто то дал эту спецификацию
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374673&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=9" class="addthx" data-post="374673"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=12867" title="20-04-2017 13:22, ранг:320.6" target="_blank">ntldr</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]ntldr[/b]','')">ntldr</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 369.8 (мудрец), 400thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.89'>Активность: 0.39<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=12867">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 апреля 2017 16:22 <br><script type="text/javascript">QU('ntldr','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ntldr" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#10');return false;">#10</a> </span><div align=left><br>
Поздравляю, это серьезное достижение.
<br><br><font size="1"><i>-----<br>PGP key <noindex><a href="https://diskcryptor.net/storage/new_key.asc" rel="nofollow" target="_blank">&lt0x1B6A24550F33E44A&gt</a></noindex></i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=374683&amp;user=12867&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=10" class="addthx" data-post="374683"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 апреля 2017 16:40 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#11');return false;">#11</a> </span><div align=left><br>
используется в сисере для обновления экрана в виртуал пц<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000677DE</span>&nbsp;<span class="hl_number">8B</span>&nbsp;<span class="hl_number">44</span>&nbsp;<span class="hl_number">24</span>&nbsp;<span class="hl_number">30</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">esp</span><span class="hl_char">+</span><span class="hl_number">2Ch</span><span class="hl_char">+</span>x<span class="hl_char">]</span></li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000677E2</span>&nbsp;<span class="hl_number">8B</span>&nbsp;<span class="hl_number">5C</span>&nbsp;<span class="hl_number">24</span>&nbsp;<span class="hl_number">34</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ebx</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">esp</span><span class="hl_char">+</span><span class="hl_number">2Ch</span><span class="hl_char">+</span>y<span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000677E6</span>&nbsp;<span class="hl_number">8B</span>&nbsp;<span class="hl_number">4C</span>&nbsp;<span class="hl_number">24</span>&nbsp;<span class="hl_number">38</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ecx</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">esp</span><span class="hl_char">+</span><span class="hl_number">2Ch</span><span class="hl_char">+</span>_cx<span class="hl_char">]</span></li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000677EA</span>&nbsp;<span class="hl_number">8B</span>&nbsp;<span class="hl_number">54</span>&nbsp;<span class="hl_number">24</span>&nbsp;<span class="hl_number">3C</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">edx</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span><span class="hl_registr">esp</span><span class="hl_char">+</span><span class="hl_number">2Ch</span><span class="hl_char">+</span>_cy<span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000677EE</span>&nbsp;<span class="hl_number">0F</span>&nbsp;<span class="hl_number">3F</span>&nbsp;<span class="hl_number">01</span>&nbsp;<span class="hl_number">12</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vpcext&nbsp;&nbsp;</span><span class="hl_number">1</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">12h</span></li>        </ol>
    </div>
</div></div>
<br><br>для детекта <br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00067830</span>&nbsp;BB&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">00</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ebx</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">0</span></li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00067835</span>&nbsp;B8&nbsp;<span class="hl_number">01</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">00</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">eax</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">1</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">0006783A</span>&nbsp;<span class="hl_number">0F</span>&nbsp;<span class="hl_number">3F</span>&nbsp;<span class="hl_number">07</span>&nbsp;<span class="hl_number">0B</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vpcext&nbsp;&nbsp;</span><span class="hl_number">7</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">0Bh</span></li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">0006783E</span>&nbsp;<span class="hl_number">85</span>&nbsp;<span class="hl_function"><b>DB</b></span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>test</b></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">ebx</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">ebx</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00067840</span>&nbsp;<span class="hl_number">75</span>&nbsp;<span class="hl_number">07</span><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="hl_function"><b>jnz</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>short</b></span>&nbsp;loc_67849</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00067842</span>&nbsp;C6&nbsp;<span class="hl_number">05</span>&nbsp;<span class="hl_number">84</span>&nbsp;<span class="hl_number">5A</span>&nbsp;<span class="hl_number">16</span>&nbsp;<span class="hl_number">00</span>&nbsp;<span class="hl_number">01</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>mov</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_VMPC_byte_165A84<span class="hl_char">,</span>&nbsp;<span class="hl_number">1</span></li>        </ol>
    </div>
</div></div>
<br><br><b>Добавлено спустя 4 часа 12 минут</b><br>раз уж зашла речь про прорисовку, расскажу подробнее про сисер<br><br>для этого используется отдельный драйвер, 26кил в бинаре(десяток простых функций)<br>итак начало<br>манипуляции с cr0, помоему пейджинг отключается и <br>1) хучится ZwSetSystemInformation<br>2) хучится ZwLoadDriver<br>включается обратно пейджинг<br>3) ставится PsSetLoadImageNotifyRoutine<br>done<br><br>--------<br>в новой ZwSetSystemInformattion ловится SystemLoadGdiDriverInformation<br>получают имя дисплей драйвера через (L&quot;\Device\Video0&quot;, L&quot;InstalledDisplayDrivers&quot;;)<br>и дальше хучится функция на +10 смещние (EntryPoint) в найденом дисплей драйвере<br>*(a2 + 0x10) = New_EntryPoint;<br>done<br>----<br>в этой новой хук функции EntryPoint, хучатся<br>DrvDisablePDEV<br>DrvEnableSurface<br>DrvGetDirectDrawInfo<br>DrvEnableDirectDraw<br>DrvEnablePDEV<br>done<br>----------<br>в новой DrvEnableDirectDraw хучится какая то Flip функа<br>done<br>---------<br>в новой ZwLoadDriver ловится \Device\DXGKrnl и хучится IRP_MJ_INTERNAL_DEVICE_CONTROL<br>done<br>-------<br>в новой IRP_MJ_INTERNAL_DEVICE_CONTROL, хучится DXGKrnl-&gt;DxgkInitialize <br>по if ( v5 == 0x23003F &amp;&amp; v3 == 4 )<br>done<br>--------<br>в новой DxgkInitialize хучатся<br>DxgkDdiSetVidPnSourceAddress<br>DxgkDdiCreateAllocation<br>DxgkDdiDestroyAllocation<br>DxgkDdiSetVidPnSourceVisibility<br>done<br>-----<br><br><br>все сделано, в хуках уже получаем доступ к видео ресурсам ака линейной памяти<br><br><b>Добавлено спустя 4 часа 51 минуту</b><br>лень уже гуглить,<br>кто нибудь может знает <br>юзаю в мейкфайле очистку объектов<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">clean<span class="hl_char">:</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del&nbsp;<span class="hl_char">/</span>f&nbsp;<span class="hl_char">/</span>q&nbsp;<span class="hl_char">$</span><span class="hl_char">(</span>OBJS<span class="hl_char">)</span>&nbsp;syser<span class="hl_char">.</span>exe&nbsp;syser<span class="hl_char">.</span>pdb</li>        </ol>
    </div>
</div></div>
<br>так вот если все файлы есть, то все удаляетя без предупреждений<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del&nbsp;<span class="hl_char">/</span>f&nbsp;<span class="hl_char">/</span>q&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>strmem<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>sysdep<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>cmdparser<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>handle<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>fileio<span class="hl_char">.</span>obj</li><li class="hl_l1">&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>fileiont<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>imagefile<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>compress<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>pagemem<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>polyfs<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span></li><li class="hl_l0">pefile<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>symbol<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>debugger<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>x86debugger<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>sdw</li><li class="hl_l1">in32<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>utility<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispdraw<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispfont<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispdib<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispdc<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span></li><li class="hl_l0">wispdrawobj<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispbase<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispbasewnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisptipwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisp</li><li class="hl_l1">button<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispstatic<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispprogress<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispsoftkeyboard<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisptoolbar<span class="hl_char">.</span>obj&nbsp;&nbsp;W</li><li class="hl_l0">isp<span class="hl_char">\</span>wisptabwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispmultitabview<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispform<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispcolorstrwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisptestw</li><li class="hl_l1">nd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispradiobox<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispcheckbox<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispsplitwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispmenu<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispm</li><li class="hl_l0">sgbox<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisplist<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispedit<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispconsolewnd<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>mainframe<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSys</li><li class="hl_l1">er<span class="hl_char">\</span>multicodeview<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>multidataview<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>watchlist<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>stackwatchlist<span class="hl_char">.</span>obj</li><li class="hl_l0">WispSyser<span class="hl_char">\</span>consolewnd<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>terminalwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>syserui<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>systemexplorer<span class="hl_char">.</span>obj</li><li class="hl_l1">WispSyser<span class="hl_char">\</span>fpuregisterlist<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>sseregisterlist<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>genereglist<span class="hl_char">.</span>obj&nbsp;&nbsp;Ring3<span class="hl_char">\</span>wispapp<span class="hl_char">.</span>obj</li><li class="hl_l0">&nbsp;&nbsp;Ring3<span class="hl_char">\</span>winwisp<span class="hl_char">.</span>obj&nbsp;&nbsp;Ring3<span class="hl_char">\</span>syser<span class="hl_char">.</span>obj&nbsp;syser<span class="hl_char">.</span>exe&nbsp;syser<span class="hl_char">.</span>pdb</li>        </ol>
    </div>
</div></div>
<br><br>если же еще раз запустить очистку<br>то ловим ошибки, причем ошибки не на все файлы, а выборочно на несколько<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;del&nbsp;<span class="hl_char">/</span>f&nbsp;<span class="hl_char">/</span>q&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>strmem<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>sysdep<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>cmdparser<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>handle<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>fileio<span class="hl_char">.</span>obj</li><li class="hl_l1">&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>fileiont<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>imagefile<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>compress<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>pagemem<span class="hl_char">.</span>obj&nbsp;&nbsp;<span class="hl_function">Code</span><span class="hl_char">\</span>polyfs<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span></li><li class="hl_l0">pefile<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>symbol<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>debugger<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>x86debugger<span class="hl_char">.</span>obj&nbsp;&nbsp;EXEAnalyzer<span class="hl_char">\</span>sdw</li><li class="hl_l1">in32<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>utility<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispdraw<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispfont<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispdib<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispdc<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span></li><li class="hl_l0">wispdrawobj<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispbase<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispbasewnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisptipwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisp</li><li class="hl_l1">button<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispstatic<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispprogress<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispsoftkeyboard<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisptoolbar<span class="hl_char">.</span>obj&nbsp;&nbsp;W</li><li class="hl_l0">isp<span class="hl_char">\</span>wisptabwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispmultitabview<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispform<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispcolorstrwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisptestw</li><li class="hl_l1">nd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispradiobox<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispcheckbox<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispsplitwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispmenu<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispm</li><li class="hl_l0">sgbox<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wisplist<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispedit<span class="hl_char">.</span>obj&nbsp;&nbsp;Wisp<span class="hl_char">\</span>wispconsolewnd<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>mainframe<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSys</li><li class="hl_l1">er<span class="hl_char">\</span>multicodeview<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>multidataview<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>watchlist<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>stackwatchlist<span class="hl_char">.</span>obj</li><li class="hl_l0">WispSyser<span class="hl_char">\</span>consolewnd<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>terminalwnd<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>syserui<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>systemexplorer<span class="hl_char">.</span>obj</li><li class="hl_l1">WispSyser<span class="hl_char">\</span>fpuregisterlist<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>sseregisterlist<span class="hl_char">.</span>obj&nbsp;&nbsp;WispSyser<span class="hl_char">\</span>genereglist<span class="hl_char">.</span>obj&nbsp;&nbsp;Ring3<span class="hl_char">\</span>wispapp<span class="hl_char">.</span>obj</li><li class="hl_l0">&nbsp;&nbsp;Ring3<span class="hl_char">\</span>winwisp<span class="hl_char">.</span>obj&nbsp;&nbsp;Ring3<span class="hl_char">\</span>syser<span class="hl_char">.</span>obj&nbsp;syser<span class="hl_char">.</span>exe&nbsp;syser<span class="hl_char">.</span>pdb</li><li class="hl_l1">Не&nbsp;удается&nbsp;найти&nbsp;L<span class="hl_char">:</span><span class="hl_char">\</span>syser<span class="hl_char">\</span>Syser_src<span class="hl_char">\</span>source<span class="hl_char">\</span><span class="hl_function">Code</span><span class="hl_char">\</span>strmem<span class="hl_char">.</span>obj</li><li class="hl_l0">Не&nbsp;удается&nbsp;найти&nbsp;L<span class="hl_char">:</span><span class="hl_char">\</span>syser<span class="hl_char">\</span>Syser_src<span class="hl_char">\</span>source<span class="hl_char">\</span>EXEAnalyzer<span class="hl_char">\</span>pefile<span class="hl_char">.</span>obj</li><li class="hl_l1">Не&nbsp;удается&nbsp;найти&nbsp;L<span class="hl_char">:</span><span class="hl_char">\</span>syser<span class="hl_char">\</span>Syser_src<span class="hl_char">\</span>source<span class="hl_char">\</span>Wisp<span class="hl_char">\</span>utility<span class="hl_char">.</span>obj</li><li class="hl_l0">Не&nbsp;удается&nbsp;найти&nbsp;L<span class="hl_char">:</span><span class="hl_char">\</span>syser<span class="hl_char">\</span>Syser_src<span class="hl_char">\</span>source<span class="hl_char">\</span>WispSyser<span class="hl_char">\</span>mainframe<span class="hl_char">.</span>obj</li><li class="hl_l1">Не&nbsp;удается&nbsp;найти&nbsp;L<span class="hl_char">:</span><span class="hl_char">\</span>syser<span class="hl_char">\</span>Syser_src<span class="hl_char">\</span>source<span class="hl_char">\</span>Ring3<span class="hl_char">\</span>wispapp<span class="hl_char">.</span>obj</li><li class="hl_l0">Не&nbsp;удается&nbsp;найти&nbsp;L<span class="hl_char">:</span><span class="hl_char">\</span>syser<span class="hl_char">\</span>Syser_src<span class="hl_char">\</span>source<span class="hl_char">\</span>syser<span class="hl_char">.</span>exe</li>        </ol>
    </div>
</div></div>
<br><br>вот и вопрос, а чего ругается выборочно ? файлов то уже никаких нет, и del мог бы ругнуться абсолютно на все файлы<br>вообщем мелкософт меня удивляет
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374684&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=11" class="addthx" data-post="374684"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=12867" title="24-04-2017 14:02, ранг:321.6" target="_blank">ntldr</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]spinz[/b]','')">spinz</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.0 (постоянный), 31thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.72'>Активность: 0.09<span style='color:green'>&nearr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=22831">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 апреля 2017 06:26 &middot; Поправил: spinz <br><script type="text/javascript">QU('spinz','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=spinz" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#12');return false;">#12</a> </span><div align=left><br>
<I>reversecode пишет:<br>манипуляции с cr0, помоему пейджинг отключается и<br>1) хучится ZwSetSystemInformation<br>2) хучится ZwLoadDriver<br>включается обратно пейджинг </I><br><br>зачем пейджинг то отключать!?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374698&amp;user=22831&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=12" class="addthx" data-post="374698"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 апреля 2017 06:40 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#13');return false;">#13</a> </span><div align=left><br>
да пардон, не пейджинг, а манипуляция с битом WP cr0<br><br><b>Добавлено спустя 15 часов 25 минут</b><br>добил консольку<br><img src="http://rgho.st/7KR5RmPdr/image.png" border="0" align="" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=374699&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=13" class="addthx" data-post="374699"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=40990" title="23-04-2017 00:52, ранг:91.8" target="_blank">difexacaw</a>, <a href="action=userinfo&user=41575" title="25-04-2017 17:08, ранг:18.8" target="_blank">shellstorm</a>, <a href="action=userinfo&user=2777" title="26-04-2017 01:22, ранг:504.2" target="_blank">daFix</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 29 апреля 2017 23:14 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#14');return false;">#14</a> </span><div align=left><br>
<img src="http://rgho.st/6DxyypbcH/image.png" border="0" align="" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375132&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=14" class="addthx" data-post="375132"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=4554" title="30-04-2017 07:55, ранг:216.4" target="_blank">HandMill</a>, <a href="action=userinfo&user=40990" title="30-04-2017 08:12, ранг:95.5" target="_blank">difexacaw</a>, <a href="action=userinfo&user=41575" title="30-04-2017 18:23, ранг:22.1" target="_blank">shellstorm</a>, <a href="action=userinfo&user=24946" title="30-04-2017 19:02, ранг:201.2" target="_blank">DimitarSerg</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 апреля 2017 21:25 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#15');return false;">#15</a> </span><div align=left><br>
<b>reversecode</b> не стесняйтесь писать подробности, сколько сделано, сколько осталось, какие возникали трудности и на какие натыкались ошибки. думаю не один я читаю с интересом ваши комментарии по поводу разбора sysera. <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375177&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=15" class="addthx" data-post="375177"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=24946" title="30-04-2017 19:02, ранг:201.2" target="_blank">DimitarSerg</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 апреля 2017 22:09 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#16');return false;">#16</a> </span><div align=left><br>
так я раньше спрашивал, какие подробности интересуют итд, все промолчали, никому ничего не интересно
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375178&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=16" class="addthx" data-post="375178"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 апреля 2017 22:17 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#17');return false;">#17</a> </span><div align=left><br>
<I>reversecode пишет: какие подробности интересую </I><br><br>Что разобрано полностью, что осталось, какие сложности в разборе какого то класса\структуры, ляпы и тому подобное, в общем новости с фронта.<br>Ps. Здесь идиотское ограничение на оффтом, в основном форуме можно сколько угодно гадить, а в оффтопе ни-ни, нужно еще заслужить, а многие просто молча листают, по принципу нечего сказать - незачем дергать человека, ждем когда автор сам соизволит. <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375179&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=17" class="addthx" data-post="375179"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 мая 2017 00:26 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#18');return false;">#18</a> </span><div align=left><br>
странно я думал в офтопе ранг не засчитывается, а флудить можно сколько угодно...<br>в любом случае, кому что то нужно, лс не ограничена<br>многие по началу в лс интересовались, а будет ли 64 версия...<br><br>некоторые посоветовали забросить нахрен)) есть дела и поважнее...<br><br>что рассказывать, сложности всегда одни и те же<br>сложное раскуривание лапши циклов и гоуту которые выдает рейс, если бы не они, реверс был бы сказкой<br>вот один из примеров по окну хексвью что добивал на днях <br>к примеру<br>вот из рейса <noindex><a href="https://pastebin.com/fmLg1khv" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br>а это уже причесал и работает <noindex><a href="https://pastebin.com/1rmxbu1L" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br>и такого же качества и весь остальной код<br><br>много функционала восстанавливается для полноценности, но не тестируется на правильность, поскольку не используется вообще<br><br>ну вот есть к примеру базовый класс ядра гуи, в версии утилит для ядреного дебагера, в нем есть три функци для регистрации/удаления в таскбаре,(кто юзал сисер rin0 должен знать как его утилита ring3 висит в таскбаре)<br>хотя в ring3 дебагера и тем более ring0 версии этого класса ясное дело таких функций нет, их вырезал компилер как неиспользуемые<br><br>или например в версии ring0, этот базовый класс гуи имеет функции копирования буфера на экран и с экрана,<br>а так же сохранения всего экрана в bmp<br><br>вот на такие моменты как восстановление полностю всех функций класса иногда тратиться больше времени,<br>поскольку нужно иногда открыть до 6 IDA разных версий, и реверсить или просматривать есть ли по данному классу что то еще<br><br>зачем это делать ? причин разные<br>1) что бы иметь функционально законченную единицу, к которой уже не нужно возвращается для реверса итд, вникать в нее<br>2) бывает много полей класса с неизвестным значением и пониманием как его обозвать, когда функциональная единица(какой то класс) восстановлена по максимуму, функции некоторых полей приобретают понятное смысловое значение<br>3) если вдруг забрасываешь реверс, то всегда остается что то законченное, которое можно заюзать под свои нужны в чем то другом<br><br>и вот  по мере добавление другого функционала начинает работать функционал который ранее не был задействован и огребаешь новую порцию уже собственных багов<br><br><br>к примеру в сисере есть собственный шаблонный класс строки, для unicode и ansi<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">template<span class="hl_char">&lt;</span>class&nbsp;T<span class="hl_char">&gt;</span></li><li class="hl_l1">struct&nbsp;TString</li>        </ol>
    </div>
</div></div>
<br>с оператором доступа к буферу (до фикса)<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;operator&nbsp;T&nbsp;<span class="hl_char">*</span><span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;<span class="hl_function">const</span></li><li class="hl_l1">&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;T&nbsp;NullChar&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>m_pData<span class="hl_char">)</span>&nbsp;return&nbsp;m_pData<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NullChar<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;}</li>        </ol>
    </div>
</div></div>
<br><br>казалось бы фигня, что тут может не работать ? компилиться нормально, строки всегда выдаются<br><br>пока не словил баг на нулевом буфере)), строка не заполнялась, была пустой, а оператор выдавал ноль, а не указатель на нулевой буфер<br><br>как пофиксить функу, додумайте сами)) но рейс выдал верный вариант, я его на скорую руку набивал и не обратил внимание<br><br>21 апреля - 29 апреля, парился с самыми для меня казалось бы сложными классами элемента окна как окно редактирования и список,<br>они используется почти везде, регистры, стек вотчи, асм листинг, с++ соурс листинг, плюсик нажал а под пункт и раскрылся<br><br>к тому же при реверсе оказалось что этот класс окна может намного больше(заложен функционал) но в сисере в целом он нигде не используется, ни в одной из версий, и даже нет в утилитах<br><br>окно редактирования осилил за два дня, а вот с окном списка вывода...<br>было сложно, думал уже забросить все, и заняться другими делами..<br><br>в нем было пару просто больших по объему функций который рейс выдавал безумно большую портянку<br>и сам функционал этого класса окна работал на итераторах, и их прокручивания вперед назад, и кастами в -8 отрицательными значениями <br>восстановил и его, правда еще не все, но основной функционал уже работает<br>осталось добить ресайз столбцов, хотя как по мне не самая нужная штука именно сейчас<br><br>так же переписал списки, TList<br>оказывается в сисере они дореализовали свои операторы,<br>это прыжок на N елементов вперед или назад<br>и оператор доступа к списку как к массиву operator[](int) на основе этих прыжкой<br><br>вся реализация мне показалась подозрительной, и хоть все и работало<br>я решил набросать стресс тесты<br>и они показали какую то странность, прыжка на -1 элемент<br>список от нуля до размера по убыванию<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">9</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">8</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">7</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">6</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">5</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">4</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">3</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">2</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">0</span>&nbsp;<span class="hl_char">,</span></li>        </ol>
    </div>
</div></div>
<br>а это цикл от минус размера умноженного на два, до плюс размера умноженного на два<br>это все по оператору доступа<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_char">-</span><span class="hl_char">(</span>List<span class="hl_char">.</span>Size<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_char">+</span><span class="hl_number">1</span><span class="hl_char">)</span><span class="hl_char">*</span><span class="hl_number">2</span><span class="hl_comment">; i &lt; List.Size()*2; ++i)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf<span class="hl_char">(</span><span class="hl_quote">&quot;%d ,&quot;</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">*</span>List<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">9</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">8</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">7</span>&nbsp;&nbsp;<span class="hl_char">,</span><span class="hl_number">6</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">5</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">4</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">3</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">2</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">0</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">9</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">8</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">7</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">6</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">5</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">4</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">3</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">2</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">0</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">9</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">8</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">7</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">6</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">5</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">4</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">3</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">2</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">0</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span><span class="hl_char">,</span><span class="hl_number">1638028</span><span class="hl_char">,</span><span class="hl_number">1638028</span><span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span><span class="hl_number">1638028</span>&nbsp;<span class="hl_char">,</span></li>        </ol>
    </div>
</div></div>
<br>реверс проверял десятки раз, все верно<br>в оригинале в декомпилере оператор доступа <noindex><a href="https://pastebin.com/sw4uwkFv" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br>так что думаю ошибка в оригинальной версии списка... ну пока в гуи это никак не проявляется, пусть будет как есть<br><br>сегодня добил окно хекс вьюва..<br>потом сидел пытался раскурить баг с прокруткой, если от 0 адреса крутонуть обратно, то сдвигается весь вьюв на один байт<br>потом глянул в оригинальный последний сисер, а этот баг и там присуствует, ок, оставил как есть<br>сразу фиксить ошибки которые присутствуют и в оригинальной версии, не буду, может как нибудь потом<br><br><br><img src="http://rgho.st/8Y9dPXDkb/image.png" border="0" align="" alt=""><br><br>в целом универсальное ядро гуи для рисования можно сказать на 99% готово<br>можно его еще конечно добивать, по мелочам.. как например есть в утилитах класс Options<br>готовое окно которое по шаблону показывает опции, в нем можно указывать значения, (текстовые,числовые,выбрать  цвет(доп окно появляется) итд)<br>вообщем хороший готовый элемент для конфигов<br>пока в код не перекладывал, только в рейсе зареверсил, разобрал что куда и как называется<br><br>что нужно для уже готового дебагера<br>1) вытянуть окно дизасм листинга<br>2) разреверсить дизасм сисера<br>3) добить по мелочи управления между ядро дебага и гуи<br><br>периодически смотрю в версию ring0 не только самого гуи и его функционала, но и ядреной части,<br>не очень нравится, поскольку это не универсально, много асм хаков, которые на x64 неудобно будет портировать, либо вообще не портируются, надо будет с нуля придумывать<br>так же много всяких виндовых хаков<br>к примеру ищется шаблону (штук 15 вариаций функций) MiCopyOnWrite для хука<br><br>вообщем к чему я... про сисер в ring0 я пока точно не мечтаю<br>хочется добить ring3 уже до минимально рабочего функционала, и отдохнуть или заняться другими проектами<br><br>так же интерес по открытию соусов постепенно пропадает, умные люди отговорили<br>смысла нет,<br>1) мало кто поверит что это возможно зареверсить в таком качестве<br>2) толку от соурсов никакого, вон есть много примеров на гитхабе, и результат ноль,<br>ну реально, кто сам начал компилять и дорабатывать тот же IDR ?<br>3) за то почти убедили что лучше пытаться добить сисер до ring3 64 версии<br><br>так что я еще в раздумиях... мне больше нравится вариант продажи сорсов))<br>за сумму равносильную разработке с нуля, хотя кому он надо ? вон говна на гитхабе и так хватает<br><br>так что помечтаю о легком пиаре если удастся добить до версии ring3-x64<br><br>итого<br>общий объем соурсов уже, по папкам<br>Code 158.702 (работа с ФС, списки,строки, работа с памятью)<br>EXEAnalyzer   137.146 (дебаггер, работа с ПЕ файлом, сюда же надо будет реверсить дизасм)<br>Ring3 20.182 (виндовая часть гуи)<br>Wisp 656.463 (собственно сама универсальная гуи)<br>WispSyser 89.746 (сам гуи дебаггер, гуи елементы типа окна, вотч, регистров,  итд)<br>общий<br>1.062.239 байт<br><br>не самый большой из моих реверсов, к тому же еще не законченный<br>сравнил с несколькими done моими за последние два года<br>один 1671 K<br>другой 1979 К<br><br>так что сисеру надо догонять)))<br><br>вообще я выражаю уважения авторам сисера, под никами finaldoom и rocketwu , кажется так<br><br>я первый раз сисер нагуглил еще в 2004 году, когда лазил по форуму www.driverdevelop.com (<strike>уже помоему его нет</strike>, жив )) правда в приват ушел и дизайн сменил )<br><br>отличный был китай форум по системным вещам, правда часть на китайском<br>но через гугл транслейт можно было читать<br>а все системные вещи были на понятном языке С/C++ )))<br><br>так вот все чаще сталкиваюсь, что очень интересных, удобных, компактных, решений  было в те времена,<br>сейчас в эпоху опен сорса, больше говна чем таких классных разработок
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375186&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=18" class="addthx" data-post="375186"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=24257" title="01-05-2017 14:27, ранг:270.0" target="_blank">DenCoder</a>, <a href="action=userinfo&user=41575" title="02-05-2017 15:20, ранг:24.5" target="_blank">shellstorm</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 мая 2017 20:32 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#19');return false;">#19</a> </span><div align=left><br>
<I>reversecode пишет: странно я думал в офтопе ранг не засчитывается, а флудить можно сколько угодно... </I><br><br>Но сначала нужно нафлудить +20 к рангу, что является маразмом, а в ЛС лезть без каких то конструктивных предложений - зря отвлекать человека.<br><br><I>reversecode пишет: так же интерес по открытию соусов постепенно пропадает, умные люди отговорили<br>смысла нет, </I><br><br>В целом так и есть, большого смысла нет открывать, можно попробовать довести r3 до рабочего состояния и допилить поддержку x64, тогда вполне возможно что то заработать на поддержке или продать исходники.<br><br><I>reversecode пишет: толку от соурсов никакого, вон есть много примеров на гитхабе, и результат ноль,<br>ну реально, кто сам начал компилять и дорабатывать тот же IDR ? </I><br><br>C IDR немного сложнее, автор жив и адекватен, исправляет ошибки, прислушивается к реквестам, и не в обиду автору, у IDR ужасный код, по нему видно, что автор делал длительные перерывы, все это требует глубокого рефакторинга. Форк есть, но там всего лишь переложение c++ на delphi<br>https://github.com/delphifocus/IDR-by-tmcdos<br>У меня в планах на базе IDR написать плагин к IDA, препроцессор к рельсам, поскольку автор прямо сказал, что этим заниматься не будет.<br><br><I>reversecode пишет: сейчас в эпоху опен сорса, больше говна чем таких классных разработок  </I><br><br>Сейчас просто кода стало больше и больше любителей, поэтому качественный код банально тонет в куче говна.<br><br><I>reversecode пишет: так что помечтаю о легком пиаре если удастся добить до версии ring3-x64 </I><br><br>Сам отладчиком очень редко пользуюсь, но искренне надеюсь, что все у вас получится и труд принесет свои плоды.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375223&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=19" class="addthx" data-post="375223"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 мая 2017 20:56 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#20');return false;">#20</a> </span><div align=left><br>
отвлекание это когда над головой стоят)))<br><br>если человек отзывается, значит есть время<br>если молчит, значит занят<br><br>да мне дебагер тоже не нужен, сам им только вот начал пользоваться и то на ИДА<br>интересовала графическая мини гуи, для набивания себе всяких утилит,<br>но это была мечта далеких  2008 годов... спустя почти десять лет... но уже мечты другие <img src="img/smilies/s5.gif" alt=""><br><br>пока суть да дела, добил класс expression calc, для вычисления строковых выражений<br>ну как добил, ядро работает<br>осталось функции пустышки наполнить, типа простых операций, плюс, минус, умножить, итд логически<br>но это может потом, мне главное что бы можно было уже его подцеплять к ядру<br>пусть сложные выражения он еще не считает, но можно будет уже подцеплять другой код который через него обращается<br><br>класс развернулся в сказочную лапшу,я на него часто смотрел и грустил<br>но потому в одной из версий сисера нашел его в меньшей оптимизации, вообщем помогло понять что да как<br><br>зачем это нужно в сисере ?<br>нет, это не тот графический калькулятор<br>это калькулятор всего что можно ввести input строкой в дебагере,<br>к примеру в goto нужно перейти на какой то адрес, где адрес это значение в ECX регистре<br>значит просто вводим в окне goto слово eax , и вуаля, переходим на значение<br>или к примеру нужно ввести сложное выражение, eax+5<br>тоже самое, итд<br>такие же самые выражения можно вводить и для изменения регистров CPU( насколько я помню)<br>вообщем очень удобно<br><br><br>этого так не хватает в ИДА дебагере, часто приходится либо запоминать, либо лишний раз мышкой шевелить для копирования<br>а гоуту на сложное выражение так капец как часто нужно... но нету его в ИДА<br><br>PS<br>кстати еще за ночь добил ресайз столбцов в списке...<br><br><b>Добавлено спустя 6 минут</b><br><I>shellstorm пишет:<br>Сейчас просто кода стало больше и больше любителей, поэтому качественный код банально тонет в куче говна. </I><br><br>думаю нет, проблема в бизнесе который диктует условия<br>а условия простые, НУЖНО ЕЩЕ ВЧЕРА, ПОЭТОМУ СДЕЛАЙТЕ УЖЕ ХОТЬ КАК НИБУДЬ
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375225&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=20" class="addthx" data-post="375225"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 мая 2017 22:27 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#21');return false;">#21</a> </span><div align=left><br>
<I>reversecode пишет: этого так не хватает в ИДА дебагере </I><br><br>В ida отладочный gui совсем примитивный, есть лишь базовые вещи, а все остальное делает черезжопными способами, в общем то и не удивительно, учитывая, что это вторичная часть, хорошо, что хоть какая то отладка есть.<br><br><I>reversecode пишет: а условия простые, НУЖНО ЕЩЕ ВЧЕРА, ПОЭТОМУ СДЕЛАЙТЕ УЖЕ ХОТЬ КАК НИБУДЬ  </I><br><br>Это всегда так было, просто сейчас порог вхождения стал ниже. Не очень давно один разработчик проводил исследование, распарсил SO и наглядно показал, что писать софт можно вообще практически не разбираясь в программировании, а тупо собирать куски кода по SO и с минимальным допилом можно собрать вполне рабочие приложение.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375233&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=21" class="addthx" data-post="375233"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 мая 2017 00:21 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#22');return false;">#22</a> </span><div align=left><br>
по слухам грядет ида64 нейтив, где будет много плюшек...<br><br><br>реверсю в иде исключительно отладочное ядро ring0, не гуи,что бы понять всю архитектуру, и выбрать путь для более быстрой реализации минимального рабочего прототипа отладчика.. а то уже начинает утомлять<br><br>до этого было полностью разобрано ядро отладки ring3, но остались в пробелах много неиспользуемых полей, и соотвественно не мог придумать им названия<br><br>разобрав ring0 отладочное ядро, все пробелы заполнились, многие поля задействованы исключительно в ring0<br><br>хз почему, некоторые моменты можно было реализовать и в ring3, видимо китаезы ring3 скомпилили исключительно как демку для демонстрации возможностей, основной продукт был именно ring0<br><br><br>я уже так проникся дебаггерами(раньше они мне были побоку)<br>что удивляюсь почему их так мало в гугле<br>там всего то красивая мордочка, остальное обвязка вокруг нескольких winapi, пиши нехочу,... а все сидят и на ольку молятся )))<br><br>так же почти заочно(оно то еще не работает)  полюбил ядро отладки сисера)))<br>оно то уже на 90% вытянуто, если не считать дизасма итд по мелочам управления,<br>если дотяну окончательно, будет некоторый аля титан енжин, только в более приятном и компактном С++ варианте для своих нужд, правда нужд таких вряд ли будет)) отладкой то я не занимаюсь в целом<br><br>идой как дебагером начал пользоваться только в  во вот для отладки сисера, когда понял что компилять есть чем в консоли, а отлаживать фигвам<br>в линуксе как то почти 10 лет консольного гдб мне хватало что бы отлаживать проект любой сложности и объема... <br><br>смотрел на досуге титан и его презенташку на каком то реконе кажется, в бородатом году..<br>ну да, С шный говнокод в квадрате,<br>не..., как енжин он наверняка обалденный, много функциональный итд, и я в него еще позаглядываю что бы понять всякие скользкие моменты в реализации отдадчиков(может в сисере потом что то улучшу)<br>но я это сравниваю как некоторую либу boost, большая толстая для всех, так и титан... <br><br><br>по факту почти весь сисер построен вокруг этого своего енжина,<br>который управляется через текстовые команды, т.е. если бы нужен был дебагер а не гуи<br>можно было бы зареверсить енжин, и был бы типа текстовый дебагер уже давно готов<br><br>еще изучал зачем сисер патчит MiCopyOnWrite..<br>оказывается он ее не патчит<br>он ставит своим же енжином бряки на выполения на входе и выходе из этой функции в ядре<br>и на бряки выполняет свои хуки.. что то там с брекпоинтами... дальше уже не смотрел<br><br>так же увидел код где сисер вылавливает свой же имидж,и не дает ставить на себя собой же бряки <img src="img/smilies/s5.gif" alt=""> типа защита от отладки чтобы не ломали...<br><br>лицуху видел, но не вникал, понял что там под ксором какие то строки сидят<br><br>некоторые моменты заставили задуматься(большинство реверса на автомате, руки делают, голова не вникает)<br>например кроме хуков int1 и int3 итд<br>сисер ставит свой хук в idt на 14 вектор<br>типа ошибка страницы<br>после чего в обработчике сисер прокручивает по своему списку брек поинтов<br>и ищет отключеные брек поинты в этом списке и на них ставить какой то евент для своего отладочного ядра,<br>что бы потом на этот евент что то ловить и делать ... ЧТО делать ?<br><br>механизм вроде еще не задействован(я пока не нашел где юзается этот евент), это только в последнем сисере начали разрабатывать, смотрел в версии раннее, такого механизма вообще еще нет<br><br>вот стало интересно, для каких целей это могло было понадобится... ?<br>само собой,это только  в ring0
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375290&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=22" class="addthx" data-post="375290"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 мая 2017 13:32 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#23');return false;">#23</a> </span><div align=left><br>
<I>reversecode пишет: смотрел на досуге титан и его презенташку на каком то реконе кажется, в бородатом году.. </I><br><br>так из титана изначально никто не планировал делать отладчик, а делался он для написания распаковщиков, трейсеров, в общем мелкой дребедени, учитывая, что писался для конференции то качество соответствующие, сейчас хоть синячить перестал.<br><br><I>reversecode пишет: но я это сравниваю как некоторую либу boost, большая толстая для всех, так и титан.. </I><br><br>boost классная библиотека, не вся конечно, но половина точно нормальная, недавно с тоской думал о booste, std-11+, переписывая кучу сишного легаси, добрался до IDR. Вот с использованием современного стандарта код уменьшится где то на половину если не больше, один match-ер уберет портянки if-ов. Да и по качеству boost хорош, да и большая часть все равно войдет в стандарт, останутся лишь тяжеловесные либы за бортом.<br><br><I>reversecode пишет: вот стало интересно, для каких целей это могло было понадобится... ? </I><br><br>Это нужно смотреть wrk trap.asm.<br>Хотя можно пойти простым потем и глянуть в доке. <br>http://esec-lab.sogeti.com/static/publications/11-recon-virtdbg_slides.pdf<br>https://dev64.wordpress.com/2012/05/14/interrupts-exceptions-reference/#interrupt-14<br>INT14 (page fault) is used for catching memory breakpoints
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375325&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=23" class="addthx" data-post="375325"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 мая 2017 14:30 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#24');return false;">#24</a> </span><div align=left><br>
хех<br>что такое int14 я то знаю...))<br>и что титан енжин а не отладчик, это его уже недавно в x64dbg задействовали...<br><br>в лс подсказали, для расширения количества брекоинтов<br>https://www.codeproject.com/Articles/186230/Extending-windbg-with-Page-Fault-Breakpoints<br><br>странно только что сисер просматривает в обработчике, отключеные бп в своем списке<br>т.е. у него есть другие статусы бп, но смотрит он только на отключенные...<br>ну ладно, код то только девелопился, может не правильно выставили условие == на !=<br><br>поздно я до сисера добрался, поздно<br>автор разраб в далеком 2006 блог вел, и публиковал даже некоторые вырезки сорсов <br>http://web.archive.org/web/20070630094022/http://wuyanfeng.blog.zndev.com/blog.php?uid=9<br>что то еще гуглится как копии<br>http://www.voidcn.com/blog/iiprogram/article/p-4693568.html<br>http://www.xuebuyuan.com/1349012.html<br><br>некоторые функи как я понял по гуглу, стали легендарными<br>http://debugman.com/archiver/tid/2614<br><br>// http://wuyanfeng.blog.zndev.com/blog.php?do=showone&amp;uid=9&amp;type=blog&amp;itemid=432<br>// code by wuyanfeng<br>BOOL GetPEBOffset(ULONG* PEBOffset) <br>итд<br>они все еще есть в сисере, я на них так и вышел<br><br>но в сам блог уже не заглянуть, архива нет
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375329&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=24" class="addthx" data-post="375329"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=41575" title="03-05-2017 17:44, ранг:25.3" target="_blank">shellstorm</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 мая 2017 20:44 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#25');return false;">#25</a> </span><div align=left><br>
<I>reversecode пишет: может не правильно выставили условие == на != </I><br><br>учитывая как часто он падал в синьку то там и не такое может быть. <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375362&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=25" class="addthx" data-post="375362"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 мая 2017 18:18 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#26');return false;">#26</a> </span><div align=left><br>
это еще что, я пока пред последнюю реверсил(она у меня просто давно начата, и много по ней было сделано)<br>то такие чудеса встречались... типа функция сравнения байтов в памяти<br>memcmp(dst,src,len)<br>дальше по коду dst и len используются,  а src забыли... ))<br><br>вообщем в последней уже смотрел многое поправили,.. хотя пробовал по началу ею с сорсами отлаживать.. падает <br><br><br>сколько это я сутки или двое уже... дочищал ядро отладчика... избавился наконец то полностью от std::list, теперь все не сисеровской имплементации<br>вот бы еще до std::map добраться....<br>начал уже набивать функционал загрузки длл плагина отладчика  и загрузки файла для отладки... как <br><br>и тут меня черт дернул взяться опять за expcalc класс для вычисления выражений<br>и засел почти на сутки))<br>думаю фигня, добью хендлеры для операций<br>калькулятор простой, никаких аст и прочих поебений<br>банальный список, который набивается пробегая по тектосовй строке матвыражения<br>если встречается оператор то в список добавляется хендлер для вычисления операции<br>для каждого выражения выставлен приоритет<br>и дальше проходы по дереву пока все выражения не будут вычеслены для нулевого приоритета<br>потом для первого итд для 6 уровней<br><br>казалось бы все просто, но компилер заоптимайзил бегание по списку<br>а китаезы еще и реализовали свою функу в списке аля move<br>чем то похожынй на std шный, только логика другая<br>не к себе втягивать в данные<br>а наоборот експортировать их в другой контейнер от себя<br><br><br>вообщем вроде считает выражения... уможения сдвиги сложения итд<br>дай думаю побалуюсь с окном хексвью<br>начал вводить сложные выражения<br>а окно ввода туои сюдои прыгает <img src="img/smilies/s5.gif" alt=""><br>етить его за ногу<br>где то бага в в гуи окна редактирования... <br>прийдется перепроверять реверс...<br><br>а думал уже вот вот финал... начал подчищать дизасм...<br>обдумываю может попробовать его как то рипнуть не реверся... как то помню скайп лоадер рипал а потом отдельно запускал от скайпа для распаковки скайпа... ех... давно было.. 2006 год кажеться...<br><br>ах да,<br>хотелось уже ядро дебагера добить и увидеть всю его логику, может на начальном этапе для тестов другой какой дизасм цепонуть..<br><br>но кажеться там оно так глубоко зацеплено...<br>этот дизасм енжин и длины инструкций вперед назад считает,<br>и стек куда то что то отслеживает<br>и все это еще цветными строками прибито, т.е. енжин там как то вытягивает данные что бы цветами баловаться...<br><br>ладно поживем увидем<br><br><b>Добавлено спустя 13 часов 45 минут</b><br>добил окно редактирования<br>ошибки всего три, из которых две мои<br>одна неправильно почистил код ( я сначала разбираю его в иде, потом копипащу в сорс, а потом чищу, и только потом компилю)<br>точнее не чистил, а скопипастил когда чистил не то, на глаз прикинул что процедуры перемещения каретки вправо влево. вроде  одинаковые...одну почистил, а вторую скопипастил от предыдущей, и чуть чуть подправил<br> а на деле оказывается две одинаковые функции в них по разному вызывались... сразу и не заметил, функци длинные, окончание пряталось в другом экране<br><br>вторая моя, это вставка в строку, хз зачем то китаезы вместо обычной memmove/memcpy сделали свою reversecpy<br>я на глаз прикинул что вроде побайтовое копирование, ну и поставил свои memcpy<br>потом набросал стресс тесты, а оказывается нифига<br><br>а третий баг и не баг, но баг<br>вообщем удаление бекспейсом удаляет правый символ от каретки, но каретку сдвигает на один влево  после этого<br>упарился искать, запустил сисер, а баг у китаез и там, тьфу ты только время потратил на перепроверку и поиски у себя<br><br><b>Добавлено спустя 15 часов 26 минут</b><br>есть у сисера странная болезнь, периодически не работает клавиатура на его окно<br>методом проб и ошибок когда то я дошел что нужно нажать альт, тогда разглючивает<br><br>сечас решил немного подебажить уже при наличии сорсов<br>оказывается обработчику сисера не приходит сообщения от окна о WM_LBUTTONUP<br>приходит только WM_LBUTTONDOWN<br>поэтому сисер считает что у него постоянно нажата левая кнопка мыши<br><br>сидел гуглил... толку нет<br>всякие spyxx позапускать<br>перепроверить какие события пропускаются в дефолтовую обработку а какие выбрасываются..<br><br>но весь сыр бор думаю именно в дефолтовом обработчике<br>какое то сообщения надо зарубить или наоборот из уже обрабатываемых пропустить дальше... хз как дебажить<br>не приоритетно, но интересно
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375413&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=26" class="addthx" data-post="375413"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=41575" title="05-05-2017 11:51, ранг:25.5" target="_blank">shellstorm</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 мая 2017 18:41 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#27');return false;">#27</a> </span><div align=left><br>
разобрался с глюками клавиатуры<br>оказывается проблема то совсем не в WM_LBUTTONUP/DOWN<br><br>проблема в том что после переключения окна по ALT+TAB<br>в клиента посылается WM_SYSKEYDOWN VK_MENU (он же ALT)<br>а WM_SYSKEYUP нету, его нету даже в spyxx<br><br>гугл че то не помог, я не нашел что нужно сделать, если кто найдет решение проблемы кидайте ссылки,<br>есть мысли что это надо какие то спец флаги при создании окна выставлять ...<br><br>но я пофиксил этот баг по другом<br>ловим WM_ACTIVATE, который приходит когда диспетчер задач делает активным окно<br>и по этому события флушим свой буффер клавиатуры в котором засел нажатый АЛЬТ<br><br>все чудесным образом стало работать без глюков клавиатуры<br>жаль оригинальным сисере никак не исправить...<br><br><b>Добавлено спустя 4 минуты</b><br>думаю можно было бы и по другому решить баг<br>не принимать в свой буффер клавишь ничего пока окно не активное или спрятанное..<br>но это все вариации..<br>хотелось бы получить от винды отжатый АЛЬТ после ALT+TAB ..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375455&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=27" class="addthx" data-post="375455"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 мая 2017 11:15 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#28');return false;">#28</a> </span><div align=left><br>
Не оно?<br>http://stackoverflow.com/questions/42756580/how-to-handle-the-alt-keystroke-with-windows-api-c
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375474&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=28" class="addthx" data-post="375474"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 мая 2017 14:07 &middot; Поправил: reversecode <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#29');return false;">#29</a> </span><div align=left><br>
не, хочется что бы она нормально через WindowProc пришла<br>а так в целом я гуглил. через хук клавиатуры возможно там все приходит....<br><br><b>Добавлено спустя 47 минут</b><br>перенес отладчик в отдельный модуль и добавил возможности для написания своих плагинов,<br>взял тестовый плагин для сисер драйвера и переделал для ring3<br>апи для плагинов та же что и в сисере<br>https://pastebin.com/3cnTASFy<br>https://pastebin.com/b2GeZfa8<br><br><img src="http://meson.ad-l.ink/6hGMlfWcl/image.png" border="0" align="" alt=""><br><br>по моему обнаружил еще один баг в сисере, <br>если открывать несколько раз окно плагинов, инфа не чистится а добавляется<br>один и тот же плагин начинает множится с каждым открытием окна, я в своей версии исправил это<br><br><b>Добавлено спустя 1 час 3 минуты</b><br>пытался решить С++ дилему... и что то застрял<br>есть два класса, в одинаковой по имени и параметрами вирт функцией<br>нужно унаследовать от этих двух классов третий класс<br>и в нем переопределить обе одинаковые функции....<br>не выходит каменный цветок... только если через интерфейсы делать...<br>плюнул, переименовал одну функу<br>хотя элегантное решение хотелось бы найти
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375479&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=29" class="addthx" data-post="375479"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]shellstorm[/b]','')">shellstorm</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.7 (гость), 170thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 3.69'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=41575">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 мая 2017 14:16 <br><script type="text/javascript">QU('shellstorm','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=shellstorm" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#30');return false;">#30</a> </span><div align=left><br>
<I>reversecode пишет: хотя элегантное решение хотелось бы найти </I><br><br>namespace? элегантней как бы нет и чтобы оно не ломало стандарт.<br>компилятор во время сборки ориентируется на сигнатуры и без дополнительных телодвижений никак, будет конфликт имен.<br>или делать дополнительный интерфейс, через бридж получать доступ к функциям.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=375495&amp;user=41575&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=30" class="addthx" data-post="375495"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="31" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 мая 2017 15:11 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#31" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=24494&amp;page=2#31');return false;">#31</a> </span><div align=left><br>
в сисере без неймспесов обошлись.... может конечно имена функций у них разные<br>но по функционалу они одинаковые<br><br>хочется что то типа такого, но не компилится<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">struct&nbsp;SYM</li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;<span class="hl_function">CALL</span><span class="hl_char">(</span><span class="hl_function">int</span><span class="hl_char">,</span><span class="hl_function">int</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;<span class="hl_number">3</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">}<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">struct&nbsp;DIS</li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;<span class="hl_function">CALL</span><span class="hl_char">(</span><span class="hl_function">int</span><span class="hl_char">,</span><span class="hl_function">int</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;<span class="hl_number">3</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">}<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">struct&nbsp;DOC&nbsp;<span class="hl_char">:</span>&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;DIS<span class="hl_char">,</span>&nbsp;SYM</li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>using&nbsp;DIS<span class="hl_char">:</span><span class="hl_char">:</span><span class="hl_function"><b>CALL</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;<span class="hl_function">CALL</span><span class="hl_char">(</span><span class="hl_function">int</span><span class="hl_char">,</span><span class="hl_function">int</span><span class="hl_char">)</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;<span class="hl_number">10</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>using&nbsp;SYM<span class="hl_char">:</span><span class="hl_char">:</span><span class="hl_function"><b>CALL</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;SYM<span class="hl_char">:</span><span class="hl_char">:</span><span class="hl_function">CALL</span><span class="hl_char">(</span><span class="hl_function">int</span><span class="hl_char">,</span><span class="hl_function">int</span><span class="hl_char">)</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;<span class="hl_number">20</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">}<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=375497&amp;user=15381&amp;forum_n=7&amp;topic=24494&amp;page=2&amp;anchor=31" class="addthx" data-post="375497"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=1.html">&lt;&lt;</a> .  <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=0.html">1</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=1.html">2</a> . <b>3</b> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=4.html">5</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=5.html">6</a> . <a href="action=vthread&amp;forum=7&amp;topic=24494&amp;page=3.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/mod.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=7&sortBy=0&page=0.html"><b>Оффтоп</b></a> <b class=bulletHead>&#8212;&#8250;</b> syser - а он еще нужен?</span></td>
</tr></table>
</div>
<a name=newreply></a>
<center><h3>У вас должно быть 20 пунктов ранга, чтобы оставлять сообщения в  этом подфоруме, но у вас только 0</h3></center><script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=24494" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
