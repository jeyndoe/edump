<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Как убрать окно? - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Приветствую всех! Дело такое, есть прога, в которой перед запуском показывается окно для ввода кода. Код имеется, но хочется убрать это наглое окно. В ольке оказался на OEP, прошёл немного по коду и встретил команду &quot;CALL">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=44014'>user99</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a>, <a target='_blank' href='?action=userinfo&amp;user=7823'>ManHunter</a>, <a target='_blank' href='?action=userinfo&amp;user=8344'>Magister Yoda</a>, <a target='_blank' href='?action=userinfo&amp;user=55853'>rtsgreg1989</a> (+9 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как убрать окно?</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=1&amp;topic=2832&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=1&amp;topic=2832&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 сентября 2005 19:32 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Приветствую всех!
<br>
<br>Дело такое, есть прога, в которой перед запуском показывается окно для ввода кода. Код имеется, но хочется убрать это наглое окно. В ольке оказался на OEP, прошёл немного по коду и встретил команду &quot;CALL  &lt;имя_exe&gt;.00418F17&quot;, после которой и открывается окно для ввода кода. Потом нашёл команду &quot;CALL  &lt;имя_exe&gt;.00418А17&quot;, после выполнения, которой запускается сама программа (то что нужно). Заменил первую команду второй, но не сработало. Ещё хотел посмотреть, что есть по адресу первой команды (00418F17), но по такому адресу ничего не было. Чуть позже заметил, ниже в окне, написано &quot;&lt;имя_exe&gt;.&lt;ModuleEntryPoint&gt;+0DB&quot;, сходил по высчитанному адресу и поставил там BP, но не разу на это место не попал.
<br>
<br>Подскажите, пожалуйста, как бы вы действовали в данном случае или что я не так делал.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35063&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=1" class="addthx" data-post="35063"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 сентября 2005 19:57 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<b>IvanStepkin</b>
<br>Мы ставили брэйкпоинт на: ShowWindow или DialogBoxParam/DialogBoxParamA
<br>если не получается отловить на эти бряки, то лови на EndDialog
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=35065&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=2" class="addthx" data-post="35065"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Error_Log[/b]','')">Error_Log</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 228.7 (наставник), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.05'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2060">Участник</a><br><font color=blue>malware research</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 сентября 2005 10:13 &middot; Поправил: Error_Log <br><script type="text/javascript">QU('Error_Log','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Error_Log" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>IvanStepkin</b>
<br>Посмотри, что возвращает &quot;CALL &lt;имя_exe&gt;.00418F17&quot;, после которой и открывается окно для ввода кода&quot; Есс-но после ввода кода; потом нужно нужно в самом начале вписать то, что этот Call возвращает, и команду ret. Более подробно сказать не могу, так как не видел того, о чем ты говоришь.
<br>ЗЫ: Разберись, где рисуется окно, потому-что оно может рисоваться в одном из вложенных Call-ов в твой Call.
<br><br><font size="1"><i>-----<br>Research is my purpose</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=35097&amp;user=2060&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=3" class="addthx" data-post="35097"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Bitfry[/b]','')">Bitfry</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 495.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.8'>Активность: 0.3<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=410">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 сентября 2005 11:26 &middot; Поправил: Bitfry <br><script type="text/javascript">QU('Bitfry','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Bitfry" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<i>IvanStepkin пишет:
<br>Подскажите, пожалуйста, как бы вы действовали в данном случае …</i>
<br>Я бы сначала NOP&#039;ил направо и налево, авось угадаю. <img src="img/smilies/s6.gif" alt="">
<br><i>или что я не так делал.</i>
<br>Ты плохо сформулировал вопрос. Оно и понятно, если б знал, как задать вопрос - сам бы ответил.
<br>1. В таких вопросах всегда приводят кусок кода (по-моему, даже в правилах написано).
<br>2. Читай и разбирайся в Асме (а ты его явно не знаешь... Ну, или русский изучай лучше)
<br>
<br><i>IvanStepkin пишет:
<br>Заменил первую команду второй, но не сработало. </i>
<br>Если просто адрес вызова перебил, значит, ты не знаешь правила вызова функций.
<br>Тут есть только один совет – читай! Хотя бы того же Iczelion&#039;a.
<br>
<br><i>IvanStepkin пишет:
<br>но по такому адресу ничего не было. </i>
<br>Совсем ничего?
<br><br><font size="1"><i>-----<br>Всем привет, я вернулся</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=35109&amp;user=410&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=4" class="addthx" data-post="35109"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]John Freeman[/b]','')">John Freeman</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.7 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1368">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 сентября 2005 13:59 <br><script type="text/javascript">QU('John Freeman','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=John Freeman" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
1) Для идиотов поясняю - надо не менять, а нопить, причём смотря стек, впрочем если вызывается один раз есть шанс что стек не слетит, конечно если стековые переменные инвариантны относительно этой функции при этом <img src="img/smilies/s1.gif" alt="">
<br>2) Что-то на пакер похоже...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35132&amp;user=1368&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=5" class="addthx" data-post="35132"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]intty[/b]','')">intty</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/1788.jpg" alt=""><br><span class=txtSm>Ранг: 122.3 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.18'>Активность: 0.05<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1788">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 сентября 2005 15:12 <br><script type="text/javascript">QU('intty','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=intty" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Поискал в ресурсах это окно.
<br>Если была бы делфа, наверное ловил бы на CreateWindow
<br>Если бы Вижуал, то перевел бы номер ресурса в hex и поискал бы что то типа &quot;push HexDlgID&quot;
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35136&amp;user=1788&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=6" class="addthx" data-post="35136"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]John Freeman[/b]','')">John Freeman</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.7 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1368">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 сентября 2005 17:13 <br><script type="text/javascript">QU('John Freeman','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=John Freeman" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Если бы дельфа/cbuilder я бы загрузил DeDe и всё в <img src="img/smilies/s5.gif" alt=""> <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35148&amp;user=1368&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=7" class="addthx" data-post="35148"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 сентября 2005 21:19 &middot; Поправил: IvanStepkin <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
А вот и код:
<br>
<br>0040D23D   PUSH    EBP           <b>&lt;&lt;&lt;&lt;&lt;&lt;  Отсюда начинается программа</b>
<br>0040D23E   MOV     EBP,ESP
<br>0040D240   PUSH    -1
<br>0040D242   PUSH    MInstall.00429EF8
<br>0040D247   PUSH    MInstall.004112DC                ;  SE handler installation
<br>0040D24C   MOV     EAX,DWORD PTR FS:[0]
<br>0040D252   PUSH    EAX
<br>0040D253   MOV     DWORD PTR FS:[0],ESP
<br>0040D25A   SUB     ESP,58
<br>0040D25D   PUSH    EBX
<br>0040D25E   PUSH    ESI
<br>0040D25F   PUSH    EDI
<br>0040D260   MOV     DWORD PTR SS:[EBP-18],ESP
<br>0040D263   CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.GetVers&gt;;  kernel32.GetVersion
<br>0040D269   XOR     EDX,EDX
<br>0040D26B   MOV     DL,AH
<br>0040D26D   MOV     DWORD PTR DS:[4351C4],EDX
<br>0040D273   MOV     ECX,EAX
<br>0040D275   AND     ECX,0FF
<br>0040D27B   MOV     DWORD PTR DS:[4351C0],ECX
<br>0040D281   SHL     ECX,8
<br>0040D284   ADD     ECX,EDX
<br>0040D286   MOV     DWORD PTR DS:[4351BC],ECX
<br>0040D28C   SHR     EAX,10
<br>0040D28F   MOV     DWORD PTR DS:[4351B8],EAX
<br>0040D294   PUSH    1
<br>0040D296   CALL    MInstall.0040FDA4
<br>0040D29B   POP     ECX
<br>0040D29C   TEST    EAX,EAX
<br>0040D29E   JNZ     SHORT MInstall.0040D2A8
<br>0040D2A0   PUSH    1C
<br>0040D2A2   CALL    MInstall.0040D36A
<br>0040D2A7   POP     ECX
<br>0040D2A8   CALL    MInstall.0040F70C
<br>0040D2AD   TEST    EAX,EAX
<br>0040D2AF    JNZ     SHORT MInstall.0040D2B9
<br>0040D2B1   PUSH    10
<br>0040D2B3   CALL    MInstall.0040D36A
<br>0040D2B8   POP     ECX
<br>0040D2B9  XOR     ESI,ESI
<br>0040D2BB   DWORD PTR SS:[EBP-4],ESI
<br>0040D2BE   CALL    MInstall.00411117
<br>0040D2C3   CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.GetComm&gt;; [GetCommandLineA
<br>0040D2C9   MOV     DWORD PTR DS:[4368B8],EAX
<br>0040D2CE   CALL    MInstall.00410FE5
<br>0040D2D3   MOV     DWORD PTR DS:[4351A0],EAX
<br>0040D2D8   CALL    MInstall.00410D98
<br>0040D2DD   CALL    MInstall.00410CDF
<br>0040D2E2   CALL    MInstall.0040E095
<br>0040D2E7   MOV     DWORD PTR SS:[EBP-30],ESI
<br>0040D2EA   LEA     EAX,DWORD PTR SS:[EBP-5C]
<br>0040D2ED   PUSH    EAX                              ; /pStartupinfo
<br>0040D2EE   CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.GetStar&gt;; &#92;GetStartupInfoA
<br>0040D2F4   CALL    MInstall.00410C87
<br>0040D2F9   MOV     DWORD PTR SS:[EBP-64],EAX
<br>0040D2FC   TEST    BYTE PTR SS:[EBP-30],1
<br>0040D300   JE      SHORT MInstall.0040D308
<br>0040D302   MOVZX   EAX,WORD PTR SS:[EBP-2C]
<br>0040D306   JMP     SHORT MInstall.0040D30B
<br>0040D308   PUSH    0A
<br>0040D30A   POP     EAX
<br>0040D30B   PUSH    EAX
<br>0040D30C   PUSH    DWORD PTR SS:[EBP-64]
<br>0040D30F   PUSH    ESI
<br>0040D310   PUSH    ESI                              ; /pModule
<br>0040D311   CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.GetModu&gt;; &#92;GetModuleHandleA
<br>0040D317   PUSH    EAX
<br>0040D318   CALL    MInstall.00418F17                   <b>&lt;&lt;&lt;&lt;&lt; После выполнения этой функции открывается окно</b>
<br>0040D31D   MOV     DWORD PTR SS:[EBP-60],EAX
<br>0040D320   PUSH    EAX
<br>0040D321   CALL    MInstall.0040E0C2
<br>0040D326   MOV     EAX,DWORD PTR SS:[EBP-14]
<br>0040D329   MOV     ECX,DWORD PTR DS:[EAX]
<br>0040D32B   MOV     ECX,DWORD PTR DS:[ECX]
<br>0040D32D   MOV     DWORD PTR SS:[EBP-68],ECX
<br>0040D330   PUSH    EAX
<br>0040D331   PUSH    ECX
<br>0040D332   CALL    MInstall.00410B0F
<br>0040D337   POP     ECX
<br>0040D338   POP     ECX
<br>0040D339   RETN
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35254&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=8" class="addthx" data-post="35254"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Ara[/b]','')">Ara</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/24.jpg" alt=""><br><span class=txtSm>Ранг: 1288.1 <b><u>(!!!!)</u></b>, 273thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 1.29<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 сентября 2005 21:47 <br><script type="text/javascript">QU('Ara','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ara" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<i>John Freeman пишет:
<br>1) Для идиотов поясняю </i>
<br>Просьба следить за языком впредь.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35255&amp;user=24&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=9" class="addthx" data-post="35255"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]NIKOLA[/b]','')">NIKOLA</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/247.jpg" alt=""><br><span class=txtSm>Ранг: 500.6 (<b>!</b>), 7thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.87'>Активность: 0.26<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=247">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 сентября 2005 21:55 <br><script type="text/javascript">QU('NIKOLA','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=NIKOLA" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<i>IvanStepkin пишет:
<br>0040D318 CALL MInstall.00418F17 &lt;&lt;&lt;&lt;&lt; После выполнения этой функции открывается окно  </i>
<br>
<br>А что в этом кале ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35256&amp;user=247&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=10" class="addthx" data-post="35256"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 сентября 2005 23:38 &middot; Поправил: IvanStepkin <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>00418F17</b>  PUSH    DWORD PTR SS:[ESP+10]
<br>00418F1B  PUSH    DWORD PTR SS:[ESP+10]
<br>00418F1F  PUSH    DWORD PTR SS:[ESP+10]
<br>00418F23  PUSH    DWORD PTR SS:[ESP+10]
<br>00418F27  CALL    MInstall.004201E3
<br>00418F2C  RETN    10
<br>
<br>
<br><b>004201E3</b>  PUSH    EBX
<br>004201E4  PUSH    ESI
<br>004201E5  PUSH    EDI
<br>004201E6  OR      EBX,FFFFFFFF
<br>004201E9  CALL    MInstall.0041B11B
<br>004201EE  MOV     ESI,EAX
<br>004201F0  CALL    MInstall.0042287D
<br>004201F5  PUSH    DWORD PTR SS:[ESP+1C]
<br>004201F9  MOV     EDI,DWORD PTR DS:[EAX+4]
<br>004201FC PUSH    DWORD PTR SS:[ESP+1C]
<br>00420200  PUSH    DWORD PTR SS:[ESP+1C]
<br>00420204  PUSH    DWORD PTR SS:[ESP+1C]
<br>00420208  CALL    MInstall.00422C85
<br>0042020D  TEST    EAX,EAX
<br>0042020F  JE      SHORT MInstall.0042024C
<br>00420211  TEST    EDI,EDI
<br>00420213  JE      SHORT MInstall.00420223
<br>00420215  MOV     EAX,DWORD PTR DS:[EDI]
<br>00420217  MOV     ECX,EDI
<br>00420219  CALL    DWORD PTR DS:[EAX+84]
<br>0042021F  TEST    EAX,EAX
<br>00420221  JE      SHORT MInstall.0042024C
<br>00420223  MOV     EAX,DWORD PTR DS:[ESI]
<br>00420225  MOV     ECX,ESI
<br>00420227  CALL    DWORD PTR DS:[EAX+50]    <b>&gt;&gt;&gt;&gt;&gt;  Опять переход</b>
<br>0042022A  TEST    EAX,EAX
<br>.................
<br>
<br><b>00401260</b>  PUSH    -1
<br>00401262  PUSH    MInstall.004257CD                ;  SE handler installation
<br>00401267 MOV     EAX,DWORD PTR FS:[0]
<br>0040126D PUSH    EAX
<br>0040126E MOV     DWORD PTR FS:[0],ESP
<br>00401275 SUB     ESP,1D4
<br>0040127B PUSH    ESI
<br>0040127C MOV     ESI,ECX
<br>0040127E PUSH    0
<br>00401280 CALL    MInstall.00404DC2
<br>00401285 ADD     ESP,4
<br>00401288 MOV     ECX,ESI
<br>0040128A CALL    MInstall.004223E0
<br>0040128F PUSH    0
<br>00401291 LEA     ECX,DWORD PTR SS:[ESP+8]
<br>00401295 CALL    MInstall.004014D0
<br>0040129A LEA     EAX,DWORD PTR SS:[ESP+4]
<br>0040129E LEA     ECX,DWORD PTR SS:[ESP+4]
<br>004012A2 MOV     DWORD PTR SS:[ESP+1E0],0
<br>004012AD MOV     DWORD PTR DS:[ESI+1C],EAX
<br>004012B0 CALL    MInstall.0041C01F                         <b> &gt;&gt;&gt;&gt;  Снова переход</b>
<br>004012B5 LEA     ECX,DWORD PTR SS:[ESP+1D0]
<br>004012BC MOV     DWORD PTR SS:[ESP+1E0],8
<br>........................
<br>
<br><b>0041C01F</b> MOV     EAX,MInstall.0042629C            &gt;&gt;&gt;&gt;  Продолжение вывода окна
<br>0041C024 CALL    MInstall.0040D6E4
<br>0041C029 SUB     ESP,18
<br>0041C02C  PUSH    EBX
<br>0041C02D PUSH    ESI
<br>0041C02E  MOV     ESI,ECX
<br>0041C030 PUSH    EDI
<br>0041C031 MOV     DWORD PTR SS:[EBP-10],ESP
<br>0041C034 MOV     DWORD PTR SS:[EBP-1C],ESI
<br>0041C037 MOV     EAX,DWORD PTR DS:[ESI+48]
<br>0041C03A MOV     EDI,DWORD PTR DS:[ESI+44]
<br>0041C03D MOV     DWORD PTR SS:[EBP-18],EAX
<br>0041C040 CALL    MInstall.0042287D
<br>0041C045 CMP     DWORD PTR DS:[ESI+40],0
<br>0041C049 MOV     EBX,DWORD PTR DS:[EAX+C]
<br>0041C04C JE      SHORT MInstall.0041C06C
<br>0041C04E CALL    MInstall.0042287D
<br>0041C053 MOV     EBX,DWORD PTR DS:[EAX+C]
<br>0041C056 PUSH    5                                ; /ResourceType = RT_DIALOG
<br>0041C058 PUSH    DWORD PTR DS:[ESI+40]            ; |ResourceName
<br>0041C05B PUSH    EBX                              ; |hModule
<br>0041C05C CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.FindRes&gt;; &#92;FindResourceA
<br>0041C062 PUSH    EAX                              ; /hResource
<br>0041C063  PUSH    EBX                              ; |hModule
<br>0041C064 CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.LoadRes&gt;; &#92;LoadResource
<br>0041C06A  MOV     EDI,EAX
<br>0041C06C  TEST    EDI,EDI
<br>0041C06E  JE      SHORT MInstall.0041C07A
<br>0041C070 PUSH    EDI                              ; /nHandles
<br>0041C071 CALL    DWORD PTR DS:[&lt;&amp;KERNEL32.LockRes&gt;; &#92;SetHandleCount
<br>0041C077 MOV     DWORD PTR SS:[EBP-18],EAX
<br>0041C07A  CMP     DWORD PTR SS:[EBP-18],0
<br>0041C07E  JNZ     SHORT MInstall.0041C088
<br>0041C080 OR      EAX,FFFFFFFF
<br>0041C083  JMP     MInstall.0041C170
<br>0041C088  MOV     ECX,ESI
<br>0041C08A  CALL    MInstall.0041BFA3
<br>0041C08F  MOV     DWORD PTR SS:[EBP-14],EAX
<br>0041C092  CALL    MInstall.0041CE39
<br>0041C097  XOR     EDI,EDI
<br>0041C099 CMP     DWORD PTR SS:[EBP-14],EDI
<br>0041C09C  MOV     DWORD PTR SS:[EBP-20],EDI
<br>0041C09F   JE      SHORT MInstall.0041C0BF
<br>0041C0A1   PUSH    DWORD PTR SS:[EBP-14]            ; /hWnd
<br>0041C0A4  CALL    DWORD PTR DS:[&lt;&amp;USER32.IsWindowE&gt;; &#92;IsWindowEnabled
<br>0041C0AA   TEST    EAX,EAX
<br>0041C0AC  JE      SHORT MInstall.0041C0BF
<br>0041C0AE   PUSH    EDI                              ; /Enable =&gt; FALSE
<br>0041C0AF   PUSH    DWORD PTR SS:[EBP-14]            ; |hWnd
<br>0041C0B2   CALL    DWORD PTR DS:[&lt;&amp;USER32.EnableWin&gt;; &#92;EnableWindow
<br>0041C0B8   MOV     DWORD PTR SS:[EBP-20],1
<br>0041C0BF   PUSH    ESI
<br>0041C0C0   MOV     DWORD PTR SS:[EBP-4],EDI
<br>0041C0C3   CALL    MInstall.0041CDED
<br>0041C0C8   PUSH    DWORD PTR SS:[EBP-14]
<br>0041C0CB   CALL    MInstall.0041C93A
<br>0041C0D0    PUSH    EBX
<br>0041C0D1   PUSH    EAX
<br>0041C0D2   PUSH    DWORD PTR SS:[EBP-18]
<br>0041C0D5   MOV     ECX,ESI
<br>0041C0D7   CALL    MInstall.0041BD3B
<br>0041C0DC   CMP     EAX,EDI
<br>0041C0DE   JE      SHORT MInstall.0041C132
<br>0041C0E0   TEST    BYTE PTR DS:[ESI+24],10
<br>0041C0E4   JE      SHORT MInstall.0041C100
<br>0041C0E6   PUSH    4
<br>0041C0E8   MOV     ECX,ESI
<br>0041C0EA  POP     EBX
<br>0041C0EB   CALL    MInstall.0041EFAA
<br>0041C0F0   TEST    AH,1
<br>0041C0F3    JE      SHORT MInstall.0041C0F8
<br>0041C0F5   PUSH    5
<br>0041C0F7    POP     EBX
<br>0041C0F8   PUSH    EBX                              ; /Arg1
<br>0041C0F9    MOV     ECX,ESI                          ; |
<br>0041C0FB   CALL    MInstall.0041E976                           <b>&gt;&gt;&gt;&gt;&gt;    Переход</b>
<br>0041C100   CMP     DWORD PTR DS:[ESI+1C],EDI
<br>.................
<br>
<br>А там чего то конца и края не видать  <img src="img/smilies/s4.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=35264&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=11" class="addthx" data-post="35264"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 сентября 2005 13:18 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
А как брякнуться перед самым появлением окна?
<br>
<br>&amp;
<br>
<br>Как брякнуться после нажатия кнопки?
<br>
<br>Может кто-нибудь посмотрит прогу, пожалуйста <img src="img/smilies/s2.gif" alt=""><br><br><img src="img/attach.gif" alt=""> <a href="./files/7fb6_ProgaInstall.part1.rar">7fb6_ProgaInstall.part1.rar</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36015&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=12" class="addthx" data-post="36015"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Ara[/b]','')">Ara</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/24.jpg" alt=""><br><span class=txtSm>Ранг: 1288.1 <b><u>(!!!!)</u></b>, 273thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 1.29<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 сентября 2005 13:28 <br><script type="text/javascript">QU('Ara','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Ara" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Окно вызывается функцией CreateDialogIndirectParamA
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36017&amp;user=24&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=13" class="addthx" data-post="36017"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 сентября 2005 13:29 &middot; Поправил: IvanStepkin <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Насчёт бряка перед самым появлением окна: посмотрел номер ресурса, поставил бряк там где используется этот номер, дальше иду по коду (F7, F8) и натыкаюсь похоже на цикл, на который у меня не хватает терпения (даже с Ctrl+F8). Если крутить этот цикл, а когда надоест, взять да и запустить программу (F9), то сразу появится окно!
<br>
<br>----------------
<br>Брякнулся на эту функцию (CreateDialogIndirectParamA), иду по коду, а потом снова попадаю на тот цикл.
<br>
<br><img src="img/attach.gif" alt=""> <a href="./files/8ba3_ProgaInstall.part2.rar">8ba3_ProgaInstall.part2.rar</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36018&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=14" class="addthx" data-post="36018"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 сентября 2005 21:45 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>IvanStepkin</b>
<br>Скорее всего ты влез в цикл сообщений, если у тебя встречаются АПИ ф-ии:
<br>PeekMessage
<br>TranslateMessage
<br>то ты точно залез в цикл
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36034&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=15" class="addthx" data-post="36034"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 сентября 2005 01:16 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
Да, встречается PeekMessageA.
<br>
<br>И что же делать???
<br>
<br>Посмотрите программку, ПОЖАЛУЙСТА!!!   <img src="img/smilies/s2.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36039&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=16" class="addthx" data-post="36039"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]SLayer[/b]','')">SLayer</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/2576.gif" alt=""><br><span class=txtSm>Ранг: 90.3 (постоянный), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.83'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=2576">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 сентября 2005 15:02 <br><script type="text/javascript">QU('SLayer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SLayer" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
Уважаемый народ, прошу обратить Ваше внимание на этот топик (похоже он стал уходить в историю так и не обретя логичского завершения.
<br>Как в Олли поставить брейкпоинт на вывод сообщения о ошибке?
<br>Помогите плиз. Аттач можно скачать в одном из предыдущих сообщениях.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36745&amp;user=2576&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=17" class="addthx" data-post="36745"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 сентября 2005 21:37 &middot; Поправил: nice <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>IvanStepkin</b>
<br>Ну посмотрел, там должен быть какой-то файл, пароль RER2MGBN
<br>если пропатчить проверку или ввесли этот код, то программа говорит, что не найден соот-щий файл
<br>если и эту проверку проигнорировать, то программа пытается создать процесс (я так понимаю из файла, который не находит) и виснет, т.к. файла нет
<br>
<br>00401B9E   &gt; 5&gt;PUSH ECX                      ;  MInstall.004310D4 - это процедура проверки
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36756&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=18" class="addthx" data-post="36756"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 сентября 2005 21:56 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<b>SLayer</b>
<br>Это дельфевая прога и поэтому тут не используется стандартный MessageBoxA
<br>если ты неможешь прерваться после используй АПИ монитор
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36758&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=19" class="addthx" data-post="36758"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 00:49 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<b>nice</b>
<br>Посмотри архив, там есть этот файл (setup.exe), который запускается с помощью MInstall.exe.
<br>Мне необходимо следующее: запускаешь MInstall.exe, а он не требуя никакого пароля запускает MInstall.exe.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36762&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=20" class="addthx" data-post="36762"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 02:09 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<b>IvanStepkin</b>
<br>Сама ф-ия вызова окна вот:
<br>0041BE9B     EB 03          JMP SHORT MInstall.0041BEA0
<br>Отсюда прыгаем
<br>
<br>Эта АПИ создает окно, тебе нужно перенаправить этот дамп, на обработчик кнопки, и сот-но подравнять стэк, а то программа упадет
<br>0041BEAD   . FF15 F4734200  CALL [DWORD DS:&lt;&amp;USER32.CreateDialogIndi&gt;; &#92;CreateDialogIndirectParamA
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36768&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=21" class="addthx" data-post="36768"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 02:25 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
Вот, уже что-то вырисовывается!
<br>
<br>А как перенаправить дамп на обработчик кнопки?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36775&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=22" class="addthx" data-post="36775"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]ValdiS[/b]','')">ValdiS</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1263.gif" alt=""><br><span class=txtSm>Ранг: 420.3 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.42'>Активность: 0.24<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1263">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 02:33 <br><script type="text/javascript">QU('ValdiS','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ValdiS" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<I>IvanStepkin пишет:
<br>дамп </I>
<br><I>nice пишет:
<br>перенаправить этот дамп </I>
<br>Дамп или джапм? <img src="img/smilies/s11.gif" alt="">
<br><br><font size="1"><i>-----<br>Сколько ни наталкивали на мысль – все равно сумел увернуться</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36777&amp;user=1263&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=23" class="addthx" data-post="36777"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 03:27 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<b>ValdiS</b>
<br>Ну ес-но джамп, обшибся...
<br>
<br><b>IvanStepkin</b>
<br>JMP XXXXXX-&gt;JMP YYYYYYY где YYYYYY обработчик кнопочки
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36790&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=24" class="addthx" data-post="36790"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 08:45 &middot; Поправил: IvanStepkin <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
Да, смешно получилось - «дамп или джапм» <img src="img/smilies/s1.gif" alt=""> я в начале вообще не въехал <img src="img/smilies/s2.gif" alt="">
<br>
<br>А как узнать адрес обработчика кнопки???
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36806&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=25" class="addthx" data-post="36806"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]nice[/b]','')">nice</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 384.1 (мудрец)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.96'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=29">Участник</a><br><font color=blue>www.int3.net</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 12:22 <br><script type="text/javascript">QU('nice','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=nice" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<b>IvanStepkin</b>
<br>Посмотри постов на 7 повыше <img src="img/smilies/s1.gif" alt="">)
<br><br><font size="1"><i>-----<br>Подписи - ЗЛО! Нужно убирать!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=36824&amp;user=29&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=26" class="addthx" data-post="36824"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2005 13:09 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
Уф.  С переходом разобрался!
<br>
<br>А какой стэк исправить, как и на что???
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36828&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=27" class="addthx" data-post="36828"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 29 сентября 2005 14:57 &middot; Поправил: IvanStepkin <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
Не могу разобраться с параметрами функции, которые необходимо исправить в стеке. Подскажите, пожалуйста.
<br>
<br>0041BE8C  PUSH    ESI
<br>0041BE8D  CALL    MInstall.0041CDED
<br>0041BE92  MOV     EAX,DWORD PTR SS:[EBP+C]
<br>0041BE95  CMP     EAX,EBX
<br>0041BE97  JNZ     SHORT MInstall.0041BE9D
<br>0041BE99  XOR     EAX,EAX
<br>0041BE9B  JMP     SHORT MInstall.0041BEA0    ; Этот джамп я перенапрявлю на обработчик кнопки,
<br>0041BE9D  MOV     EAX,DWORD PTR DS:[EAX+1C]  ;                             как советовал nice.
<br>0041BEA0  PUSH    EBX                        
<br>0041BEA1  PUSH    MInstall.0041BB83          
<br>0041BEA6  PUSH    EAX                        
<br>0041BEA7  PUSH    DWORD PTR SS:[EBP+8]
<br>0041BEAA  PUSH    DWORD PTR SS:[EBP+10]
<br>0041BEAD  CALL    DWORD PTR DS:[&lt;&amp;USER32.CreateDialogIndirectParamA&gt;]
<br>0041BEB3  LEA     ECX,DWORD PTR SS:[EBP-1C]
<br>0041BEB6  MOV     DWORD PTR SS:[EBP-18],EAX
<br>0041BEB9  MOV     BYTE PTR SS:[EBP-4],BL
<br>0041BEBC  CALL    MInstall.0041A441
<br>0041BEC1  JMP     SHORT MInstall.0041BEE0
<br>0041BEC3  MOV     ECX,DWORD PTR SS:[EBP-2C]
<br>0041BEC6  CALL    MInstall.0041F5F2
<br>0041BECB  MOV     EAX,DWORD PTR SS:[EBP-24]
<br>_____________
<br>
<br>00401B72  PUSH    0
<br>00401B74  PUSH    MInstall.004310D4
<br>00401B79  MOV     ECX,EDI
<br>00401B7B  CALL    MInstall.00419349          ; функция проверки пароля
<br>00401B80  TEST    EAX,EAX
<br>00401B82  JNZ     SHORT MInstall.00401B9E    ; Если пароль верен, то переход - *1
<br>00401B84  MOV     ECX,ESI
<br>00401B86  CALL    MInstall.00402140
<br>00401B8B  MOV     ECX,DWORD PTR SS:[ESP+2C]
<br>00401B8F  MOV     DWORD PTR FS:[0],ECX
<br>00401B96  POP     EDI
<br>00401B97  POP     ESI
<br>00401B98  POP     EBP
<br>00401B99  POP     EBX
<br>00401B9A  ADD     ESP,28
<br>00401B9D  RETN
<br>00401B9E  PUSH    ECX         ; *1 Переход сюда. И сюда я хочу сделать джамп с адреса 0041BE9B
<br>00401B9F  MOV     ECX,ESP
<br>00401BA1  MOV     DWORD PTR SS:[ESP+14],ESP
<br>00401BA5  PUSH    EDI
<br>00401BA6  CALL    MInstall.0041A1B6
<br>00401BAB  LEA     EBX,DWORD PTR DS:[ESI+194]
<br>00401BB1  MOV     ECX,EBX
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=36950&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=28" class="addthx" data-post="36950"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]IvanStepkin[/b]','')">IvanStepkin</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 50.6 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.54'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1019">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 октября 2005 11:28 <br><script type="text/javascript">QU('IvanStepkin','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=IvanStepkin" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
Новая загвоздка!!!  Объясните, пожалуйста!!
<br>
<br>Исправляю переход по адресу 0041BE9B с &quot;JMP SHORT   MInstall.0041BEA0&quot; на &quot;JMP   MInstall.00401B9E&quot;.
<br>Сохраняю (Hiew32) изменения, открываю этот изменённый файл в Olly, а на этом месте ерунда какая-то!
<br>
<br>Посмотрите аттач, там три картинки: 1 - до изменений, 2 - изменено, 3 - изменённое место в Olly
<br>
<br>Может, я как-то не так исправил???<br><br><img src="img/attach.gif" alt=""> <a href="./files/beb5_MInst.rar">beb5_MInst.rar</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=38702&amp;user=1019&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=29" class="addthx" data-post="38702"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 октября 2005 13:38 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=2832&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
вариантов несколько:
<br>- убей &lt;имя_файла.udd&gt; в папке проектов OllyDbg
<br>- Нажми Ctrl-A (Analyse Code)
<br>- Контекстное меню -&gt; Analyzis -&gt; Remove analysis from module
<br>последний способ - самый простой, с него начни ;)
<br>
<br>всё из-за того, что Оля раньше этот файл уже анализировала и видела его другим ;)
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=38718&amp;user=1379&amp;forum_n=1&amp;topic=2832&amp;page=0&amp;anchor=30" class="addthx" data-post="38718"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=1&amp;topic=2832&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=1&amp;topic=2832&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как убрать окно?</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#31" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="1">
<input type="hidden" name="topic" value="2832">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=2832" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
