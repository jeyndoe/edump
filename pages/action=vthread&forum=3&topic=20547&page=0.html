<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>FoxPro наработки - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="День добрый. Ребят, ни у кого в загашниках не осталось инфы по фоксу.. структура файла, коды инструкций в ПИ коде, описание цикла движка обработчика в дллке.. Тут прогу на фоксе дебажить прийдется, а я последний раз лет 8 назад">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a>, <a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a>, <a target='_blank' href='?action=userinfo&amp;user=42623'>site-pro</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/default.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=3&sortBy=0&page=0.html"><b>Софт, инструменты</b></a> <b class=bulletHead>&#8212;&#8250;</b> FoxPro наработки</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 ноября 2012 12:09 &middot; Поправил: VodoleY <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
День добрый. Ребят, ни у кого в загашниках не осталось инфы по фоксу.. структура файла, коды инструкций в ПИ коде, описание цикла движка обработчика в дллке.. Тут прогу на фоксе дебажить прийдется, а я последний раз лет 8 назад фокс копал. заранее спасибо.<br>ADD. (если чет буду находить, поскладирую линки)<br>http://www.foxpert.com/docs/howfoxproworks.en.htm<br>http://www.foxpert.com/docs/fxp.en.htm<br>http://baiyujia.com/vfpdocuments/f_vhfox.asp (FOXPRO APP FILE STRUCTURE (UNDOCUMENTED)   January 2012)
<br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=314757&amp;user=17319&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=1" class="addthx" data-post="314757"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=28841" title="05-12-2012 10:39, ранг:48.8" target="_blank">vden</a></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Maximus[/b]','')">Maximus</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/2775.jpg" alt=""><br><span class=txtSm>Ранг: 392.8 (мудрец), 108thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.75'>Активность: 0.26<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=2775">Участник</a><br><font color=blue>REVENGE сила, БеХоЦе могила</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 ноября 2012 12:11 <br><script type="text/javascript">QU('Maximus','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Maximus" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
ReFox бери и декомпиль.
<br><br><font size="1"><i>-----<br>StarForce и Themida ацтой!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=314758&amp;user=2775&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=2" class="addthx" data-post="314758"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 ноября 2012 12:16 <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
а дебажить мне тоже в нем предлагаеш? отдекомпилить то не проблема, давно сделано. Но он сволочь даже офсеты не показывает. вот еслиб он комманды в пикоде и в хексе показывал было бы дело
<br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=314759&amp;user=17319&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=3" class="addthx" data-post="314759"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Maximus[/b]','')">Maximus</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/2775.jpg" alt=""><br><span class=txtSm>Ранг: 392.8 (мудрец), 108thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.75'>Активность: 0.26<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=2775">Участник</a><br><font color=blue>REVENGE сила, БеХоЦе могила</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 ноября 2012 14:06 <br><script type="text/javascript">QU('Maximus','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Maximus" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Я всегда запихивал код в FoxPro и компелил то, что мне делает ReFox.<br>Хоть обдебажься. Далее патчил оригинал уже по наитию.
<br><br><font size="1"><i>-----<br>StarForce и Themida ацтой!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=314765&amp;user=2775&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=4" class="addthx" data-post="314765"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]YDS[/b]','')">YDS</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/132.jpg" alt=""><br><span class=txtSm>Ранг: 199.9 (ветеран), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.92'>Активность: 0.12<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=132">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 ноября 2012 08:39 <br><script type="text/javascript">QU('YDS','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=YDS" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>VodoleY</b><br>Дебагера в виде пи-кода не существует. Максимус прав: получаем в Рефоксе исходный код, ищем и правим нужное место, компилим затем в FoxPro исходный и патченый код, сравниваем, пишем патчер. Ну..или делаем кейген <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=314828&amp;user=132&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=5" class="addthx" data-post="314828"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 ноября 2012 08:41 &middot; Поправил: VodoleY <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<b>YDS</b> ну вот КГ и делаю.. ток в 1ом из 6 ти условий гдето косяк. А дебагер ввиде пикод реально сделать заюзав вфп60.длл. просто крутить цикл обработки комманд. но то такое. ладно покопаю дальше.<br>З.Ы. я вкурсе как поступать с фоксом<img src="img/smilies/s1.gif" alt=""> вопрос топика был немного другого характера <img src="img/smilies/s1.gif" alt=""><br>АДД. большую часть вроде сделал. если вменяемая инфа будет поделюсь.
<br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=314829&amp;user=17319&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=6" class="addthx" data-post="314829"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]zabriskie[/b]','')">zabriskie</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.9 (гость), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.61'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=33394">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 ноября 2012 11:39 &middot; Поправил: zabriskie <br><script type="text/javascript">QU('zabriskie','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zabriskie" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>VodoleY</b><br>p-коды большинства инструкций можно найти в исходниках старенького FoxPro decompiler от Robert Plagnard. Там же есть информация (неполная) и о структуре файлов приложений и компилированных файлов. Дополнить её помогут китайцы (baiyujia.com). Описание структуры многих файлов есть на MSDN.  p-код во многих случаях показывает также и Corso.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=314954&amp;user=33394&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=7" class="addthx" data-post="314954"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=17319" title="30-11-2012 10:52, ранг:182.4" target="_blank">VodoleY</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 ноября 2012 15:14 &middot; Поправил: VodoleY <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Ну впринципи в общих чертах в статье, что в заголовке простенький пример описан. если отдизасмить VFP6R.DLL то конце файла 2-3 списка с опкодами инструкций. например<br>.rdata:0C2F3334                 dd offset aAbs          ; &quot;ABS&quot;- тескт инструкции<br>.rdata:0C2F3338                 db  19h - пи код <br>еще примеры<br>//10 =<br>//06 +<br>//08 -<br>//04 *<br>//0C /<br>//F7 -local var (names after code proc) Example F7 00 01<br>//FB - Const var FB sz text example FB 01 31<br>//55 - EOF<br>//1C - endcase<br>цикл подготовки процедуры к выполнению в длл-ке<br>text:0C008FFB                  push    ebx<br>.text:0C008FFC                 push    edi<br>.text:0C008FFD                 mov     edx, esi<br>.text:0C008FFF                 call    sub_C00903B<br>.text:0C009004                 or      dword_C3097C0, eax<br>.text:0C00900A                 call    sub_C007A95<br>.text:0C00900F                 mov     ecx, dword_C304004<br>.text:0C009015                 cmp     byte ptr [ecx], 55h     //EndProc<br>.text:0C009018                 jnz     short loc_C008FFB<br><br>начиная с 50Н тут начинается сама программа<br>0x00000000 : FE F2 FF 20 02 01 00 00 00 B0 00 00 00 8F 00 00    &#254;&#242;&#255; .....°...&#143;..<br>0x00000010 : 00 21 00 00 00 00 00 00 00 00 00 00 00 00 00 00    .!..............<br>0x00000020 : 00 00 00 00 00 00 00 94 11 00 00 00 00 25 00 00    .......”.....%..<br>0x00000030 : 00 00 00 00 00 00 00 00 00 56 00 00 00 03 00 00    .........V......<br>0x00000040 : 00 50 00 00 00 C2 8B 56 2B 11 00 00 00 FC 18 00    .P...&#194;‹V+....&#252;..<br>0x00000050 : 0B 00 AE F7 00 00 07 F7 01 00 FE 0A 00 02 F8 03    ..®&#247;...&#247;..&#254;...&#248;.<br>0x00000060 : 01 F7 00 00 FE 03 00 55 02 00 06 00 4C 43 4E 41    .&#247;..&#254;..U....LCNA<br>0x00000070 : 4D 45 05 00 4C 43 5A 49 50 B1 00 A1 00 31 00 00    ME..LCZIP±.&#161;.1..<br>0x00000080 : 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 65    ...............e<br>0x00000090 : 3A 5C 74 65 6D 70 5C 00 76 61 72 2E 66 78 70 00    :\temp\.var.fxp.<br>0x000000A0 : 65 3A 5C 74 65 6D 70 5C 76 61 72 2E 70 72 67 00    e:\temp\var.prg.<br>0x000000B0 : 00 29 00 00 00 8F 00 00 00 00 00 00 00 09 00 00    .)...&#143;..........<br>0x000000C0 : 00 00 00 00 00 00 00 00 00  <br><br>Тут впринципе сначала синганута FE F2 FF 20 02 01 дальше масив двордов, с нулевой базой считая от начала. инструкции парсятся по длинам относительно нормально, за исключением сложных выходов. <br>03 00 55 - выход, конец процедуры. в конце список переменных, для этой процедуры друг за дружкой в текстовом виде,. их индекс используюся внутри пикода F7 01 00 - 2ая переменна. F7- типа переменной.  Пока не могу найти место в дллке, где хранятся в памяти текущие значения переменных.<br>З.Ы. zabriskie громадное спасибо за сайтик, занятное чтиво
<br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=314963&amp;user=17319&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=8" class="addthx" data-post="314963"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]zabriskie[/b]','')">zabriskie</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.9 (гость), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.61'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=33394">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 декабря 2012 21:02 &middot; Поправил: zabriskie <br><script type="text/javascript">QU('zabriskie','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zabriskie" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Я знаком со структурой компилированных файлов, поэтому нет необходимости пересказывать Christof Wollenhaupt. Странно, что вы не отметили его же &quot;The FXP format&quot;.<br>И уж если так хочется разобраться, что и где храниться и как выполняется, обратите внимание на массив указателей на процедуры обработки p-кода.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=315009&amp;user=33394&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=9" class="addthx" data-post="315009"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=17319" title="02-12-2012 07:29, ранг:182.7" target="_blank">VodoleY</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 декабря 2012 11:58 &middot; Поправил: VodoleY <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>zabriskie</b> добавли в шапку линки с Вашей подачи найденные и еще раз спасибо. Я разбирал структуру фокса.. когда то ооочень давно, у мну тогда даже интернета не было<img src="img/smilies/s1.gif" alt=""> жалкие воспоминания были в голове, освежил и дополнил <img src="img/smilies/s1.gif" alt=""> Может эти ссылочки кому то время сэкономят.<br>ADD<br>если ктото будет присидать с sys(2007,str) то это crc16 CITT c &#036;FFFF вот делфишный аналог<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">function&nbsp;crc16<span class="hl_char">(</span>&nbsp;s&nbsp;<span class="hl_char">:</span>&nbsp;string<span class="hl_comment">; bSumPos : Boolean = FALSE ) : Word;</span></li><li class="hl_l1">var</li><li class="hl_l0">&nbsp;L<span class="hl_char">,</span>&nbsp;crc<span class="hl_char">,</span>&nbsp;sum<span class="hl_char">,</span>&nbsp;i<span class="hl_char">,</span>&nbsp;x<span class="hl_char">,</span>&nbsp;j&nbsp;<span class="hl_char">:</span>&nbsp;<span class="hl_function"><b>Word</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">begin</li><li class="hl_l1">&nbsp;&nbsp;Result<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;L<span class="hl_char">:</span><span class="hl_char">=</span>length<span class="hl_char">(</span>s<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function">if</span><span class="hl_char">(</span>&nbsp;L&nbsp;<span class="hl_char">&gt;</span>&nbsp;<span class="hl_number">0</span>&nbsp;<span class="hl_char">)</span>&nbsp;then</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;begin</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;crc<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_char">$</span>FFFF<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;sum<span class="hl_char">:</span><span class="hl_char">=</span>length<span class="hl_char">(</span>s<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;i<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">1</span>&nbsp;to&nbsp;L&nbsp;do</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;begin</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j<span class="hl_char">:</span><span class="hl_char">=</span>ord<span class="hl_char">(</span>s<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum<span class="hl_char">:</span><span class="hl_char">=</span>sum<span class="hl_char">+</span><span class="hl_char">(</span><span class="hl_char">(</span>i<span class="hl_char">)</span>&nbsp;<span class="hl_char">*</span>&nbsp;j<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_char">(</span><span class="hl_char">(</span>crc&nbsp;<span class="hl_function"><b>shr</b></span>&nbsp;<span class="hl_number">8</span><span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>xor</b></span>&nbsp;j<span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;<span class="hl_char">$</span>FF<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x<span class="hl_char">:</span><span class="hl_char">=</span>x&nbsp;<span class="hl_function"><b>xor</b></span>&nbsp;<span class="hl_char">(</span>x&nbsp;<span class="hl_function"><b>shr</b></span>&nbsp;<span class="hl_number">4</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_char">(</span><span class="hl_char">(</span>crc&nbsp;<span class="hl_function"><b>shl</b></span>&nbsp;<span class="hl_number">8</span><span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>xor</b></span>&nbsp;<span class="hl_char">(</span>x&nbsp;<span class="hl_function"><b>shl</b></span>&nbsp;<span class="hl_number">12</span><span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>xor</b></span>&nbsp;<span class="hl_char">(</span>x&nbsp;<span class="hl_function"><b>shl</b></span>&nbsp;<span class="hl_number">5</span><span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>xor</b></span>&nbsp;x<span class="hl_char">)</span>&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;<span class="hl_char">$</span>FFFF<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>end</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;Result<span class="hl_char">:</span><span class="hl_char">=</span>crc<span class="hl_char">+</span><span class="hl_char">(</span><span class="hl_function">Byte</span><span class="hl_char">(</span>bSumPos<span class="hl_char">)</span>&nbsp;<span class="hl_char">*</span>&nbsp;sum<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>end</b></span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function"><b>end</b></span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=315021&amp;user=17319&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=10" class="addthx" data-post="315021"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]zabriskie[/b]','')">zabriskie</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 1.9 (гость), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.61'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=33394">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 декабря 2012 22:59 &middot; Поправил: zabriskie <br><script type="text/javascript">QU('zabriskie','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=zabriskie" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
О ссылках. Большинству это не нужно, а те, кто хоть немного сведущ во внутреннем устройстве VFP, знают это.<br><br>P.S. Не вполне понял, причём тут crc16. Это то самое, где непонятный case ? Если нет, то <br>возможно, что в вашем случае объектный код модифицирован так, что никогда не будет соответствовать восстановленному ReFox-ом коду. А может быть где-то другая часть кода модифицирует системную dll, и инструкция выполняется как-то не так.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=315109&amp;user=33394&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=11" class="addthx" data-post="315109"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 декабря 2012 13:26 <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=20547.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>zabriskie</b> ссылки пусть будут просто как собранная в кучу инфа. свой КГ я доделал, работает. crc16 показывает как в других языках можно реализовать фокспрошную  sys(2007 .. ВАМ еще раз спасибо.
<br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=315137&amp;user=17319&amp;forum_n=3&amp;topic=20547.html&amp;page=0&amp;anchor=12" class="addthx" data-post="315137"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/default.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=3&sortBy=0&page=0.html"><b>Софт, инструменты</b></a> <b class=bulletHead>&#8212;&#8250;</b> FoxPro наработки</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=20547" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
