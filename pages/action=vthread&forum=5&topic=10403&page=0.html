<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>технология взлома триальной программы....AtmanAVR 5.8.6 - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Приветсвую всех! Столкнулся с такой проблемой новичка. Программа AtmanAVR 5.8.6 судя по Peid_0.9 не запакована (Visual C++ 6.0).Триальная программа на 30 дней. Сведения о триале &quot;вероятно&quot; хранятся в реестре.">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40607'>vsv1</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a> (+3 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> технология взлома триальной программы....AtmanAVR 5.8.6</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]jkjk[/b]','')">jkjk</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=13981">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2007 10:53 <br><script type="text/javascript">QU('jkjk','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=jkjk" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Приветсвую всех!<br><br>Столкнулся с такой проблемой новичка.<br>Программа AtmanAVR 5.8.6 судя по Peid_0.9 не запакована (Visual C++ 6.0).Триальная программа на 30 дней.<br>Сведения о триале &quot;вероятно&quot; хранятся в реестре. (&quot;вероятно&quot; потому, что - с регмонитором не научился еще ковырять реестр)<br>Регистрация организована не на сервере онлайн. а путем отсылки некоторого сгенеренного при запуске кода разработчику с получением ответного кода......<br><br> Программа не пишет сколько дней осталось/прошло.Просто при запуске через месяц выводит окно с регистрацией.....при неудачной регистрации закрывается без месэйжбоксов и ..соответственно бряки на (messagebox и getwindowstextов) них бесполезны.....Может подскажете как найти процедуру проверки регистрации не имея ясно выраженных признаков начала/окончания проверки... <br><br>писал в запросы на взлом программ..http://www.exelab.ru/f/action=vthread&amp;forum=2&amp;to pic=10399 <br><br> <br><br><img src="img/attach.gif" alt=""> <a href="./files/7254_07.11.2007_CRACKLAB.rU.tgz">7254_07.11.2007_CRACKLAB.rU.tgz</a> - Безымянный.JPG
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=166934&amp;user=13981&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=1" class="addthx" data-post="166934"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]jkjk[/b]','')">jkjk</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=13981">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2007 11:18 <br><script type="text/javascript">QU('jkjk','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=jkjk" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
скриншот<br><br><img src="img/attach.gif" alt=""> <a href="./files/8c40_08.11.2007_CRACKLAB.rU.tgz">8c40_08.11.2007_CRACKLAB.rU.tgz</a> - Безымянный.JPG
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=166939&amp;user=13981&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=2" class="addthx" data-post="166939"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]DMD[/b]','')">DMD</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 85.5 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.59'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2007 13:27 &middot; Поправил: DMD <br><script type="text/javascript">QU('DMD','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DMD" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<I>jkjk пишет:<br>Может подскажете как найти процедуру проверки регистрации не имея ясно выраженных признаков начала/окончания проверки...  </I><br><br>каковой, похоже, нет.<br><br>при регистрации программка некий СТАБИЛЬНЫЙ, похоже, это некий iD  (у меня это  0060832F584B ) преобразует в то, что видно как INDEX CODE и регулярно мутирует.<br>потом можно поймать место считывания REG CODE.<br><br>так вот в чем вся ерунда: этот рег код ни разу не обрабатывается. те. совсем..  никак.. никакие бряки не срабатывают. и вполне красиво выходим на EXIT.<br><br>ps/ никакой вменяемый аффтор не будет требовать:<br><br>To register AtmanAvr C:<br>    1) Email the Index Code to info@atmanecl.net<br>    2) Wait for the reply and don&#039;t close the register window<br>    3) Copy the Register Code you received to the &quot;Register Code&quot; box<br>    4) Click OK <br><br>&quot;Чистый и не омраченный искрой разума бред.&quot; (С)<br><br>pps/ да и сайт не вызывает чувства доверия.. ни контактов.. ни тел.. ни адресов..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=166953&amp;user=892&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=3" class="addthx" data-post="166953"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]DMD[/b]','')">DMD</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 85.5 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.59'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2007 15:33 &middot; Поправил: DMD <br><script type="text/javascript">QU('DMD','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DMD" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
что бы не быть голословным...<br><br><code>0040280E   . 53                       PUSH    EBX                                       ; /Arg1<br>0040280F   . 0F94C2                   SETE    DL                                        ; |<br>00402812   . 8D8C24 1C010000          LEA     ECX, DWORD PTR [ESP+11C]                  ; |<br>00402819   . 8995 F8020000            MOV     DWORD PTR [EBP+2F8], EDX                  ; |<br>0040281F   . E8 7C170500              CALL    00453FA0                                  ; \AtmanAvr.00453FA0</code><br><br>внутри этой процедуры:<br>на останове<br><code>00454065  |. E8 E6C9FBFF              CALL    00410A50 </code><br>по адресу первого аргумента <b>будет после выполнения</b> INDEX CODE для отображения в регистрации для текущего запуска.<br>по адресу второго можно увидеть стабильный <b>iD </b><br><br>всплываем на уровень выше..<br><br>и чуть ниже<br><br><code>00402833   . E8 90BF0C00              CALL    &lt;JMP.&amp;MFC42.#2514&gt;<br>00402838   . 83F8 01                  CMP     EAX, 1<br>0040283B   . 75 23                    JNZ     SHORT 00402860</code><br><br>это запуск процедуры отображения и считывания дааных из регистрации. Останов на <br><code>00402838   . 83F8 01                  CMP     EAX, 1</code><br>сработает если ввели что-то как Reg Code и нажали ОК <br><br>что ввели можно увидеть немного проскролив окно стека<br><br><code>&#036;+178    &gt; 008F50A8  ASCII &quot;9a 44 a2 ea d4 53 28 b6 a5 42 &quot;<br>&#036;+17C    &gt; 00B77778  ASCII &quot;AAAA&quot;<br>&#036;+180    &gt; 00B86B1C  ASCII &quot;AtmanAvr is integrated development environment working with GCC Compiler for AVR.<br>AtmanAvr C IDE is shareware. You may evaluate it for a period of 30 days at no charge.<br>If you decide you wish to continue using it, you must purchase a l&quot;...<br>&#036;+184    &gt; 00B87B34  ASCII &quot;AtmanAvr is integrated development environment working with GCC Compiler for AVR.<br>AtmanAvr C IDE is shareware. You may evaluate it for a period of 30 days at no charge.<br>If you decide you wish to continue using it, you must purchase a l&quot;...</code><br><br>&quot;АААА&quot; это я ввел как пример Rec Code.<br><br>так вот, никакие бряки на адрес 00B77778  ASCII &quot;AAAA&quot; не срабатывают... <br><br>примерно вот так получается....<br><br>если это изделие в триальный период корректно работает, силы нужно посвятить нахо;дению места хранения оного для обнуления раз в месяц. <br>или определить условие ветвления &quot;Триал-Не_триал&quot;.<br><br>похоже, это самый простой выход из ситуации....
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=166978&amp;user=892&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=4" class="addthx" data-post="166978"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]jkjk[/b]','')">jkjk</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=13981">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2007 15:58 <br><script type="text/javascript">QU('jkjk','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=jkjk" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
А где ты его нашел то &quot;стабильный код&quot;??<br><br>и еще не совсем понял... &quot;рег код нигде не обрабатывается&quot;. <br>и зачем тогда автор пишет чтобы на время отправки индекс кода не закрывать программу???
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=166983&amp;user=13981&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=5" class="addthx" data-post="166983"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]DMD[/b]','')">DMD</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 85.5 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.59'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 ноября 2007 17:31 &middot; Поправил: DMD <br><script type="text/javascript">QU('DMD','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DMD" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>jkjk пишет:<br>А где ты его нашел то &quot;стабильный код&quot;??  </I><br><br>поднимаем глаза выше по тексту и внимательно читаем:<br><br><i class=x>DMD пишет:<br><br>0040281F . E8 7C170500 CALL 00453FA0 ; \AtmanAvr.00453FA0 <br><br>внутри этой процедуры: <br>на останове <br>00454065 |. E8 E6C9FBFF CALL 00410A50 <br>по адресу первого аргумента будет после выполнения INDEX CODE для отображения в регистрации для текущего запуска. <br><b>по адресу второго можно увидеть стабильный iD</b></i><br><br> * * * <br><br><I>jkjk пишет:<br>&quot;рег код нигде не обрабатывается&quot;.  </I><br>это означает, что к веденным данным как рег код программа не обращается.. по крайней мере, мне найти такое место не удалось...<br><br> * * *<br><br><I>jkjk пишет:<br> зачем тогда автор пишет чтобы на время отправки индекс кода не закрывать программу??? </I><br><br>а я знаю?! он же китаез.. кто знает о чем он думает?! <img src="img/smilies/s5.gif" alt=""> <br>но посуди сам, весьма странное условие....  <img src="img/smilies/s14.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=166997&amp;user=892&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=6" class="addthx" data-post="166997"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]DMD[/b]','')">DMD</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 85.5 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.59'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2007 09:35 <br><script type="text/javascript">QU('DMD','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DMD" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
требуется информация....<br><br>в каком состоянии это программа у тебя сейчас? <br>триал уже закончился?<br>мне нужно каким-то образом смоделировать ее поведение якобы после окончания триала. <br><br>ты не пробовал время на компе переводить? как она реагирует на это?<br><br><b>УТОЧНЕНИЕ</b><br><br><I>DMD пишет:<br>внутри этой процедуры: <br>на останове <br>00454065 |. E8 E6C9FBFF CALL 00410A50 <br>по адресу первого аргумента будет после выполнения INDEX CODE для отображения в регистрации для текущего запуска. <br>по адресу второго можно увидеть стабильный iD  </I><br><br>я был не прав: точнее, не совсем прав. <br>по адресу второго аргумента можно увидеть некую последовательность, которая является стабильным &quot;iD&quot; для данной машины<br><br><code>0012FCC0   0012FCD8  |Arg1 = 0012FCD8<br>0012FCC4   008F4B08  \Arg2 = 008F4B08<br><br>008F4AF8                          1E 00 00 00 40 00 00 00          ...@...<br>008F4B08  <b>FD DC BC FD AC E9 FD 9C D9 FD 7C DC FD CC AC FD</b>  эЬјэ¬йэњЩэ|ЬэМ¬э<br>008F4B18  <b>BC B9 FD E9 A9 FD DC E9 FD BC BC FD E9 6C </b>00 30  ј№эй©эЬйэјјэйl.0<br>008F4B28  30 36 30 38 33 32 46 35 38 34 42 7D 00 F0 AD BA  060832F584B}.р­є</code><br><br>и кажется мне, что последующие ASCII цифровые символы, который я ошибочно принял за iD, тоже как-то связаны выделенными данными.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=167120&amp;user=892&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=7" class="addthx" data-post="167120"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]jkjk[/b]','')">jkjk</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.68'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=13981">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2007 11:19 &middot; Поправил: jkjk <br><script type="text/javascript">QU('jkjk','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=jkjk" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
окончание триала смоделировать можно переведя время системы вперед (возвращаешь время назад -все в порядке)<br><br>только такая вот штука... после месяца работы перевод время системы назад не работает.<br><br>по крайней мере у меня установлена на одной машине версия 5.8.2 с оконченным триалом порядка 4-5 месяцев назад..<br>на другой машине установлена 5.8.6  неделю назад (т.е. триал еще не вышел)<br>.....на ней я вчера и двинул время впреред  и затем назад..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=167142&amp;user=13981&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=8" class="addthx" data-post="167142"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]DMD[/b]','')">DMD</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 85.5 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.59'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2007 14:00 <br><script type="text/javascript">QU('DMD','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DMD" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
ясно.. <br><br>видно, дело сложное и придется лесть в глубины MFC.. попробуем...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=167165&amp;user=892&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=9" class="addthx" data-post="167165"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]DMD[/b]','')">DMD</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 85.5 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.59'>Активность: 0.04<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=892">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 ноября 2007 10:25 &middot; Поправил: DMD <br><script type="text/javascript">QU('DMD','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DMD" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=10403.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
Есть новости.. есть полезные.. есть плохие...<br><br>выловлено место считывания рег.кода. (выловить можно по USER32.GetWindowTextA)<br>дальнейшее напоминает хороший дидюктив...<br>при вводе очередной цифры введенные код несколько прикрывается, что бы не лежать в открытом виде.<br>Процедура полностью &quot;обратна&quot; и помимо &quot;закрытия&quot; рег.кода в последующем еще восстанавливает рег.код перед его использованием. И еще самое интересное - восстанавливает стринги, по которым программа пытается детектировать:<br><br><code>\.\SICE<br>\.\NTICE<br>\.\SIWDEBUG<br>\.\SIWVID<br>\.\FILEMON<br>\.\FILEVXD<br>\.\REGMON<br>\.\REGVXD<br>\.\Trw<br>\.\Trw2000<br>\.\TRWDEBUG</code><br><br>введенный, скрытый рег.код при нажатии ОК в окне регистрации { <b>код что будет считан в этот момет - не используется!! </b>} и ранее обработанный, будет восстановлен, переведен в hex-представление {было введено ASCII &quot;35871020&quot; - получим в одном из регистров hex-число 0х35871020}.<br>чуть позже будет использование этого числа как аргумент<br><br><code>PUSH    EAX                                       ; /seed<br>CALL    DWORD PTR [&lt;&amp;MSVCRT.srand&gt;]               ; \srand<br>.<br>.CALL    DWORD PTR [&lt;&amp;MSVCRT.rand&gt;]</code><br><br>вот и все.. на этом использование рег.кода закончилось....<br><br> * * *<br><br>теперь несколько слов о триале... <br><br>да, китайский парень хорошо поработал. что можно найти при изучении программы и что можно пытаться сделать в будующем, если метод &quot;А&quot;  не поможет?<br><br>нужно брать машину без AtmanAvr.. ставить какую-нибуть программу для работы с реестром с возможностью делать копии рееста + возможность сравнения копий + возможность делать откат на любую копию. отследить руками/глазами изменения всех ключей и значение - почти невозможно. Ну и пробовать отловить триальные ключи. может быть получится...  <br>Это первое. <br>Второе - Первый запуск AtmanAvr через Олли! с остановом на KERNEL32.CreateFileW.. остановов будет не очень много, но терпением все равно придется запастить. Это даст список файлов к которым пытается обратить программа. Потом включаем голову и думаем о вечном...<br><br>Собственно метод &quot;А&quot;:<br> 1) найти в системе (это должно быть в корне системы в папке %\SYSTEM\ ) и удалить ВСЕ &quot;Stiopt.dll&quot; файлы.<br> 2) удалить в реестре HKEY_CURRENT_USER\Software\Atman<br> 3) запустить программу и ввсести все что угодно в рег.код - да, программа сама закроется. <br> 4) рестарт программы.<br><br>*) почему именно &quot;Stiopt.dll&quot; ..? потому что именно с ним аффтор делает такое:<br><br><code>011F81E8   6C2D64E8  /CALL to CreateFileA from MFC42.6C2D64E2<br>011F81EC   00B89D48  |FileName = &quot;C:\WINNT\SYSTEM\Stiopt.dll&quot;<br>011F81F0   80000000  |Access = GENERIC_READ<br>011F81F4   00000000  |ShareMode = 0<br>011F81F8   011F8318  |pSecurity = 011F8318<br>011F81FC   00000003  |Mode = OPEN_EXISTING<br>011F8200   00000080  |Attributes = NORMAL<br>011F8204   00000000  \hTemplateFile = NULL<br><br> Result<br> 01348424   <b>000000F0</b> !!! *<br> 01348428   00000001<br> 0134842C   00B89E08  ASCII &quot;C:\WINNT\SYSTEM\Stiopt.dll&quot;</code><br><br>и после обработки :<br><br><code>PUSH    EDX                                       ; /pLastWrite<br>MOV     EDX, DWORD PTR [ESP+F0]                   ; |<br>LEA     ECX, DWORD PTR [ESP+108]                  ; |<br>PUSH    EAX                                       ; |pLastAccess<br>PUSH    ECX                                       ; |pCreationTime<br>PUSH    EDX                                       ; |hFile<br>CALL    DWORD PTR [&lt;&amp;KERNEL32.GetFileTime&gt;]       ; \GetFileTime<br><br> Stack<br> 01348328   000000FC  |<b>hFile = 000000F0 </b>!!! *<br> 0134832C   0134843C  |pCreationTime = 0134843C<br> 01348330   01348444  |pLastAccess = 01348444<br> 01348334   01348430  \pLastWrite = 01348430</code><br><br>этот метод позволил запустить программу после того, как в процессе исследования и правки пары переходов при сравнении свертки рег.ключа с каким-то значением, программа при запуске стала давала неизвестное ей исключение и просто рушилась. Без варинтов на восстановление...<br><br>этот же метод должен помочь запустить программу при откате даты в начало ее триального периода. Правда, это нужно проверить на машине с реальной клинической картиной.<br><br>ps/  еслии ввести валидный рег.код - будет сформирован &quot;AtmanAvr.licence&quot; {нет, я не ошибся в написании - именно так и задумано аффтором!}.<br>теоритически, такой файл можно импортировать при регистрации на другой машине.. вот только проскочится ли это? хз! я не знаю...<br><br>* * * <br><br>Послесловие.<br><br>случай весьма не тривиальный... аффтор - чудак с весьма приличном чувством юмора и неплохими познаниями...<br>как с ним бороться:<br> - с регистрацией - пока не знаю..<br> - с триалом - см. выше...<br><br>будут вопросы, будет что не понятно или интересно - в личку .. постараюсь ответить.. <img src="img/smilies/s1.gif" alt=""><br><br>pps/ и последнне .. для особо рвущихся в бой (если таковые есть :s6<img src="img/smilies/s1.gif" alt=""> .. <br>при старте программы в не триальный период времени необходимость запуска окна &quot;Регистрация&quot; &quot;ведает&quot; процедура 0040A130 {процедура очень длинная - ее окончание - 0040E14F}, в которой в триальный период один из маркеров  установлен в &quot;0х01&quot;, в НЕ_триальный - в &quot;0х00&quot;.<br><code>MOV     BYTE PTR [56555B], AL</code><br><br>Попытка просто изменить маркер после Proc_0040A130 - не даст ни каких разумных результатов.<br><br>при достаточной усидчивости и терпению, можно пройти эту процедуру в НЕ_триальный период как бы в триальный период - попровляя переходы.. да, программа запуститься без окна регистрации.. но все равно сама собой закроется  .. и что мне особо взбесило (но с этим я так и не стал разбираться) с убиением Олли!...<br><br>Успехов! <img src="img/smilies/s1.gif" alt=""> <img src="img/smilies/s2.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=167650&amp;user=892&amp;forum_n=5&amp;topic=10403.html&amp;page=0&amp;anchor=10" class="addthx" data-post="167650"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> технология взлома триальной программы....AtmanAVR 5.8.6</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#11" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="10403">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=10403" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
