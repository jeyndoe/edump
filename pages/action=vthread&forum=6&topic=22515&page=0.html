<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Вопрос по лоадеру-2 - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Коллеги, еще раз спасибо за наставления в теме --&gt; Link &lt;-- все работало как надо и было хорошо... Теперь ситуация изменилась - возникло два вопроса. Для начала цель: Приложение упаковано UPX. Нужно загрузить его с помощью">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=31361'>zds</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Вопрос по лоадеру-2</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]figgler[/b]','')">figgler</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.2 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8982">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 17:32 <br><script type="text/javascript">QU('figgler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=figgler" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Коллеги, еще раз спасибо за наставления в теме  <noindex><a href="http://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22142" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex> все работало как надо и было хорошо...<br>Теперь ситуация изменилась - возникло два вопроса.<br><br>Для начала цель:<br>Приложение упаковано UPX.<br>Нужно загрузить его с помощью лоадера и пропатчить код.<br>Остальное такое же как по ссылке выше.<br><br>Вопрос:<br>При загрузке упакованного/распакованного приложения загрузчик не находит адреса нужных функций как это было реализовано в вышеуказанной теме - подскажите куда копать в таком случае и где их, адреса импортируемых функций, искать...<br><br>Спасибо.<br><br>З.Ы. Извините старую тему закрыл по глупости...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336797&amp;user=8982&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=1" class="addthx" data-post="336797"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=37170" title="10-04-2014 11:58, ранг:0.0" target="_blank">enquired</a></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Vovan666[/b]','')">Vovan666</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 617.3 (<b>!</b>), 677thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.06'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5291">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 17:44 &middot; Поправил: Vovan666 <br><script type="text/javascript">QU('Vovan666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vovan666" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<b>figgler</b><br>Ну дык и перечитай ссылку выше....<br>Ставишь хук на последний jmp и пошел-поехал код патчить.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336798&amp;user=5291&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=2" class="addthx" data-post="336798"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Rio[/b]','')">Rio</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 95.5 (постоянный), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.56'>Активность: 0.08<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=8605">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 17:48 &middot; Поправил: Rio <br><script type="text/javascript">QU('Rio','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Rio" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br><div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">00469DA5</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">61</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">POPAD</span></li><li class="hl_l1"><span class="hl_number">00469DA6</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">8D4424</span>&nbsp;<span class="hl_number">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>LEA</b></span>&nbsp;<span class="hl_registr">EAX</span><span class="hl_char">,</span><span class="hl_function"><b>DWORD</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">SS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">ESP</span><span class="hl_char">-</span><span class="hl_number">80</span><span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_number">00469DAA</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">6A</span>&nbsp;<span class="hl_number">00</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>PUSH</b></span>&nbsp;<span class="hl_number">0</span></li><li class="hl_l1"><span class="hl_number">00469DAC</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">39C4</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>CMP</b></span>&nbsp;<span class="hl_registr">ESP</span><span class="hl_char">,</span><span class="hl_registr">EAX</span></li><li class="hl_l0"><span class="hl_number">00469DAE</span>&nbsp;&nbsp;^&nbsp;<span class="hl_number">75</span>&nbsp;FA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>JNZ</b></span>&nbsp;<span class="hl_function"><b>SHORT</b></span>&nbsp;Project1<span class="hl_char">.</span><span class="hl_number">00469DAA</span></li><li class="hl_l1"><span class="hl_number">00469DB0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">83EC</span>&nbsp;<span class="hl_number">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>SUB</b></span>&nbsp;<span class="hl_registr">ESP</span><span class="hl_char">,</span><span class="hl_char">-</span><span class="hl_number">80</span></li><li class="hl_l0"><span class="hl_number">00469DB3</span>&nbsp;&nbsp;&nbsp;&nbsp;EB&nbsp;<span class="hl_number">11</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>JMP</b></span>&nbsp;<span class="hl_function"><b>SHORT</b></span>&nbsp;Project1<span class="hl_char">.</span><span class="hl_number">00469DC6</span></li><li class="hl_l1"><span class="hl_number">00469DB5</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">NOP</span></li><li class="hl_l0"><span class="hl_number">00469DB6</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">NOP</span></li><li class="hl_l1"><span class="hl_number">00469DB7</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">NOP</span></li><li class="hl_l0"><span class="hl_number">00469DB8</span>&nbsp;&nbsp;&nbsp;&nbsp;D09D&nbsp;<span class="hl_number">4600E09D</span>&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>RCR</b></span>&nbsp;<span class="hl_function"><b>BYTE</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">SS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">EBP</span><span class="hl_char">+</span><span class="hl_number">9DE00046</span><span class="hl_char">]</span><span class="hl_char">,</span><span class="hl_number">1</span></li><li class="hl_l1"><span class="hl_number">00469DBE</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">46</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>INC</b></span>&nbsp;<span class="hl_registr">ESI</span></li><li class="hl_l0"><span class="hl_number">00469DBF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">009C30</span>&nbsp;<span class="hl_number">45000000</span>&nbsp;<span class="hl_function"><b>ADD</b></span>&nbsp;<span class="hl_function"><b>BYTE</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">DS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_registr">EAX</span><span class="hl_char">+</span><span class="hl_registr">ESI</span><span class="hl_char">+</span><span class="hl_number">45</span><span class="hl_char">]</span><span class="hl_char">,</span><span class="hl_registr">BL</span></li><li class="hl_l1"><span class="hl_number">00469DC6</span>&nbsp;&nbsp;&nbsp;&nbsp;C605&nbsp;AC334500&nbsp;<span class="hl_number">9</span><span class="hl_char">&gt;</span><span class="hl_function"><b>MOV</b></span>&nbsp;<span class="hl_function"><b>BYTE</b></span>&nbsp;<span class="hl_function"><b>PTR</b></span>&nbsp;<span class="hl_registr">DS</span><span class="hl_char">:</span><span class="hl_char">[</span><span class="hl_number">4533AC</span><span class="hl_char">]</span><span class="hl_char">,</span>&nbsp;0x90</li><li class="hl_l0"><span class="hl_number">00469DCD</span>&nbsp;&nbsp;^&nbsp;E9&nbsp;DA85FEFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>JMP</b></span>&nbsp;Project1<span class="hl_char">.</span><span class="hl_number">004523AC</span></li>        </ol>
    </div>
</div></div>
<br>после распаковки записываем по адресу 004533AC (у тебя естественно другой) напрмер инструкцию nop и прыгаем на OEP
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336799&amp;user=8605&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=3" class="addthx" data-post="336799"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]figgler[/b]','')">figgler</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.2 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8982">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 18:35 &middot; Поправил: figgler <br><script type="text/javascript">QU('figgler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=figgler" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Может чего не понял или вопрос не правильно задал - спрошу еще раз - При загрузке упакованного/распакованного приложения загрузчик не находит адреса нужных функций как это было реализовано в вышеуказанной теме. <br><br>Если ранее функция которая ищет адреса выдавала адрес то теперь она выдает 0000000 и таблица импорта в которой оно пытается найти адреса тоже пустая...<br><br>Это происходит и в запакованной версии и в заранее распакованной...<br><br>Или оно не находит адреса так как еще не распаковалось? Но тогда почему не находит в распакованной версии...?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336805&amp;user=8982&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=4" class="addthx" data-post="336805"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Dr0p[/b]','')">Dr0p</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/33727.png" alt=""><br><span class=txtSm>Ранг: 72.3 (постоянный), 133thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.5'>Активность: 0.38<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33727">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 20:58 &middot; Поправил: Dr0p <br><script type="text/javascript">QU('Dr0p','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dr0p" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
&gt;  загрузчик не находит адреса нужных функций<br><br>Угадаю на личном опыте. Фейлит RtlpWalkImportDeskriptor() из за отсутствия длл флага в пе хидере. Возможно название апи немного иное, так как пишу по памяти.<br><br>Ну а далее - есть разница между подгрузкой длл и экзе. Для длл лучший лодер - мой LWE, для экзе приемлимых нет. Есть нерабочий фикалий.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336817&amp;user=33727&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=5" class="addthx" data-post="336817"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]figgler[/b]','')">figgler</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.2 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8982">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 21:06 <br><script type="text/javascript">QU('figgler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=figgler" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Речь не о ДЛЛ...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336818&amp;user=8982&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=6" class="addthx" data-post="336818"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Vovan666[/b]','')">Vovan666</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 617.3 (<b>!</b>), 677thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.06'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5291">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 21:16 <br><script type="text/javascript">QU('Vovan666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vovan666" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Закройте, чтоль тему, тс, нифига не учится....
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336819&amp;user=5291&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=7" class="addthx" data-post="336819"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]figgler[/b]','')">figgler</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.2 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8982">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 21:36 &middot; Поправил: figgler <br><script type="text/javascript">QU('figgler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=figgler" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>Vovan666</b> извини конечно за тупость, но все же... уже и предидущую тему сто раз перечитал и перепробовал все что в голову пришло  - ну вот тупо не вижу... в чем фишка?<br><br>Даже достаточно будет намекнуть почему с РАСПАКОВАННЫМ файлом поиск функций не работает - хотя раньше (до того как файл начали паковать ЮПХ) все работало...<br><br>Провел тест - взял файл который РАБОТАЕТ, запаковал , распаковал - НЕ работает...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336821&amp;user=8982&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=8" class="addthx" data-post="336821"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Rio[/b]','')">Rio</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 95.5 (постоянный), 36thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.56'>Активность: 0.08<span style='color:red'>&searr;</span>0.04</span><br>Статус: <a href="action=userinfo&amp;user=8605">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 22:19 <br><script type="text/javascript">QU('Rio','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Rio" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>figgler пишет:<br>Провел тест - взял файл который РАБОТАЕТ, запаковал , распаковал - НЕ работает...  </I><br>ты сам ответил:<br>&gt;&gt;распаковал - НЕ работает...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336825&amp;user=8605&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=9" class="addthx" data-post="336825"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 390thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 23:37 <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>figgler пишет:<br>Провел тест - взял файл который РАБОТАЕТ, запаковал , ... </I><br>-- на этом этапе работает (после упаковки)? Если нет - то UPX не подходит. Может, и не только UPX.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336829&amp;user=35473&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=10" class="addthx" data-post="336829"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]figgler[/b]','')">figgler</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.2 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8982">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 января 2014 23:52 &middot; Поправил: figgler <br><script type="text/javascript">QU('figgler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=figgler" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
В общем я все еще туплю - если уважаемые гуру объяснят почему так происходит (в смысле не почему я туплю, а почему запакованное/распакованное приложение перестает работать с загрузчиком) буду весьма рад...<br><br>Свою проблему я решил совершенно другим способом, гораздо проще и к удивлению по не известной причине не пришедшей мне в голову еще раньше, хотя в этом решении тоже мугут быть свои нюансы.<br><br>Завтра закрою тему. <br>Спасибо.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336830&amp;user=8982&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=11" class="addthx" data-post="336830"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Vovan666[/b]','')">Vovan666</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 617.3 (<b>!</b>), 677thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.06'>Активность: 0.54<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5291">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 января 2014 02:41 &middot; Поправил: Vovan666 <br><script type="text/javascript">QU('Vovan666','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vovan666" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Сами себе геморрой устраивают, обязательно тему создадут, скажут, что это где-то в районе жопы и  в конце нихера не скажут как лечить.<br>Тему нахера создавал-то?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336833&amp;user=5291&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=12" class="addthx" data-post="336833"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]figgler[/b]','')">figgler</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 11.2 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.5'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8982">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 января 2014 04:36 &middot; Поправил: figgler <br><script type="text/javascript">QU('figgler','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=figgler" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>Vovan666 пишет:<br>Тему нахера создавал-то? </I><br>Хотел и хочу понять почему программа неупакованная,  лоадером грузится нормально (нормально в моем случае это создан процесс, остановлен, найдены необходимые адреса в таблице импорта и тд), а упакованная UPXom также как и потом распакованная (эта же) делает все тоже самое кроме связанного с таблицей импорта.<br><br>На текущий момент проблему решил используя загрузку нужной длл в лоадер после чего получаю адреса функций длл и патчу их. При этом такой метод в старом приложении не срабатывает , там я находил адреса функций через таблицу импорта. Вот и интересно почему так.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336836&amp;user=8982&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=13" class="addthx" data-post="336836"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Dr0p[/b]','')">Dr0p</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/33727.png" alt=""><br><span class=txtSm>Ранг: 72.3 (постоянный), 133thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.5'>Активность: 0.38<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33727">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 января 2014 20:24 <br><script type="text/javascript">QU('Dr0p','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dr0p" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=22515.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>figgler</b><br><br>&gt; если уважаемые гуру объяснят почему так происходит (в смысле не почему я туплю, а почему запакованное/распакованное приложение перестает работать с загрузчиком) буду весьма рад..<br><br>Да не гуру, вам к гадалкам. Цигане это умеют. Я вот не могу угадать. Не работает&quot; это не описание и даже не симптом.<br><br>Отладчик не православненько как обычно <img src="img/smilies/s16.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=336862&amp;user=33727&amp;forum_n=6&amp;topic=22515.html&amp;page=0&amp;anchor=14" class="addthx" data-post="336862"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Вопрос по лоадеру-2</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=22515" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
