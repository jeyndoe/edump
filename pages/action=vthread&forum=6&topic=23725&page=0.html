<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>SDK Android Emulator - установка своего сертификата - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="* Проблема При установке сертификата в корень доверенных, подписанные им сертификаты для сайтов - все равно не действительны. Уточняю, что интересует именно оф. эмулятор из SDK, так как есть нюансы при работе с другими">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40382'>jinoweb</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> SDK Android Emulator - установка своего сертификата</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 августа 2015 21:40 <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
* Проблема<br><br>При установке сертификата в корень доверенных, подписанные им сертификаты для сайтов - все равно не действительны. Уточняю, что интересует именно оф. эмулятор из SDK, так как есть нюансы при работе с другими эмуляторами или реальным устройством.<br><br>Стоит отметить, что подразумеваю рутованный эмулятор (на всякий случай, вдруг что то в посте это подразумевает). Для оф. эмулятора это еще нужно сделать.<br><br>Проблему разделяю на несколько под-проблем:<br>- Правильная установка сертификата;<br>- Правильная подпись SSL сертификатов ключом корневого сертификата, что был установлен на устройство;<br>- Методы определения программ, которые делают дополнительные проверки сертификата;<br>- Правильная проксификация эмулятора, если нужно.<br><br>* Установка сертификата:<br><br>На реальном устройстве можно добавить открыв ссылку на загрузку сертификата в браузере или через настройки WI-FI, или через настройки Безопасность - предварительно положив файл сертификата на диск (я так и не разобрался в каком формате и как называть файл). Этот способ доступен в андроиде только после задания пароля или пин-кода на устройство. На сколько я понимаю так работает зашифрованный контейнер где-то внутри системы. Некоторые эмуляторы типа BlueStacks не дают возможность задать пароль или пин код. Так сложилось что я пошел искать другой способ.<br><br>Подготавливаем и закачиваем сертификат на устройство:<br>- Преобразуем в файл HASH.0 bat&#039;ником <noindex><a href="https://gist.github.com/Ruzzz/9a772452c1bc919f7496" rel="nofollow" target="_blank">andrd_prepcert.bat</a></noindex><br>- Загружаем на устройство
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">adb&nbsp;shell&nbsp;su&nbsp;busybox&nbsp;mount&nbsp;<span class="hl_char">-</span>o&nbsp;remount<span class="hl_char">,</span>rw&nbsp;<span class="hl_char">/</span>system</li><li class="hl_l1">adb&nbsp;<span class="hl_function"><b>push</b></span>&nbsp;HASH<span class="hl_char">.</span><span class="hl_number">0</span>&nbsp;<span class="hl_char">/</span>system<span class="hl_char">/</span>etc<span class="hl_char">/</span>security<span class="hl_char">/</span>cacerts</li>        </ol>
    </div>
</div></div>
<br><br>* Правильная подпись<br><br>Установка сертификата все равно не решает проблем, например при попытке просмотреть трафик используя метод mitm, даже браузер говорит что сертификат без доверия.<br><br>- Гугл подсказал что иногда спасает правильная дата на эмуляторе, относительно нашего хоста. Насколько я понял, это проблема если мы подписываем сертификат сайта и указываем текущее время? Поигрался и не увидел в этом проблемы;<br>- В поле сертификата есть сайт, которому мы выдаем этот сертификат (чей трафик снифаем), или нужно что-то еще?<br>- Certificate Pinning - это проверка всей цепочки сертификатов в текущем (на сколько я понимаю). В случае если наш сертификат добавлен, то можем ли мы рассчитывать, что хотя бы в браузере андроида этот самый pinning будет пройден? Не могут же все (даже оф.) приложения держать свое хранилище доверенных сертификатов. Что я подразумеваю под «можем ли мы рассчитывать»? Могу ли сразу же отбросить проблему «Certificate Pinning» если оф браузер кричит на сертификат подписанный тем что есть в хранилище доверенных, и искать проблему в другом?<br><br>* Программы, что делают дополнительные проверки сертификата<br><br>Ну ясно что в программу может быть добавлен свой корневой сертификат, для проверки ответов от сервера. Может быть просто проверка полей сертификата сервера (который мы подсовываем). Но вот незадача, если использовать метод по которому работает программа типа <noindex><a href="https://play.google.com/store/apps/details?id=app.greyshirts.sslcapture" rel="nofollow" target="_blank">Packet Capture.apk</a></noindex>, там метод mitm для ssl использует то что дает сам андроид - установка VPN соединения, так вот здесь все прокатывает и ни одна прога из тестируемых ни пикнула, что сертификат плохой.<br><br>И так проблема, как же правильно установить сертификат, что бы работать по методу mitmproxy, Fiddler, Burp программ, т.е. <b>сниффать трафик эмулятор на хосте, без использования прог на эмуляторе</b>?<br><br>* Правильная проксификация эмулятор<br><br>Возможно проблема где-то на уровне проксификаторов и программ для mitm атаки? Использовал эмуляторы: BlueStacks, Genymotion, SDK эмулятор, вместе с ProxyCap и Proxifier, для mitm - Fiddler и Burp. В этот раз руки не дошли до mitmproxy, хотя ранее с ним тоже была проблема с недоверием сертификату.<br><br>Если проблема есть, то я не могу ее понять. Но у некоторых прог ssl траффик обрывается на этапе «рукопожатия», т.е. не принят сертификат. ProxyCap показывает в логах ошибку winsock, но что это мне дает? Ничего.<br><br>Гугл дает ссылки на мануалы, и там все работает. Возможно проблема в том что мой хост это Windows?<br><br>* Собственно сам вопрос <img src="img/smilies/s1.gif" alt=""><br><br>Нужно сниффать SSL трафик эмулятора (важно из SDK) на хосте. Подскажите у кого уже был подобный опыт.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358176&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=1" class="addthx" data-post="358176"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]ONIK[/b]','')">ONIK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.88'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=39552">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 августа 2015 23:07 <br><script type="text/javascript">QU('ONIK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ONIK" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Не понятно что подразумевается под: <br>&quot;...- Правильная установка сертификата;...&quot;?<br>Если запросы на валидность сертификата есть или списком отзыва серт компрометирован и это проверяется положительно или отрицательно, то что еще нужно?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358183&amp;user=39552&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=2" class="addthx" data-post="358183"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 августа 2015 23:13 <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>ONIK</b><br>Ну значит этот пункт выполняется и возможно проблема в другом. Я расписал все, чтобы было понятно как и где я пытался найти решение проблемы. С другой стороны, я возможно не знаю как работает проверка сертификата из хранилища в Android. Может есть нюансы. Поэтому прошу помощи. Например список отзыва же не может содержать только что созданный мной сертификат, но после установки в хранилище доверенный корневых, у меня все равно проблемы.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358184&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=3" class="addthx" data-post="358184"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]ONIK[/b]','')">ONIK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.88'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=39552">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 августа 2015 23:21 &middot; Поправил: ONIK <br><script type="text/javascript">QU('ONIK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ONIK" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Если вы создаете &quot;сертификат&quot; (или может быть будет правильнее сказать запрос на создание сертификата) то без управления приват ключом как такой &quot;серт&quot; может быть рабочим (кем то удостоверен)? <br>А следовательно такой &quot;серт&quot; не пройдет проверки,даже если списка отзыва не будет.<br>Или серт создается по защищенному соединению онлайн?<br>Есть ли понимание как списки отзыва доставляются?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358185&amp;user=39552&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=4" class="addthx" data-post="358185"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 00:59 <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>ONIK</b><br>У меня создается впечатление, что кто-то из нас друг друга не допонял <img src="img/smilies/s1.gif" alt=""> Вполне возможно это я.<br><br>Я создаю корневой сертификат для подписи других ssl сертификатов сайтов и кидаю его в список доверенных в Андроид. После этого делаю mitm, подписывая этим сертификатом, создаваемые мной временные ssl сертификаты.<br><br>Я думаю что достаточно просто добавить сам сертификат (без приватного ключа) в хранилище доверенных, чтобы система стала ему доверять. Ну в упрощенном виде, понятно что программы могут делать дополнительные проверки сертификата своего сервера. Но оф. браузер по идее должен доверять такому сертификату?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358186&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=5" class="addthx" data-post="358186"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]ONIK[/b]','')">ONIK</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.88'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=39552">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 04:10 &middot; Поправил: ONIK <br><script type="text/javascript">QU('ONIK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ONIK" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Возможно уместно внести понимание, чтобы пролить свет на свой вопрос.<br>Если все правильно понял, то вы создаете самоподписанный серт.<br>Далее подписываете ssl сертификаты. Так?<br>Хранилище сертификатов ОС Андроид позволяет добавлять &quot;без приватного ключа&quot;? <br>Что по вашему сертификат? <br>Если это то же что и я подразумеваю (пара ключей - приват и публик заверенная другой парой ключей), то как вы умудряетесь добавить серт без приват ключа?<br>Вы пишете ... &quot;программы могут делать дополнительные проверки сертификата своего сервера&quot;.<br>Программы ваши? Работающие с сервером который обслуживается вами же?<br>Если программы и сервер не ваши, то они по логике не должны принимать запросы от &quot;гражданина с паспортом из чужого паспортно визового отдела&quot;. Конечно если между этими &quot;отделами&quot; не наведены мосты в виде доверенных отношений.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358190&amp;user=39552&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=6" class="addthx" data-post="358190"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 05:24 <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
&gt; Хранилище сертификатов ОС Андроид позволяет добавлять &quot;без приватного ключа&quot;?<br><br>По вашему все корневые сертификаты от 3-их сторон идут с приватными ключами?<br><br>&gt; Если это то же что и я подразумеваю<br>&gt; (пара ключей - приват и публик заверенная другой парой ключей),<br>&gt; то как вы умудряетесь добавить серт без приват ключа?<br><br>Мы о чем с вами вообще разговариваем?<br>Ладно, если никто не поможет, будем считать что дал некую информацию для размышления новичкам.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358191&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=7" class="addthx" data-post="358191"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]SaNX[/b]','')">SaNX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 456.3 (мудрец), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.03'>Активность: 0.28<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=2108">Участник</a><br><font color=blue>Android Reverser</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 06:18 <br><script type="text/javascript">QU('SaNX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SaNX" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
А как ты собрался расшифровывать ссл траф без приват ключа?<br>Поставь чарльза, сгенери им серт и добавь его в свой эмулятор и можешь снифать все что хочешь.
<br><br><font size="1"><i>-----<br>SaNX</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=358192&amp;user=2108&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=8" class="addthx" data-post="358192"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 08:01 <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>SaNX</b><br>Приватный ключ не нужен на эмуляторе. Там достаточно файла сертификата в хранилище доверенных. Что тут мне отвечал ONIK, я хрен его знает. Уж извини ONIK.<br><br>&gt;Поставь чарльза, сгенери им серт и добавь его в свой эмулятор и можешь снифать все что хочешь.<br>Я тут такую простыню написал, что такой подход у меня не выходит. Правда я упомянул только mitmproxy, Fiddler, Burp, а Чарли млять забыл упомянуть.<br><br>Вот <b>SaNX</b> ты когда последний раз снифал в эмуляторе SSL трафик без проблем? Можно хотя бы версию и название эмулятора, а также версию Андроида. Я скачаю даже Чарли для этого. Я просто уже все перепробовал и нифига не пойму в чем у меня проблема. Сертификаты, которые я генерирую для сайтов «на лету» - невалидные и все. Как буд-то не принимается корневой, который я установил в эмулятор.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358193&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=9" class="addthx" data-post="358193"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]SaNX[/b]','')">SaNX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 456.3 (мудрец), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.03'>Активность: 0.28<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=2108">Участник</a><br><font color=blue>Android Reverser</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 08:22 &middot; Поправил: SaNX <br><script type="text/javascript">QU('SaNX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SaNX" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>now_zorro пишет:<br>Приватный ключ не нужен на эмуляторе. </I><br>он нужен в прокси <img src="img/smilies/s1.gif" alt=""><br><br><I>now_zorro пишет:<br>Вот SaNX ты когда последний раз снифал в эмуляторе SSL трафик без проблем? </I><br>никогда, я меня тел есть для этого.
<br><br><font size="1"><i>-----<br>SaNX</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=358194&amp;user=2108&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=10" class="addthx" data-post="358194"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 08:54 &middot; Поправил: now_zorro <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>SaNX</b><br>Тогда зачем ты мне советовал?<br>&gt; Поставь чарльза, сгенери им серт и добавь его в свой эмулятор и можешь снифать все что хочешь. <br><br>&gt; он нужен в прокси<br>Я в разделе «Вопросы новичков» запостил? Не обращай внимание на разницу в «рангах» и прочитай внимательно мой пост в начале ветки, уверен ты для себя найдешь что-то новенькое и интересное.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358195&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=11" class="addthx" data-post="358195"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]SaNX[/b]','')">SaNX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 456.3 (мудрец), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.03'>Активность: 0.28<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=2108">Участник</a><br><font color=blue>Android Reverser</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 10:35 &middot; Поправил: SaNX <br><script type="text/javascript">QU('SaNX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SaNX" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>now_zorro пишет:<br>Тогда зачем ты мне советовал? </I><br>потому что на теле работает без проблем <img src="img/smilies/s1.gif" alt=""><br><br><I>now_zorro пишет:<br>уверен ты для себя найдешь что-то новенькое и интересное. <br> </I><br>ога, ты прямо светило в мире андроида. как мы тут без тебя жили, ума не приложу.<br><br>ЗЫ: врядли тебе кто-то что-то посоветует, ибо юзать родной тупой эмулятор - это пиздец. нормальные люди покупают гавнасмарт за 1000 рублей и снифают без проблем.
<br><br><font size="1"><i>-----<br>SaNX</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=358197&amp;user=2108&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=12" class="addthx" data-post="358197"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]now_zorro[/b]','')">now_zorro</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 7.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.35'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=34223">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 11:07 <br><script type="text/javascript">QU('now_zorro','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=now_zorro" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>SaNX</b><br>Если мне нужно дебажить в разных версиях андроида, делать снапшоты виртуалки, иметь возможность экспериментировать с образом системы, то тут лучше эмулятор.<br>А так если комп слабый, то лучше дебажить на устройстве, согласен. Так дешевле, хоть и страшно неудобно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=358198&amp;user=34223&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=13" class="addthx" data-post="358198"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]SaNX[/b]','')">SaNX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 456.3 (мудрец), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.03'>Активность: 0.28<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=2108">Участник</a><br><font color=blue>Android Reverser</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2015 11:23 <br><script type="text/javascript">QU('SaNX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SaNX" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=23725.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<I>now_zorro пишет:<br>А так если комп слабый, </I><br>у меня коре-и7, винт ссд, 5 гигов оперативы. эмулятор ради интереса щас запустил - около 5 минут грузился. У меня на виртуалке мак столько времени запускается. Еще мощнее комп надо для этого гугловского говна?
<br><br><font size="1"><i>-----<br>SaNX</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=358200&amp;user=2108&amp;forum_n=6&amp;topic=23725.html&amp;page=0&amp;anchor=14" class="addthx" data-post="358200"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> SDK Android Emulator - установка своего сертификата</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#15" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="23725">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=23725" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
