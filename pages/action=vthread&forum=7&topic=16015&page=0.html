<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>расшифровка картинки - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Есть софтина, которая сохраняет картинку в свой формат .img, а также в .bmp. Хочется написать тулзу, которая могла бы читать сохраненный той программой .img. Я вот посмотрел через hex оба файла (.img и .bmp.), они похожи. Но я не">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=50833'>vasilevradislav</a> (+2 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/mod.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=7&sortBy=0&page=0.html"><b>Оффтоп</b></a> <b class=bulletHead>&#8212;&#8250;</b> расшифровка картинки</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.54'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 марта 2010 23:05 <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Есть софтина, которая сохраняет картинку в свой формат .img, а также в .bmp.<br>Хочется написать тулзу, которая могла бы читать сохраненный той программой .img.<br>Я вот посмотрел через hex оба файла (.img и .bmp.), они похожи. Но я не могу придумать, <br>как программно читать .img и, например, делать его просмотр(на форму в делфи или еще куда-нибудь).<br>Файлы прикрепил<br><noindex><a href="http://filesurf.ru/172723" rel="nofollow" target="_blank">Файл</a></noindex><br><noindex><a href="http://www.x2b.ru/get/76468" rel="nofollow" target="_blank">Зеркало 1</a></noindex><br><noindex><a href="http://exfile.ru/91578" rel="nofollow" target="_blank">Зеркало 2</a></noindex><br><noindex><a href="http://www.filehoster.ru/files/ex9035" rel="nofollow" target="_blank">Зеркало 3</a></noindex><br><noindex><a href="http://www.sharemania.ru/0299321" rel="nofollow" target="_blank">Зеркало 4</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254710&amp;user=3355&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=1" class="addthx" data-post="254710"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]_ruzmaz_[/b]','')">_ruzmaz_</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 114.8 (ветеран), 41thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.01'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21589">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 00:20 &middot; Поправил: _ruzmaz_ <br><script type="text/javascript">QU('_ruzmaz_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=_ruzmaz_" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
не просто похожи)<br>.img - это тот же самый бмп, но без заголовка и палитры (что плохо)<br><br>кстати, что на фотке?))<br>// нло? <img src="img/smilies/s6.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254712&amp;user=21589&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=2" class="addthx" data-post="254712"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 03:34 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
они все 8ми битные наверное и палитра используется по умолчанию<br>грузи этот img просто в растр TBitmap&#039;а и выводи куда хочешь
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=254722&amp;user=6946&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=3" class="addthx" data-post="254722"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.54'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 17:03 <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>Isaev пишет:<br>грузи этот img просто в растр TBitmap&#039;а и выводи куда хочешь </I><br><br>А как? Приведи пример
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254762&amp;user=3355&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=4" class="addthx" data-post="254762"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]MasterSoft[/b]','')">MasterSoft</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 281.8 (наставник), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.17'>Активность: 0.25<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=16624">Участник</a><br><font color=blue>Destroyer of protectors</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 19:40 <br><script type="text/javascript">QU('MasterSoft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=MasterSoft" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<I>Isaev пишет:<br>грузи этот img просто в растр TBitmap&#039;а и выводи куда хочешь  </I><br>мну кажется что что TBitmap не позволит грузить изображение в котором нет заголовка и палитры. для начала их нужно как то добавить по умолчанию.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254773&amp;user=16624&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=5" class="addthx" data-post="254773"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 21:35 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
лентяй ты, там нет ничего сложного<br>www.efg2.com/Lab/ImageProcessing/Scanline.htm тут почитай для общего развития...<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Procedure&nbsp;TForm1<span class="hl_char">.</span>FormActivate<span class="hl_char">(</span>Sender<span class="hl_char">:</span>TObject<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">Var</li><li class="hl_l0">&nbsp;&nbsp;X<span class="hl_char">,</span>Y<span class="hl_char">:</span>Integer<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Table<span class="hl_char">:</span>Array<span class="hl_char">[</span><span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_char">.</span>W<span class="hl_char">-</span><span class="hl_number">1</span><span class="hl_char">]</span>&nbsp;Of&nbsp;<span class="hl_function"><b>Byte</b></span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Row<span class="hl_char">:</span>pByteArray<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">:</span>TBitmap<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;S<span class="hl_char">:</span>TMemoryStream<span class="hl_comment">;</span></li><li class="hl_l1">Begin</li><li class="hl_l0">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Width<span class="hl_char">:</span><span class="hl_char">=</span>W<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Height<span class="hl_char">:</span><span class="hl_char">=</span>H<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Picture<span class="hl_char">.</span>Bitmap<span class="hl_char">.</span>Width<span class="hl_char">:</span><span class="hl_char">=</span>W<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Picture<span class="hl_char">.</span>Bitmap<span class="hl_char">.</span>Height<span class="hl_char">:</span><span class="hl_char">=</span>H<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;S<span class="hl_char">:</span><span class="hl_char">=</span>TMemoryStream<span class="hl_char">.</span>Create<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;S<span class="hl_char">.</span>LoadFromFile<span class="hl_char">(</span><span class="hl_quote">'Image2d.img'</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;S<span class="hl_char">.</span>Position<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">:</span><span class="hl_char">=</span>TBitmap<span class="hl_char">.</span>Create<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>Width<span class="hl_char">:</span><span class="hl_char">=</span>W<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>Height<span class="hl_char">:</span><span class="hl_char">=</span>H<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>PixelFormat<span class="hl_char">:</span><span class="hl_char">=</span>pf8bit<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;For&nbsp;Y<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span>&nbsp;To&nbsp;H<span class="hl_char">-</span><span class="hl_number">1</span>&nbsp;Do</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;Begin</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S<span class="hl_char">.</span>ReadBuffer<span class="hl_char">(</span>Table<span class="hl_char">,</span>W<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row<span class="hl_char">:</span><span class="hl_char">=</span>pByteArray<span class="hl_char">(</span>Bmp<span class="hl_char">.</span>Scanline<span class="hl_char">[</span>Y<span class="hl_char">]</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;X<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span>&nbsp;To&nbsp;W<span class="hl_char">-</span><span class="hl_number">1</span>&nbsp;Do</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_char">:</span><span class="hl_char">=</span>Table<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>End</b></span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Picture<span class="hl_char">.</span>Graphic<span class="hl_char">:</span><span class="hl_char">=</span>Bmp<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>Free<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;S<span class="hl_char">.</span>Free<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function"><b>End</b></span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=254795&amp;user=6946&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=6" class="addthx" data-post="254795"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.54'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 22:16 &middot; Поправил: Mavlyudov <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>Isaev</b><br>Благодарю. А чему ты задал параметры W и H ? Не произвольно же взял?<br>Для того сохраненного bmp это  W=1392; H=1032;<br>Нужно как-то их считать для этого .img.<br>И еще странный факт: с параметром pf8bit рисует с нормальными пропорциями, <br>а вот с параметром pf24bit изображение становится вытянутым.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254800&amp;user=3355&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=7" class="addthx" data-post="254800"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 23:00 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
взял из свойств bmp файла... в img нет этой информации<br>и палитру надо брать из bmp тоже, т.к. тут не стандартная
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=254802&amp;user=6946&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=8" class="addthx" data-post="254802"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]SergX[/b]','')">SergX</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 226.0 (наставник), 67thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.16<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=11974">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 23:04 &middot; Поправил: SergX <br><script type="text/javascript">QU('SergX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SergX" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>Mavlyudov пишет: И еще странный факт </I><br>нет тут ничего странного.<br><br><b>Mavlyudov</b>, выложи один рисунок в формате BMP и IMG. <br><br>З.Ы. sorry, есть два файла, просто в архив залез пока тот не докачался.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254803&amp;user=11974&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=9" class="addthx" data-post="254803"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 23:11 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>Mavlyudov пишет:<br>Нужно как-то их считать для этого .img. </I><br>а как ты их считать собрался? <img src="img/smilies/s1.gif" alt=""><br>ну раскладывай размер файла на простые множители и ищи все возможные пары
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=254804&amp;user=6946&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=10" class="addthx" data-post="254804"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Mavlyudov[/b]','')">Mavlyudov</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3355.jpg" alt=""><br><span class=txtSm>Ранг: 156.2 (ветеран), 2thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.54'>Активность: 0.09<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3355">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 марта 2010 23:20 &middot; Поправил: Mavlyudov <br><script type="text/javascript">QU('Mavlyudov','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Mavlyudov" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>Isaev</b><br><br>Вот, кстати, ты допусти 2 ошибки. И очень серьезные.<br>Вот более менее правильный код<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">procedure&nbsp;TForm1<span class="hl_char">.</span>BitBtn1Click<span class="hl_char">(</span>Sender<span class="hl_char">:</span>&nbsp;TObject<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function"><b>const</b></span>&nbsp;W<span class="hl_char">=</span><span class="hl_number">1392</span><span class="hl_comment">;</span></li><li class="hl_l0">H<span class="hl_char">=</span><span class="hl_number">1032</span><span class="hl_comment">;</span></li><li class="hl_l1">Var</li><li class="hl_l0">&nbsp;&nbsp;X<span class="hl_char">,</span>Y<span class="hl_char">:</span>Integer<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Table<span class="hl_char">:</span>Array<span class="hl_char">[</span><span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_char">.</span>W<span class="hl_char">-</span><span class="hl_number">1</span><span class="hl_char">]</span>&nbsp;Of&nbsp;<span class="hl_function"><b>Byte</b></span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;&nbsp;Row<span class="hl_char">:</span>pByteArray<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">:</span>TBitmap<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;S<span class="hl_char">:</span>TMemoryStream<span class="hl_comment">;</span></li><li class="hl_l1">type</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RGB<span class="hl_char">=</span>Record</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b<span class="hl_char">,</span>g<span class="hl_char">,</span>r<span class="hl_char">:</span>&nbsp;<span class="hl_function"><b>Byte</b></span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>End</b></span><span class="hl_comment">;</span></li><li class="hl_l1">type</li><li class="hl_l0">&nbsp;&nbsp;TPixels<span class="hl_char">=</span>Array<span class="hl_char">[</span><span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_number">0</span><span class="hl_char">]</span>&nbsp;of&nbsp;RGB<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PPixels<span class="hl_char">=</span>&nbsp;^TPixels<span class="hl_comment">;</span></li><li class="hl_l0">var</li><li class="hl_l1">&nbsp;&nbsp;Row<span class="hl_char">:</span>&nbsp;PPixels<span class="hl_comment">;</span></li><li class="hl_l0">Begin</li><li class="hl_l1">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Width<span class="hl_char">:</span><span class="hl_char">=</span>W<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Height<span class="hl_char">:</span><span class="hl_char">=</span>H<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Picture<span class="hl_char">.</span>Bitmap<span class="hl_char">.</span>Width<span class="hl_char">:</span><span class="hl_char">=</span>W<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Picture<span class="hl_char">.</span>Bitmap<span class="hl_char">.</span>Height<span class="hl_char">:</span><span class="hl_char">=</span>H<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;S<span class="hl_char">:</span><span class="hl_char">=</span>TMemoryStream<span class="hl_char">.</span>Create<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;S<span class="hl_char">.</span>LoadFromFile<span class="hl_char">(</span><span class="hl_quote">'Image2d.img'</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;S<span class="hl_char">.</span>Position<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Bmp<span class="hl_char">:</span><span class="hl_char">=</span>TBitmap<span class="hl_char">.</span>Create<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>PixelFormat<span class="hl_char">:</span><span class="hl_char">=</span>pf24bit<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>Width<span class="hl_char">:</span><span class="hl_char">=</span>W<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>Height<span class="hl_char">:</span><span class="hl_char">=</span>H<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;For&nbsp;Y<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span>&nbsp;To&nbsp;H<span class="hl_char">-</span><span class="hl_number">1</span>&nbsp;Do</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;Begin</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S<span class="hl_char">.</span>ReadBuffer<span class="hl_char">(</span>Table<span class="hl_char">,</span>W<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row<span class="hl_char">:</span><span class="hl_char">=</span>Bmp<span class="hl_char">.</span>Scanline<span class="hl_char">[</span>Y<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;X<span class="hl_char">:</span><span class="hl_char">=</span><span class="hl_number">0</span>&nbsp;To&nbsp;W<span class="hl_char">-</span><span class="hl_number">1</span>&nbsp;Do</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row^<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_char">.</span>r<span class="hl_char">:</span><span class="hl_char">=</span>Table<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row^<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_char">.</span>g<span class="hl_char">:</span><span class="hl_char">=</span>Table<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row^<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_char">.</span>b<span class="hl_char">:</span><span class="hl_char">=</span>Table<span class="hl_char">[</span>X<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>end</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>End</b></span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;Image1<span class="hl_char">.</span>Picture<span class="hl_char">.</span>Graphic<span class="hl_char">:</span><span class="hl_char">=</span>Bmp<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;Bmp<span class="hl_char">.</span>Free<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;S<span class="hl_char">.</span>Free<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function"><b>End</b></span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>ОДна ошибка в том, что ты пишешь формат после задания размера:<br>  Bmp.Width:=W;<br>  Bmp.Height:=H;<br>  Bmp.PixelFormat:=pf24bit;<br><br>А надо до, как у меня.<br>Вторую ошиибку видно итак
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254805&amp;user=3355&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=11" class="addthx" data-post="254805"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 марта 2010 00:02 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
1. в данном случае последовательность не имеет значения абсолютно...<br>2. а что у тебя из проги выходят все картинки в градациях серого ты не говорил!<br><br>главное разобрался ведь! <img src="img/smilies/s3.gif" alt="">
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=254809&amp;user=6946&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=12" class="addthx" data-post="254809"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]_ruzmaz_[/b]','')">_ruzmaz_</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 114.8 (ветеран), 41thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.01'>Активность: 0.1<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21589">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 марта 2010 09:39 <br><script type="text/javascript">QU('_ruzmaz_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=_ruzmaz_" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=7&amp;topic=16015.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>Isaev пишет:<br>взял из свойств bmp файла... в img нет этой информации </I><br>да тут лучше сразу бмп читать), если он всегда создается<br><I>Isaev пишет:<br>ну раскладывай размер файла на простые множители и ищи все возможные пары </I><br>с учетом того, что каждый блок данных, описывающий одну строку изображения, дополняется нулями до размера, кратного 4
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=254831&amp;user=21589&amp;forum_n=7&amp;topic=16015.html&amp;page=0&amp;anchor=13" class="addthx" data-post="254831"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/mod.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=7&sortBy=0&page=0.html"><b>Оффтоп</b></a> <b class=bulletHead>&#8212;&#8250;</b> расшифровка картинки</span></td>
</tr></table>
</div>
<a name=newreply></a>
<center><h3>У вас должно быть 20 пунктов ранга, чтобы оставлять сообщения в  этом подфоруме, но у вас только 0</h3></center><script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=16015" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
