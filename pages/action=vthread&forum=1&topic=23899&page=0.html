<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>как бы это пропатчить? (флэш) - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Доброго времени суток! Ковыряю игрушку Exmortis 3 Используется свой плеер и дополнительные флэшевые &quot;обёртки&quot;, причём всё это намертво интегрировано с самой игрой - разделить вряд ли получится. Реверснул алгоритм">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a> (+7 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> как бы это пропатчить? (флэш)</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]-=AkaBOSS=-[/b]','')">-=AkaBOSS=-</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/26242.png" alt=""><br><span class=txtSm>Ранг: 150.3 (ветеран), 175thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.88'>Активность: 0.16<span style='color:red'>&searr;</span>0.07</span><br>Статус: <a href="action=userinfo&amp;user=26242">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 декабря 2015 11:41 <br><script type="text/javascript">QU('-=AkaBOSS=-','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=-=AkaBOSS=-" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Доброго времени суток!<br>Ковыряю игрушку <noindex><a href="http://www.fizzy.com/games/exmortis_3" rel="nofollow" target="_blank">Exmortis 3</a></noindex><br>Используется свой плеер и дополнительные флэшевые &quot;обёртки&quot;, причём всё это намертво интегрировано с самой игрой - разделить вряд ли получится.<br>Реверснул алгоритм шифрования флэшки (чтобы можно было реплейсить флэшку в плеере), вытащил, разбираю активацию.<br><br>Код кнопки активации выглядит так<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;com<span class="hl_char">.</span>fizzy<span class="hl_char">.</span>controllers<span class="hl_char">.</span>MainController<span class="hl_char">:</span><span class="hl_char">:</span>clickHandler</li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>applicationData<span class="hl_char">.</span>addEventListener<span class="hl_char">(</span>Event<span class="hl_char">.</span>CHANGE<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>activateResultHandler<span class="hl_char">)</span><span class="hl_comment">;   // будет ожидаться Event.CHANGE, запомним это</span></li><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>applicationData<span class="hl_char">.</span>activate<span class="hl_char">(</span>_loc4_<span class="hl_char">.</span>email<span class="hl_char">,</span>_loc4_<span class="hl_char">.</span>password<span class="hl_char">,</span>_loc4_<span class="hl_char">.</span>activation<span class="hl_char">)</span><span class="hl_comment">;    // вызывается процедура активации</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>contentController<span class="hl_char">.</span>openDialogue<span class="hl_char">(</span><span class="hl_quote">&quot;MsgVerificationWait&quot;</span><span class="hl_char">)</span><span class="hl_comment">;   // и вешается окно &quot;Verifying Activation Details&quot;</span></li>        </ol>
    </div>
</div></div>
<br><br>За запросы на активацию отвечают вызовы следующего вида:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;com<span class="hl_char">.</span>fizzy<span class="hl_char">.</span><span class="hl_function">data</span><span class="hl_char">.</span>ApplicationData<span class="hl_char">:</span><span class="hl_char">:</span>activate</li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;FizzyServices<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>addEventListener<span class="hl_char">(</span>Event<span class="hl_char">.</span>COMPLETE<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>checkActivationResult<span class="hl_char">)</span><span class="hl_comment">;   // обработчик один, проверяется код события</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>addEventListener<span class="hl_char">(</span>ErrorEvent<span class="hl_char">.</span>ERROR<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>checkActivationResult<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>checkActivation<span class="hl_char">(</span>_loc4_<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>и<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;com<span class="hl_char">.</span>fizzy<span class="hl_char">.</span><span class="hl_function">data</span><span class="hl_char">.</span>ApplicationData<span class="hl_char">:</span><span class="hl_char">:</span>verifyCurrentActivation</li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;FizzyServices<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>addEventListener<span class="hl_char">(</span>Event<span class="hl_char">.</span>COMPLETE<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>checkRefundResult<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>addEventListener<span class="hl_char">(</span>ErrorEvent<span class="hl_char">.</span>ERROR<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>checkRefundResult<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>checkRefund<span class="hl_char">(</span>_loc2_<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;обработчик&nbsp;событий&nbsp;от&nbsp;запроса&nbsp;на&nbsp;активацию</li><li class="hl_l1">private&nbsp;function&nbsp;checkActivationResult<span class="hl_char">(</span>param1<span class="hl_char">:</span>Event<span class="hl_char">)</span>&nbsp;<span class="hl_char">:</span>&nbsp;<span class="hl_function"><b>void</b></span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;var&nbsp;_loc2_<span class="hl_char">:</span><span class="hl_char">*</span>&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>result<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>removeEventListener<span class="hl_char">(</span>Event<span class="hl_char">.</span>COMPLETE<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>checkActivationResult<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>removeEventListener<span class="hl_char">(</span>ErrorEvent<span class="hl_char">.</span>ERROR<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>checkActivationResult<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>remoteService<span class="hl_char">.</span>close<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>remoteService&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>null</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function">if</span><span class="hl_char">(</span>param1<span class="hl_char">.</span>type&nbsp;<span class="hl_char">=</span><span class="hl_char">=</span>&nbsp;ErrorEvent<span class="hl_char">.</span>ERROR<span class="hl_char">)</span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>_activated&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>false</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;}&nbsp;<span class="hl_function"><b>else</b></span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>_activated&nbsp;<span class="hl_char">=</span>&nbsp;Boolean<span class="hl_char">(</span>_loc2_<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>generateDemoCodes<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;log<span class="hl_char">(</span><span class="hl_quote">&quot;Activated: &quot;</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>_activated<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function">if</span><span class="hl_char">(</span><span class="hl_function">this</span><span class="hl_char">.</span>_activated<span class="hl_char">)</span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>saveActivation<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>dispatchEvent<span class="hl_char">(</span><span class="hl_function"><b>new</b></span>&nbsp;Event<span class="hl_char">(</span>Event<span class="hl_char">.</span>CHANGE<span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;  // вот пока этот вызов не сработает, &quot;MsgVerificationWait&quot; продолжит висеть</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div>
<br><br><br>Чтобы много не парить мозги, я пошёл в com.fizzy.net.remoting.FizzyServices<br>и в функциях checkActivation и checkRefund вместо запросов вставил код <br>this.dispatcher.dispatchEvent(new Event(Event.COMPLETE));<br>По идее, это должно вызвать обработчик с нужным кодом сообщения, и все будут счастливы.<br><br>Но это почему-то не работает... При попытке активировать любым кодом игра просто висит с сообщением &quot;MsgVerificationWait&quot;.<br>Где я ошибся?<br><br><noindex><a href="http://rghost.ru/private/6HJ4gMHbn/d0dbb1b81caab551eda3145045133eba" rel="nofollow" target="_blank"><br>исследуемый файл (сам по себе не запускается)</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360798&amp;user=26242&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=1" class="addthx" data-post="360798"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]4kusNick[/b]','')">4kusNick</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1931.jpg" alt=""><br><span class=txtSm>Ранг: 748.2 <font color=magenta>(<b>! !</b>)</font>, 390thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.1'>Активность: 0.37<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1931">Участник</a><br><font color=blue>bytecode!</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 декабря 2015 16:33 &middot; Поправил: 4kusNick <br><script type="text/javascript">QU('4kusNick','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=4kusNick" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Если оно в итоге через Flash Player проигрывается, я бы поставил \ подсунул отладочную версию и смотрел в логи трейсов - не падает ли оно где-то из-за патча.<br><br>Затем я бы в методе checkActivationResult оставил бы код<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>_activated&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>true</b></span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>generateDemoCodes<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">; // это надо бы ещё проверить что там внутри, надо ли оно вообще или нет</span></li><li class="hl_l0">log<span class="hl_char">(</span><span class="hl_quote">&quot;Activated: &quot;</span>&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>_activated<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>saveActivation<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>dispatchEvent<span class="hl_char">(</span><span class="hl_function"><b>new</b></span>&nbsp;Event<span class="hl_char">(</span>Event<span class="hl_char">.</span>CHANGE<span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">log<span class="hl_char">(</span><span class="hl_quote">&quot;Event sent&quot;</span><span class="hl_char">)</span><span class="hl_comment">; // либо trace(&quot;Event sent&quot;)</span></li>        </ol>
    </div>
</div></div>
<br><br>Чтобы выполнились все действия как при обычной активации.<br>И в конце добавил бы log или trace чтобы удостовериться что код выполнился до конца без ошибок.<br>Если они используют для проигрывания не Flash Player а что-то своё и там нет трейсов - то я бы посмотрел куда сбрасывает данные их log() и при необходимости включил бы его, если он отключен, чтобы можно было оставлять для себя логи.
<br><br><font size="1"><i>-----<br>Флэш, ява, дотнет - на завтрак, обед и ужин. Unity3D на закуску.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=360823&amp;user=1931&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=2" class="addthx" data-post="360823"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=26242" title="20-12-2015 22:33, ранг:72.4" target="_blank">-=AkaBOSS=-</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]JohnyDoe[/b]','')">JohnyDoe</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 69thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.41'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=31402">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 00:24 &middot; Поправил: JohnyDoe <br><script type="text/javascript">QU('JohnyDoe','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=JohnyDoe" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Мне кажется не надо париться с активациями. Достаточно будет _activated проинициализировать и в соответствии с логикой потереть код, который отвечает за всяческие проверки. Там обфускации нет - все не так уж и сложно должно быть.<br><br>Вариант от <b>4kusNick</b> вполне годится, если не охота тереть лишний код. Можно еще весь этот код перенести прямо в метод activate и не запускать активацию вообще.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360830&amp;user=31402&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=3" class="addthx" data-post="360830"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]-=AkaBOSS=-[/b]','')">-=AkaBOSS=-</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/26242.png" alt=""><br><span class=txtSm>Ранг: 150.3 (ветеран), 175thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.88'>Активность: 0.16<span style='color:red'>&searr;</span>0.07</span><br>Статус: <a href="action=userinfo&amp;user=26242">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 01:32 <br><script type="text/javascript">QU('-=AkaBOSS=-','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=-=AkaBOSS=-" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Ну я понимаю, что проще поменять код везде где только можно, но хочется красивого и аккуратного решения.<br><br>Основной вопрос был не сколько о том, как именно её взломать, а больше о том, почему я не наблюдаю ожидаемого эффекта. С этой ошибкой я уже разобрался - глупо, но я абсолютно не обратил внимание на проверку this.remoteService.result в обработчиках событий. Выяснить удалось только после того как функцию log перенаправил на wrapperLog - сброс лога в отдельный файл.<br><br>Таким образом, финальный патч для com.fizzy.net.remoting.FizzyServices::checkActivation и checkRefund стал таким:
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>_result&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>true</b></span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>dispatchEvent<span class="hl_char">(</span><span class="hl_function"><b>new</b></span>&nbsp;Event<span class="hl_char">(</span>Event<span class="hl_char">.</span>COMPLETE<span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>В результате активация проходит, но в процессе до сих пор нарушается очередь событий.<br>Судя по всему, обработчик Event.COMPLETE вызывается раньше, чем происходит возврат из вызова applicationData.activate (нет задержки интернет-соединения). Из-за этого, экран с сообщением об удачной регистрации оказывается перекрыт всё тем же окном <br>&quot;MsgVerificationWait&quot;. Плюнул и перенёс вызов, вешающий окно, на одну строчку выше<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;com<span class="hl_char">.</span>fizzy<span class="hl_char">.</span>controllers<span class="hl_char">.</span>MainController<span class="hl_char">:</span><span class="hl_char">:</span>clickHandler</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>applicationData<span class="hl_char">.</span>addEventListener<span class="hl_char">(</span>Event<span class="hl_char">.</span>CHANGE<span class="hl_char">,</span><span class="hl_function">this</span><span class="hl_char">.</span>activateResultHandler<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>contentController<span class="hl_char">.</span>openDialogue<span class="hl_char">(</span><span class="hl_quote">&quot;MsgVerificationWait&quot;</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>applicationData<span class="hl_char">.</span>activate<span class="hl_char">(</span>_loc4_<span class="hl_char">.</span>email<span class="hl_char">,</span>_loc4_<span class="hl_char">.</span>password<span class="hl_char">,</span>_loc4_<span class="hl_char">.</span>activation<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>Вроде бы всё получилось, тестирую...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360831&amp;user=26242&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=4" class="addthx" data-post="360831"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]JohnyDoe[/b]','')">JohnyDoe</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 69thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.41'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=31402">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 12:15 <br><script type="text/javascript">QU('JohnyDoe','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=JohnyDoe" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
С логами всегда проще. Если не идет процесс, то надо искать как бы посмотреть лог.<br><br>Окно &quot;MsgVerificationWait&quot; выводит в конце какой-то результат или просто закрывается? А то его можно было бы вообще не выводить. С другой стороны, будет не понятно произошло ли что-то вообще после нажатия на кнопку активации.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360844&amp;user=31402&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=5" class="addthx" data-post="360844"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]-=AkaBOSS=-[/b]','')">-=AkaBOSS=-</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/26242.png" alt=""><br><span class=txtSm>Ранг: 150.3 (ветеран), 175thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.88'>Активность: 0.16<span style='color:red'>&searr;</span>0.07</span><br>Статус: <a href="action=userinfo&amp;user=26242">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 13:25 <br><script type="text/javascript">QU('-=AkaBOSS=-','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=-=AkaBOSS=-" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>JohnyDoe пишет:<br>Окно &quot;MsgVerificationWait&quot; выводит в конце какой-то результат или просто закрывается </I><br>нет, это просто информационное окно - типа, подождите. Но тут судя по всему просто баг, который никто не поймал - неправильный порядок выполнения, может нормально работать только за счёт задержки интернета.<br><br>Добавил еще строки с серийником и номером активации в инициализацию ApplicationData - большше не нужно ничего вводить, игра изначально считает себя зарегистрированной.<br>Кажется, всё...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360850&amp;user=26242&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=6" class="addthx" data-post="360850"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]JohnyDoe[/b]','')">JohnyDoe</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 69thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.41'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=31402">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 14:07 <br><script type="text/javascript">QU('JohnyDoe','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=JohnyDoe" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Возможно будет интересно. Самый простой путь из всех - взять флешку с сайта(та что демо), изменить basepath, положить файлы из инсталлятора рядом в директорию assets и поиграться с методом isDemo. В итоге получаем полную версию игры с возможностью запуска через стандартный flash player. Теперь можно считать, что вопрос рассмотрен всесторонне <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360859&amp;user=31402&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=7" class="addthx" data-post="360859"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=26242" title="21-12-2015 11:50, ранг:73.4" target="_blank">-=AkaBOSS=-</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]-=AkaBOSS=-[/b]','')">-=AkaBOSS=-</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/26242.png" alt=""><br><span class=txtSm>Ранг: 150.3 (ветеран), 175thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.88'>Активность: 0.16<span style='color:red'>&searr;</span>0.07</span><br>Статус: <a href="action=userinfo&amp;user=26242">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 14:59 &middot; Поправил: -=AkaBOSS=- <br><script type="text/javascript">QU('-=AkaBOSS=-','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=-=AkaBOSS=-" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
С эксмортисом вопрос можно считать решённым.. Полную флэш версию возможно рассмотрю чуть позднее, пока и так работает)<br><br><br>Возился недавно еще с одной игрой - <noindex><a href="http://vested-interest.co/simian/index.php" rel="nofollow" target="_blank">simian.interface</a></noindex>, но так до конца и не довёл.<br>Цель исследования - сделать полную оффлайновую версию. Игра в процессе выполнения подгружает семь музыкальных треков и одно изображение - я пытаюсь их вшить внутрь, чтобы ничего лишнего не болталось.<br><br>C изображением проще всего - подключил как ByteArray, а в конструкторе game.levels.GlitchmapBackground вместо loadImage<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>glitchmap&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;Glitchmap<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">; // com.soulwire.display.Glitchmap</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>glitchmap<span class="hl_char">.</span>loadImage&nbsp;<span class="hl_char">(</span><span class="hl_function">this</span><span class="hl_char">.</span>myState<span class="hl_char">.</span>externalPath&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_quote">&quot;images/gradient_green.jpg&quot;</span><span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>сразу указал bytesSource<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>glitchmap&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;Glitchmap<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">; // com.soulwire.display.Glitchmap</span></li><li class="hl_l1"><span class="hl_function">this</span><span class="hl_char">.</span>glitchmap<span class="hl_char">.</span>bytesSource&nbsp;<span class="hl_char">=</span>&nbsp;GlitchmapBackground_ImgGradientGreen&nbsp;as&nbsp;ByteArray<span class="hl_comment">; </span></li>        </ol>
    </div>
</div></div>
<br>Вопрос первый - это будет работать, если GlitchmapBackground_ImgGradientGreen объявлен как ByteArrayAsset?<br><br><br>далее - музыка.. С ней всё посложнее.<br>Треки грузятся в <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;game<span class="hl_char">.</span>PlayState<span class="hl_char">:</span><span class="hl_char">:</span>loadMusic</li><li class="hl_l1">var&nbsp;_loc6_<span class="hl_char">:</span>String&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function">this</span><span class="hl_char">.</span>externalPath&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_quote">&quot;music/&quot;</span>&nbsp;<span class="hl_char">+</span>&nbsp;param1<span class="hl_comment">;</span></li><li class="hl_l0">FlxG<span class="hl_char">.</span>playMusic&nbsp;<span class="hl_char">(</span><span class="hl_function">null</span><span class="hl_char">,</span>_loc6_<span class="hl_char">,</span>param2<span class="hl_char">,</span><span class="hl_number">0</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;<span class="hl_function">org</span><span class="hl_char">.</span>flixel<span class="hl_char">.</span>FlxG<span class="hl_char">:</span><span class="hl_char">:</span>playMusic</li><li class="hl_l0"><span class="hl_function">if</span><span class="hl_char">(</span>param1&nbsp;<span class="hl_char">!</span><span class="hl_char">=</span>&nbsp;<span class="hl_function">null</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;music<span class="hl_char">[</span>param4<span class="hl_char">]</span><span class="hl_char">.</span>loadEmbedded<span class="hl_char">(</span>param1<span class="hl_char">,</span><span class="hl_function">true</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">}&nbsp;<span class="hl_function"><b>else</b></span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;music<span class="hl_char">[</span>param4<span class="hl_char">]</span><span class="hl_char">.</span>loadStream<span class="hl_char">(</span>param2<span class="hl_char">,</span><span class="hl_function">true</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">}</li>        </ol>
    </div>
</div></div>
<br>Правильно ли я понимаю, это означает, что в playMusic первым параметром можно передать SoundAsset as Sound и это будет работать?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360867&amp;user=26242&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=8" class="addthx" data-post="360867"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]JohnyDoe[/b]','')">JohnyDoe</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 105.6 (ветеран), 69thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.41'>Активность: 0.06<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=31402">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 16:49 &middot; Поправил: JohnyDoe <br><script type="text/javascript">QU('JohnyDoe','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=JohnyDoe" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
GlitchmapBackground_ImgGradientGreen это какой-то класс? Если да, то как-то так должно быть.<br><br>this.glitchmap.bytesSource = new GlitchmapBackground_ImgGradientGreen() as ByteArray;<br><br>Со звуком не приходилось иметь дело. В любом случае надо пробовать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360884&amp;user=31402&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=9" class="addthx" data-post="360884"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]-=AkaBOSS=-[/b]','')">-=AkaBOSS=-</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/26242.png" alt=""><br><span class=txtSm>Ранг: 150.3 (ветеран), 175thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.88'>Активность: 0.16<span style='color:red'>&searr;</span>0.07</span><br>Статус: <a href="action=userinfo&amp;user=26242">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 декабря 2015 17:28 &middot; Поправил: -=AkaBOSS=- <br><script type="text/javascript">QU('-=AkaBOSS=-','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=-=AkaBOSS=-" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=23899.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
Переделал функцию loadMusic - теперь в качестве первого аргумента она принимает Class, и передаёт его первым же аргументом в playMusic. Ну и соответствующим образом изменил вызовы - вместо строк с названиями передаются классы SoundAsset. Всё отлично, но поначалу не играло из-за выключенного звука в опциях.<br><br><br><I>JohnyDoe пишет:<br>GlitchmapBackground_ImgGradientGreen это какой-то класс? </I><br>ну я посмотрел как в других местах сделано, пошаманил с rabcdasmом и получилось такое:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">package&nbsp;game<span class="hl_char">.</span>levels&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function"><b>import</b></span>&nbsp;mx<span class="hl_char">.</span>core<span class="hl_char">.</span>ByteArrayAsset<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;class&nbsp;GlitchmapBackground_ImgGradientGreen&nbsp;extends&nbsp;ByteArrayAsset&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;function&nbsp;GlitchmapBackground_ImgGradientGreen<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;}</li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div>
<br><br>Плюс внёс соответствующие изменения в SymbolClass и ExportAssets, и добавил нужное изображение как binaryData.<br><br>создаю объект так:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function">this</span><span class="hl_char">.</span>glitchmap<span class="hl_char">.</span>bytesSource&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;GlitchmapBackground_ImgGradientGreen<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;as&nbsp;ByteArray<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;версия&nbsp;от&nbsp;RABCDAsm</li><li class="hl_l1">getlocal0</li><li class="hl_l0">getproperty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QName<span class="hl_char">(</span>PrivateNamespace<span class="hl_char">(</span><span class="hl_function">null</span><span class="hl_char">,</span><span class="hl_quote">&quot;30&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span><span class="hl_quote">&quot;glitchmap&quot;</span><span class="hl_char">)</span></li><li class="hl_l1">findpropstrict&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QName<span class="hl_char">(</span>PackageNamespace<span class="hl_char">(</span><span class="hl_quote">&quot;game.levels&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span><span class="hl_quote">&quot;GlitchmapBackground_ImgGradientGreen&quot;</span><span class="hl_char">)</span></li><li class="hl_l0">constructprop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QName<span class="hl_char">(</span>PackageNamespace<span class="hl_char">(</span><span class="hl_quote">&quot;game.levels&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span><span class="hl_quote">&quot;GlitchmapBackground_ImgGradientGreen&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">0</span></li><li class="hl_l1">getlex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QName<span class="hl_char">(</span>PackageNamespace<span class="hl_char">(</span><span class="hl_quote">&quot;flash.utils&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span><span class="hl_quote">&quot;ByteArray&quot;</span><span class="hl_char">)</span></li><li class="hl_l0">astypelate</li><li class="hl_l1">initproperty&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QName<span class="hl_char">(</span>PackageNamespace<span class="hl_char">(</span><span class="hl_quote">&quot;&quot;</span><span class="hl_char">)</span><span class="hl_char">,</span><span class="hl_quote">&quot;bytesSource&quot;</span><span class="hl_char">)</span></li>        </ol>
    </div>
</div></div>
<br><br>в момент использования (после 6го уровня) отладочный плеер выдаёт ошибку:<br>ReferenceError: Error #1069: Property ::glitchmap not found on game.levels.GlitchmapBackground and there is no default value.<br>	at game.levels::GlitchmapBackground()<br><br><br><br>Последний глюк оказался вызван тем, что rabcdasm не очень хорошо понимает неймспейсы, скопированные из ffdec.<br>Вместо строчки<br>getproperty         QName(PrivateNamespace(null,&quot;30&quot;),&quot;glitchmap&quot;)<br>вставил<br>getproperty         QName(PrivateNamespace(null, &quot;game.levels:GlitchmapBackground/instance&quot;), &quot;glitchmap&quot;)<br><br>теперь всё работает)<br>если кому-то интересно глянуть на результат - <noindex><a href="http://rghost.ru/8yyrjQCsx" rel="nofollow" target="_blank">залил</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360886&amp;user=26242&amp;forum_n=1&amp;topic=23899.html&amp;page=0&amp;anchor=10" class="addthx" data-post="360886"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> как бы это пропатчить? (флэш)</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=23899" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
