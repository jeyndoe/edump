<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Определить алго для патч-движка - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="пытаюсь сделать свой патч-движок, наподобие xdelta, но столкнулся с основной проблемой, итак, краткое описание алгоритма: сравнить два файла побайтно между собой и записать разницу в &quot;diff&quot;-файл с указанием размера">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=40382'>jinoweb</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Определить алго для патч-движка</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Kindly[/b]','')">Kindly</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/1883.jpg" alt=""><br><span class=txtSm>Ранг: 275.9 (наставник), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.13'>Активность: 0.22=0.22</span><br>Статус: <a href="action=userinfo&amp;user=1883">Участник</a><br><font color=blue>RBC</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 13:35 &middot; Поправил: Kindly <br><script type="text/javascript">QU('Kindly','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Kindly" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
пытаюсь сделать свой патч-движок, наподобие xdelta, но столкнулся с основной проблемой, итак, краткое описание алгоритма:<br>сравнить два файла побайтно между собой и записать разницу в &quot;diff&quot;-файл с указанием размера отличающихся байт и смещения (или размер от начала файла), чтобы при применении патча было ясно по какому смещению, какую сигнатуру записать и какого размера и т.д., формат моего diff, примерно, следующий:<br><br>заголовок/размер old/размер new/offset/size/differentbytes/offset/size/differentbytes/...<br><br>на выхлопе получается гораздо большой diff файл, сравнительно xdelta, т.к. на каждую различительную сигнатуру у меня уходит 8 байт (4 offset и 4 на размер). особенно это ощущается, если байты могут отличаться один через один, и тогда на каждое сравнение всего одного байта уходит +8 байт драгоценного места и в итоге diff файл может увеличиться в разы.<br><br>обдумывал разные варианты, но все они сводятся примерно к этому же, но остался последний вариант, который требует решения, если таковое возможно <img src="img/smilies/s1.gif" alt=""><br><br>идея такова.<br><br>1. выполнить побайтное сравнение всех байтов поочередно от 00 до FF.<br>2. записать сколько раз каждый отличающийся байт присутствует в файле и высчитать все размеры смещений, например:<br><br>сканируем количество отличающихся байт AA и записываем сколько штук различий, к примеру:<br><br>AA:1000<br>и мы знаем, что в файле  записать этот байт надо 1000 раз, но по предварительно вычисленным размерам друг до друга, например:<br><br>AA:1000:03,50,129,180,189,206,300,315,423,1070,1288,2030, и т.д. вплоть до числа 0xFFFFFFF7<br><br>если записывать это дело в строку, то уйдет опять же приличное количество места.<br>в идеале хотелось бы знать, существует ли алгоритм, который позволяет закодировать ленту чисел в одно свое &quot;магическое&quot; число, а потом позволить раскодировать/разложить это &quot;магическое&quot; число на исходные числа в ленте по порядку, чтобы можно было крутить в цикле и записывать нужный байт в нужное место по расшифрованному значению, на подобие:<br><br>for I:=1 to 1000 do<br>begin<br>  buf := Encrypt(i,offset);<br>end;<br><br>for I:=1 to 1000 do<br>begin<br>  offset := Decrypt(buf[i]);<br>  Write(&#036;AA,offset);<br>end;<br><br>помогите разобраться - или нет такого алго и данная задача не выполнимая? использование сжатия не предполагается на данном этапе. ну и самый последний вариант &quot;забить&quot; всегда есть, если это сделать априори не реально и продолжить пользоваться готовыми решениями. <img src="img/smilies/s3.gif" alt="">
<br><br><font size="1"><i>-----<br>Array[Login..Logout] of Life</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388084&amp;user=1883&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=1" class="addthx" data-post="388084"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]TryAga1n[/b]','')">TryAga1n</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 262.5 (наставник), 337thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.45'>Активность: 0.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=31275">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 17:47 &middot; Поправил: TryAga1n <br><script type="text/javascript">QU('TryAga1n','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TryAga1n" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Можно использовать первый адрес для патча как &quot;нулевой&quot;, а последующие - как смещения, относительно &quot;нулевого&quot;. Если патчить РЕ файл, то для каждой секции находить &quot;нулевой&quot; адрес. Экономия мизерная конечно, но уже что-то.<br>********************<br>Можно маленький пример diff, буквально на одну строчку, с описанием, что откуда? Чтобы нагляднее было думать)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=388087&amp;user=31275&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=2" class="addthx" data-post="388087"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]f13nd[/b]','')">f13nd</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/8075.png" alt=""><br><span class=txtSm>Ранг: 271.4 (наставник), 331thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.63'>Активность: 0.32<span style='color:green'>&nearr;</span>1.49</span><br>Статус: <a href="action=userinfo&amp;user=8075">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 18:16 &middot; Поправил: f13nd <br><script type="text/javascript">QU('f13nd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=f13nd" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<I>Kindly пишет:<br>существует ли алгоритм, который позволяет закодировать ленту чисел в одно свое &quot;магическое&quot; число </I><br>Ну так ты сам ответ дал. Взять поле оффсета и поле количества байт не кратное 8 битам. Пусть алгоритм оценивает какой оффсет получился максимальный, какое количество байт максимальное, сохраняет максимальные количества бит этих значений. Скажем 5 бит на длину оффсета (до 32 двоичных разрядов, максимальный оффсет 0xFFFFFFFF), 3 на размер (максимальный размер 255), итого 1 байт описывает &quot;магическое число&quot;. Потом на сдвигах заполняешь свое магическое число, пусть (0;0) плюс выравнивание последнего байта будет означать конец этой структуры. Сразу за ним в том же порядке данные.
<br><br><font size="1"><i>-----<br>2 оттенка серого</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388088&amp;user=8075&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=3" class="addthx" data-post="388088"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=1883" title="26-09-2018 16:36, ранг:244.0" target="_blank">Kindly</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]rthax[/b]','')">rthax</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 2.5 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 2.98'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=42819">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 18:43 <br><script type="text/javascript">QU('rthax','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rthax" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Может хранить в формате VCDIFF? <noindex><a href="https://tools.ietf.org/html/rfc3284" rel="nofollow" target="_blank">--&gt; Тут &lt;--</a></noindex> описание формата, вдруг подойдёт и не надо будет изобретать велосипед <img src="img/smilies/s3.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=388089&amp;user=42819&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=4" class="addthx" data-post="388089"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Kindly[/b]','')">Kindly</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/1883.jpg" alt=""><br><span class=txtSm>Ранг: 275.9 (наставник), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.13'>Активность: 0.22=0.22</span><br>Статус: <a href="action=userinfo&amp;user=1883">Участник</a><br><font color=blue>RBC</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 19:32 <br><script type="text/javascript">QU('Kindly','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Kindly" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<I>TryAga1n пишет:<br>Если патчить РЕ файл, то для каждой секции находить &quot;нулевой&quot; адрес. </I><br>патчиться будут любые форматы.<br><br><I>TryAga1n пишет:<br>Можно маленький пример diff, буквально на одну строчку, с описанием, что откуда? Чтобы нагляднее было думать)  </I><br>на данный момент:<br>30 10 00 00 30 10 00 00 A0 00 00 00 40 00 00 00 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 60 01 00 00 10 00 00 00 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 02 00 00 20 00 00 00 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF<br><br>где первые два дворда это размеры сравниваемых файлов (могут отличаться), далее:<br>A0 00 00 00 - offset<br>40 00 00 00 - size of diffs<br>FF-ки - различительные байты с указанным размером, после них все идентично: оффсет/размер/набор новых байтов и т.д.<br><br>да, можно еще сделать так:<br>от начала файла с нуля считать расстояние, но по факту получается то же самое, если записывать:<br><br>3,10,15,20<br>и лепить отличающиеся байты в один массив<br>AAA1A2A3A4A5A60102030405<br><br>то получается: от 3 позиции до 10 длина 7 байтов, стало быть по оффсету:<br>3 запишем: AAA1A2A3A4A5A6<br>теперь считаем вторую пару 20-15:<br>по оффсету 15 запишем следующие пять байт:<br>0102030405<br><br>как ни крути, надо записывать пару, а пара это два дворда с учетом больших файлов до 4Гб, поэтому расстояние до смещения может быть не в один байт.<br><br>так что относительно &quot;нулевого&quot; смещения или писать оффсеты с размером - по сути одинаково затратно на выхлопе.<br><br><I>rthax пишет:<br>Может хранить в формате VCDIFF? </I><br>инструменты такие уже есть, с тем же xdelta, который поддерживает этот алго более 15 лет мне не тягаться. хочется чего-то своего <img src="img/smilies/s1.gif" alt=""><br><br>брал для теста 80мб файлы с разным набором байтов - моя поделка выплевывает результат в 20 раз быстрее, чем xdelta. но если сравнивать похожие файлы, например большие exe разных версий, то xdelta хоть и медленнее в 20 раз, но создаст diff-файл меньше как минимум в десятки раз.<br><br><b>f13nd</b><br>тут мне надо попереваривать инфу по поводу битов и сдвигов <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>Array[Login..Logout] of Life</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388092&amp;user=1883&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=5" class="addthx" data-post="388092"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]f13nd[/b]','')">f13nd</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/8075.png" alt=""><br><span class=txtSm>Ранг: 271.4 (наставник), 331thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.63'>Активность: 0.32<span style='color:green'>&nearr;</span>1.49</span><br>Статус: <a href="action=userinfo&amp;user=8075">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 19:44 &middot; Поправил: f13nd <br><script type="text/javascript">QU('f13nd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=f13nd" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>Kindly пишет:<br>тут мне надо попереваривать инфу по поводу битов и сдвигов </I><br>n-длина оффсета, k-длина размера, (n+k)*i = номер первого бита оффсета, (n+k)*i + n = номер первого бита длины, остается набросать две функции, которые будут выбирать или устанавливать нужное количество бит по нужному смещению:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">get<span class="hl_char">(</span>o<span class="hl_char">,</span>&nbsp;l<span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span>i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">; i &lt; l; i++) mask = (mask &lt;&lt; 1) | 1;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;<span class="hl_char">=</span>&nbsp;qword<span class="hl_char">(</span>o&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_char">!</span><span class="hl_number">7</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;<span class="hl_char">=</span>&nbsp;a&nbsp;<span class="hl_char">&gt;</span><span class="hl_char">&gt;</span>&nbsp;<span class="hl_char">(</span>o&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_number">7</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;<span class="hl_char">=</span>&nbsp;a&nbsp;<span class="hl_char">&amp;</span>&nbsp;mask<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;a<span class="hl_comment">;</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>2 оттенка серого</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388093&amp;user=8075&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=6" class="addthx" data-post="388093"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=33766" title="26-09-2018 19:44, ранг:26.4" target="_blank">BlackCode</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]TryAga1n[/b]','')">TryAga1n</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 262.5 (наставник), 337thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.45'>Активность: 0.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=31275">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 20:04 <br><script type="text/javascript">QU('TryAga1n','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TryAga1n" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>Kindly пишет:<br>FF-ки - различительные байты с указанным размером </I><br>Не совсем понял что есть &quot;различительные байты&quot;. Оригинальные байты?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=388094&amp;user=31275&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=7" class="addthx" data-post="388094"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Kindly[/b]','')">Kindly</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/1883.jpg" alt=""><br><span class=txtSm>Ранг: 275.9 (наставник), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.13'>Активность: 0.22=0.22</span><br>Статус: <a href="action=userinfo&amp;user=1883">Участник</a><br><font color=blue>RBC</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 26 сентября 2018 20:28 <br><script type="text/javascript">QU('Kindly','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Kindly" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>f13nd</b><br>попробую перевести на асм в дельфе, там видно будет.<br><br><I>TryAga1n пишет:<br>Не совсем понял что есть &quot;различительные байты&quot;.  </I><br>может не так выразился, отличающиеся, т.е. набор байтов в новом сравниваемом файле, которые будут записаны в diff и в последствии записываться функцией применения патча в старый файл.
<br><br><font size="1"><i>-----<br>Array[Login..Logout] of Life</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388095&amp;user=1883&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=8" class="addthx" data-post="388095"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 465thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 сентября 2018 00:24 <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
Используй как в таблице релоков<img src="img/smilies/s1.gif" alt=""><br>смещение офсет(равное 1000)байт те 1000.2000.3000 и т.д.р<br>размер(можно коло во перезаписываемых байт)<br>теперь таблица смещение относительно офсета(смещение максимум 0FFF) И последний байт на что заменить (00FF) получается dword
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388096&amp;user=17432&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=9" class="addthx" data-post="388096"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 390thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 27 сентября 2018 07:57 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
А чем не устраивает формат &quot;CRK&quot;?<br><b><br></b>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=388101&amp;user=35473&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=10" class="addthx" data-post="388101"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Kindly[/b]','')">Kindly</a></b><br></div>
<img src="img/s6.gif" alt=""><br><img style="padding-top:3px;" src="av/1883.jpg" alt=""><br><span class=txtSm>Ранг: 275.9 (наставник), 340thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.13'>Активность: 0.22=0.22</span><br>Статус: <a href="action=userinfo&amp;user=1883">Участник</a><br><font color=blue>RBC</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 сентября 2018 18:00 <br><script type="text/javascript">QU('Kindly','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Kindly" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=25374.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<I>dosprog пишет:<br>А чем не устраивает формат &quot;CRK&quot;? </I><br>текстовый <img src="img/smilies/s2.gif" alt=""><br><br><b>All</b><br>копнул тему глубже - алгоритмы используются серъезные для разного рода оптимизаций как для VCDIFF, так и для других похожих. ваять свой велосипед нету столько знаний и смысла, тему закрываю.
<br><br><font size="1"><i>-----<br>Array[Login..Logout] of Life</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=388119&amp;user=1883&amp;forum_n=6&amp;topic=25374.html&amp;page=0&amp;anchor=11" class="addthx" data-post="388119"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Определить алго для патч-движка</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=25374" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
