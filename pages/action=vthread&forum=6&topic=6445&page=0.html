<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Fasm - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="1.Как в Fasm обеспечиь рекурсивный вызов макросов если это возмжно 2.как определять данные из одного места (внутри программы) которые должны находится в другом проще говоря как бы ясделал в Masm: .data str0 db">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=39467'>hgdagon</a>, <a target='_blank' href='?action=userinfo&amp;user=28016'>asfa</a>, <a target='_blank' href='?action=userinfo&amp;user=26261'>bartolomeo</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Fasm</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]HUMan45[/b]','')">HUMan45</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.4 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=6967">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 октября 2006 23:59 <br><script type="text/javascript">QU('HUMan45','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HUMan45" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
1.Как в Fasm обеспечиь рекурсивный вызов макросов если это возмжно<br>2.как определять данные из одного места (внутри программы) которые должны находится в другом <br>проще говоря как бы ясделал в Masm:<br><br>.data<br>str0 db &#039;привет&#039;,0<br>str1 db &#039;чуваки&#039;,0<br>.code<br>invoke MessageBox,0,addr str0,addr str1,0<br><br>и не нужно было бы определять строки таким карявым способом когда мы их складываем внутри кода<br>а потом джампуем вниз до следущей команды<br>PS. не надо говорить про COFF я знаю про него но надо бы чтонибуть мультиплатформеное
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=97934&amp;user=6967&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=1" class="addthx" data-post="97934"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]Av0id[/b]','')">Av0id</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 516.1 (<b>!</b>), 39thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.28<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1378">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2006 01:48 &middot; Поправил: Av0id <br><script type="text/javascript">QU('Av0id','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Av0id" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<code><br>section &#039;.idata&#039; data readable writeable<br><br>str0 db &quot;превед&quot;,0<br>str1 db &quot;учаснеги&quot;,0<br><br>section &#039;.code&#039; code readable writable executable<br><br>  start:<br>        invoke  MessageBox,0,str0,str1,0 <br>        invoke  ExitProcess,NULL<br></code>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=97954&amp;user=1378&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=2" class="addthx" data-post="97954"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]TOR[/b]','')">TOR</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=371">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2006 02:04 &middot; Поправил: TOR <br><script type="text/javascript">QU('TOR','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TOR" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
1. Явно нельзя,но поизвращаться можно.Например:<br>macro AMacro i ; i - depth<br> { <br>    push endmA<br> 	;---- var init<br> 	xor ebx,ebx<br> 	;------------<br> 	<br>  	 mov eax,i<br>  @@:<br>  	;-- you code<br>  	inc ebx ;sample<br>         ;retn ;-for exit <br>  	;-----------<br>  	dec eax<br>  	test eax,eax<br>  	jz @F <br>	call @B<br>  @@:<br>    retn<br>  endmA:<br> }<br><br>В коде:<br>AMacro 2<br><br>2.Нихрена не понял. Чем тебе такое не нравиться:<br>push MB_OK<br>push DWORD str0<br>push DWORD str1<br>push 0<br>call [MessageBox]<br>jmp @F<br><br>str0 db &#039;привет&#039;,0 <br>str1 db &#039;чуваки&#039;,0<br>align 4<br>@@:<br>....
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=97959&amp;user=371&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=3" class="addthx" data-post="97959"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Vitek[/b]','')">Vitek</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 52.2 (постоянный)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.03'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=5441">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2006 03:35 <br><script type="text/javascript">QU('Vitek','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vitek" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>TOR</b><br><br>push MB_OK <br>push DWORD str0 <br>push DWORD str1 <br>push 0 <br>call [MessageBox]<br><br>А чё не так:<br><br>push 0<br>push str0<br>push str1<br>push 0<br>call MessageBox
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=97977&amp;user=5441&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=4" class="addthx" data-post="97977"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]TOR[/b]','')">TOR</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=371">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 октября 2006 03:53 <br><script type="text/javascript">QU('TOR','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TOR" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Насчет:<br> push DWORD str0  ;то можно и так конечно: push str0 ,кто-как привык<br> но лучше явно указать. глюков при компиляции будет меньше.<br><br> call MessageBox ;у тебя не пройдет, так как тебе нужно взять адресс функции из таблицы импорта,и обращаться(call) по этому адресу.<br>правильно : call [MessageBox]<br>Это, конечно, верно при такой структуре программы:<br><br>section &#039;.idata&#039; import data readable writeable<br>library kernel32, &#039;kernel32.dll&#039;,&#92;<br>        user32,&#039;user32.dll&#039;<br>include &#039;%fasminc%&#92;apia&#92;KERNEL32.INC&#039;<br>include &#039;%fasminc%&#92;apia&#92;User32.INC&#039;<br><br>Можно и подругому,как кому нравиться извращаься с кодом. <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=97984&amp;user=371&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=5" class="addthx" data-post="97984"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]HUMan45[/b]','')">HUMan45</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.4 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=6967">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 октября 2006 01:11 <br><script type="text/javascript">QU('HUMan45','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HUMan45" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>Av0id пишет:<br>section &#039;.idata&#039; data readable writeable <br><br>str0 db &quot;превед&quot;,0 <br>str1 db &quot;учаснеги&quot;,0 <br><br>section &#039;.code&#039; code readable writable executable <br><br>start: <br>invoke MessageBox,0,str0,str1,0 <br>invoke ExitProcess,NULL  </I><br><br>ЭТО НЕ УДОБНО!!!<br><br><br><I>TOR пишет:<br>macro AMacro i ; i - depth <br>{ <br>push endmA <br>;---- var init <br>xor ebx,ebx <br>;------------ <br><br>mov eax,i <br>@@: <br>;-- you code <br>inc ebx ;sample <br>;retn ;-for exit <br>;----------- <br>dec eax <br>test eax,eax <br>jz @F <br>call @B <br>@@: <br>retn <br>endmA: <br>}  </I><br>господа так никогда не делайте это точно извращение ! (и насилие над стеком)<br><br><I>TOR пишет:<br>2.Нихрена не понял. Чем тебе такое не нравиться: <br>push MB_OK <br>push DWORD str0 <br>push DWORD str1 <br>push 0 <br>call [MessageBox] <br>jmp @F <br><br>str0 db &#039;привет&#039;,0 <br>str1 db &#039;чуваки&#039;,0 <br>align 4 <br>@@:  </I><br><br>мне это не нравится тем что мы делаем ненужные джампы и кроме того не каждый дизассемблер мне покажет такую вот штуку:<br>jmp @f<br>str0 db &#039;это вот не код&#039;,0<br>@@:<br>xor eax,eax ;а это код<br>............<br>в том виде в каком она есть а как я буду отлаживать тогда АААА?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=98478&amp;user=6967&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=6" class="addthx" data-post="98478"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]TOR[/b]','')">TOR</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=371">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 октября 2006 04:04 &middot; Поправил: TOR <br><script type="text/javascript">QU('TOR','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TOR" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>HUMan45 пишет:<br>господа так никогда не делайте это точно извращение ! (и насилие над стеком) </I><br>Ок,тогда при реализации рекурсивного вызова через вызов функции,у тебя в стек попадет:<br>_stdcall:<br>адресс возврата <br>пераметр 1<br>_fastcall:<br>адрес возврата<br>параметр 1 пойдет через регистр<br>Мой код приближен к _fastcall,чем тебе это не нравиться?<br><br>Если реально очень много раз должен вызываться тот же код,что тебе мешает это сделать не макросами,не процедурами,а просто в цикле? <br><br><I>HUMan45 пишет:<br>мне это не нравится тем что мы делаем ненужные джампы и кроме того не каждый дизассемблер мне покажет такую вот штуку: <br>jmp @f <br>str0 db &#039;это вот не код&#039;,0 <br>@@: <br>xor eax,eax ;а это код </I><br><br>Обьясняю на пальцах.Этот код будет выглядеть так(эквивалент).:<br><br>jmp метка:  <br>str0 db &#039;это вот не код&#039;,0 <br>метка: <br>  код...<br>Уверяю,ИДА тебе это нормально покажет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=98517&amp;user=371&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=7" class="addthx" data-post="98517"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 октября 2006 05:49 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<I>HUMan45 пишет:<br>section &#039;.idata&#039; data readable writeable <br><br>str0 db &quot;превед&quot;,0 <br>str1 db &quot;учаснеги&quot;,0 <br><br>section &#039;.code&#039; code readable writable executable <br><br>ЭТО НЕ УДОБНО!!!  </I><br>  Не понял. Это классика программирования. Для этого секции и придумали.<br> Т.к. речь в т.ч. и про макросы, то советую книжки читать. Никто не заставляет тебя писать все данные в одном месте ( секция данные), а прогу отдельно. Изначально подразумевалось как раз, что ты напишешь так :<br><br>section &#039;.code&#039; code readable writable executable <br><br>start: <br>invoke MessageBox,0,str0,str1,0 <br>section &#039;.idata&#039; data readable writeable <br><br>str0 db &quot;превед&quot;,0 <br>str1 db &quot;учаснеги&quot;,0 <br><br>section &#039;.code&#039; code readable writable executable <br><br>invoke ExitProcess,NULL <br>====================<br>  Я fasm  не знаю, но нормальные ассемблеры собирают(собирали) код в одну секцию, а данные в другую. Именно поэтому их ассемблерами(сборщиками) и назвали. А вот проклятая фирма ИБМ писала свои макросы именно с джампом <img src="img/smilies/s9.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=98528&amp;user=4072&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=8" class="addthx" data-post="98528"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]TOR[/b]','')">TOR</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=371">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 октября 2006 05:56 <br><script type="text/javascript">QU('TOR','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TOR" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>tundra37 пишет:<br>section &#039;.idata&#039; data readable writeable <br><br>str0 db &quot;превед&quot;,0 </I><br>Только не так!Это хоть и правильно, но не грамотно! Лучше :<br><br>section &#039;.data&#039; data readable writeable <br>str0 db &quot;превед&quot;,0 [/i]<br><br>название секции &#039;.idata&#039;, подразумевает обьявление импорта.<img src="img/smilies/s2.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=98529&amp;user=371&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=9" class="addthx" data-post="98529"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]TOR[/b]','')">TOR</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.8 (новичок)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.82'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=371">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 октября 2006 06:40 &middot; Поправил: TOR <br><script type="text/javascript">QU('TOR','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TOR" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
У Зомбы была реализация макроса на ассемблере, позволяющая инициализировать данные прямо в коде.<br>lea   edi, temparea<br>mov   eax, &quot;W&#92;:C&quot;<br>stosd<br>mov   eax, &quot;ODNI&quot;<br>stosd<br> mov   eax, &quot;*&#92;SW&quot;<br>stosd<br>mov   eax, &quot;EXE.&quot;         <br>stosd<br>xor   eax, eax<br> stosd<br>; temparea=data<br>Может, тебе нужен такой метод инициализации данных?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=98541&amp;user=371&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=10" class="addthx" data-post="98541"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]S_T_A_S_[/b]','')">S_T_A_S_</a></b><br></div>
<img src="img/s5.gif" alt=""><br><span class=txtSm>Ранг: 163.7 (ветеран)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.87'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=251">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 12 октября 2006 21:00 <br><script type="text/javascript">QU('S_T_A_S_','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=S_T_A_S_" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
1. См. inc файлы из комплекта фасма. invoke давно должен поддерживать рекурсию.<br>2. Если правильно понял, нужны макросы uglobals&#92;iglobals из Fresh. Я тоже делал подобное, но тормоза при компиляции напрягали, COFF + линкер может оказаться лучше.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=98593&amp;user=251&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=11" class="addthx" data-post="98593"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]HUMan45[/b]','')">HUMan45</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 4.4 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=6967">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 октября 2006 22:27 <br><script type="text/javascript">QU('HUMan45','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HUMan45" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=6445.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>S_T_A_S_</b> нельзя ли поподробнее об uglobals&#92;iglobals и fresh <br><br><I>tundra37 пишет:<br>section &#039;.code&#039; code readable writable executable <br><br>start: <br>invoke MessageBox,0,str0,str1,0 <br>section &#039;.idata&#039; data readable writeable <br><br>str0 db &quot;превед&quot;,0 <br>str1 db &quot;учаснеги&quot;,0 <br><br>section &#039;.code&#039; code readable writable executable <br><br>invoke ExitProcess,NULL <br>====================  </I><br>это фасм т.е. плоский асемблер при этом создается три секции две из них одноименные &#039;.code&#039;<br><br>и вобще чуваки по второму вопросу я решил сам проблему так:<br>macro makeglobs { }<br>macro globalparam [args]<br>{<br>forward<br>macro makeglobs<br>/{<br>makeglobs<br>args<br>/}<br>}<br>теперь я определяю так<br>globalparam &lt;str0 db &#039;sdfsdg&#039;,0&gt;<br>а ниже пишу <br>makeglobs<br>но есть одно ограничение мыне можем определить globalparam ниже makeglobs он не видит макрос<br>теперь продолжаю вопрос :<br>есть ли такая опция двойного прохода макросов чтобы mekeglobs увидел изменения от globalparam короче в масме такая приблуда есть
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=99266&amp;user=6967&amp;forum_n=6&amp;topic=6445.html&amp;page=0&amp;anchor=12" class="addthx" data-post="99266"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Fasm</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#13" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="6">
<input type="hidden" name="topic" value="6445">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=6445" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
