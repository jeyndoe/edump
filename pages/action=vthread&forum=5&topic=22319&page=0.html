<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Добавление новой секции в PE - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Всем ку ^_^ В общем, знаю, что данная тема уже разжевана и в гугле дофига примеров, но вот что то не получается. Цель: добавить в pe-файл секцию с данными. В общем, вроде как получилось, но не совсем. Вот код:">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=28016'>asfa</a>, <a target='_blank' href='?action=userinfo&amp;user=8605'>Rio</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Добавление новой секции в PE</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]Phantom007[/b]','')">Phantom007</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.7 (новичок), 14thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.62'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33369">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 00:41 <br><script type="text/javascript">QU('Phantom007','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Phantom007" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Всем ку ^_^ В общем, знаю, что данная тема уже разжевана и в гугле дофига примеров, но вот что то не получается. Цель: добавить в pe-файл секцию с данными. В общем, вроде как получилось, но не совсем. Вот код: https://gist.github.com/winkle/7377166<br><br>Вся проблема заключается в sectsize. Если сделать её меньше 0x1000, то exe не запускается. Но если сделать тоже самое в CFF/другом редакторе, то всё работает. В чем может быть проблема?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333479&amp;user=33369&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=1" class="addthx" data-post="333479"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 01:11 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
PESection[i].Misc.VirtualSize должна быть кратна <b>PE.SectionAlignment</b>. {За выполнение этого условия должна бы отвечать AlignSize() ?}<br>PESection[i].SizeOfRawData может иметь  любой желаемый размер &lt;= PESection[i].Misc.VirtualSize.<br>А где-то должна быть ещё коррекция PE.SizeOfInitData.<br><br>--ADD--<br><noindex><a href="http://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=15877" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br>--ADD2--<br>Так можно ж добавить к существующему значению (PE.SizeOfInitData) размер своих добавляемых данных - и всё тут...<br>И непонятно, зачем у секции атрибут IMAGE_SCN_CNT_UNINITIALIZED_DATA ?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333481&amp;user=35473&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=2" class="addthx" data-post="333481"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]Phantom007[/b]','')">Phantom007</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.7 (новичок), 14thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.62'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33369">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 01:22 &middot; Поправил: Phantom007 <br><script type="text/javascript">QU('Phantom007','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Phantom007" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>dosprog</b><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>DWORD</b></span>&nbsp;AlignSize<span class="hl_char">(</span><span class="hl_function"><b>DWORD</b></span>&nbsp;dwSize<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>DWORD</b></span>&nbsp;dwAlign<span class="hl_char">)</span>&nbsp;</li><li class="hl_l1">{</li><li class="hl_l0">return&nbsp;<span class="hl_char">(</span>dwSize&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_char">(</span>dwAlign&nbsp;<span class="hl_char">-</span>&nbsp;<span class="hl_char">(</span><span class="hl_char">(</span>dwSize&nbsp;<span class="hl_char">%</span>&nbsp;dwAlign<span class="hl_char">)</span>&nbsp;<span class="hl_char">?</span>&nbsp;<span class="hl_char">(</span>dwSize&nbsp;<span class="hl_char">%</span>&nbsp;dwAlign<span class="hl_char">)</span>&nbsp;<span class="hl_char">:</span>&nbsp;dwAlign<span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">}</li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l1"><span class="hl_function"><b>DWORD</b></span>&nbsp;NewSize&nbsp;<span class="hl_char">=</span>&nbsp;AlignSize<span class="hl_char">(</span>Size<span class="hl_char">,</span>&nbsp;NtHeader32<span class="hl_char">-</span><span class="hl_char">&gt;</span>OptionalHeader<span class="hl_char">.</span>SectionAlignment<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l1">PESection<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">.</span>Misc<span class="hl_char">.</span>VirtualSize&nbsp;<span class="hl_char">=</span>&nbsp;NewSize<span class="hl_comment">;</span></li><li class="hl_l0">PESection<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">.</span>SizeOfRawData&nbsp;<span class="hl_char">=</span>&nbsp;NewSize<span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>По сути PESection[i].Misc.VirtualSize кратна SectionAlignment, а SizeOfRawData = Misc.VirtualSize. <img src="img/smilies/s4.gif" alt=""><br><br>add:<br>Из статьи Z0mbie:      <br><i class=x>SizeOfInitData  &amp;  SizeOfUninitData  --  полная  херь,  выставлено как попало и кое-где. Каким бы ни был метод заражения, менять их нет смысла.</i><br><br>add #2:<br>было бы круто еще понять, как работать с этим SizeOfInitData <img src="img/smilies/s1.gif" alt=""> А то в интернете почти ничего не нашел, а что нашел - не понял <img src="img/smilies/s9.gif" alt=""><br><br>Add:<br>Не совсем понял вас. Добавлять значение к чему?<br><br>Адд:<br>Спасибо, завтра еще поексперементирую<img src="img/smilies/s1.gif" alt=""><br>А аттрибуты с нагло украл с сорцов неокса ^_^
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333482&amp;user=33369&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=3" class="addthx" data-post="333482"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]hors[/b]','')">hors</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/31056.jpg" alt=""><br><span class=txtSm>Ранг: 136.0 (ветеран), 360thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.52'>Активность: 0.27<span style='color:red'>&searr;</span>0.14</span><br>Статус: <a href="action=userinfo&amp;user=31056">Участник</a><br><font color=blue>Qt Developer</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 04:23 &middot; Поправил: hors <br><script type="text/javascript">QU('hors','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=hors" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>Phantom007 пишет:<br>Вся проблема заключается в sectsize. Если сделать её меньше 0x1000, то exe не запускается. Но если сделать тоже самое в CFF/другом редакторе, то всё работает. В чем может быть проблема?  </I><br><br>Возьмите свой файл и файл после редактора. Потом сравните их с помощью PE-tools или LordPE. ( кнопка &quot;compare&quot; в PE-tools)
<br><br><font size="1"><i>-----<br>http://ntinfo.biz</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=333487&amp;user=31056&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=4" class="addthx" data-post="333487"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 09:49 <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Init/Uninit Data загрузчику не нужен. Если интересно, как работать, по сути там сумма размеров всех секций с этими атрибутами.<br>И лучше бы выложил файл получившийся, в кодесе половины функций нет. Как вариант-в HIEW есть плаг PEVerifier, он расскажет, что в файле не нравится.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333489&amp;user=1556&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=5" class="addthx" data-post="333489"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=42678" title="16-06-2018 17:19, ранг:0.0" target="_blank">AlisaDarkCoder</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 13:17 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>Init/Uninit Data загрузчику не нужен.</I><br>--согдасен, будет работать и вообще с обнулёнными значениями. Но к.з. что там в дальнейшем будут в MS проверять... (imho).<br><I>там сумма размеров всех секций с этими атрибутами</I><br>--уточню, сумма RAW sizes.<br><br>В простейшем случае да - хватает коррекции этих двух чисел &lt;PE.NumOfSections&gt; и &lt;PE.SizeOfImage&gt; помимо вставленного описания секции (new section header). Но на вставку этого описания как раз-то места может и не хватать.<br>В общем, лучше не гадать. Самое нормальное - сделать, как предложил <b>hors</b>. Можно и обычной C&gt;FC.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333497&amp;user=35473&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=6" class="addthx" data-post="333497"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Phantom007[/b]','')">Phantom007</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.7 (новичок), 14thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.62'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33369">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 14:56 <br><script type="text/javascript">QU('Phantom007','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Phantom007" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>hors</b><br>Сравнил.. Файлы отличаются только размером.<br><br>У меня есть подозрение, что массив не записывается куда надо.<br><br>Прикладываю архив<br>zcrackme.exe - оригинал<br>newpe.exe - созданный моей прогой (размер секции в коде выставлен 0x4), не работает<br>mype.exe - тоже созданный моей прогой (размер - 0x1000)<br>cff.exe - созданный через CFF Explorer (0x1000, не отличается от mype.exe)<br>cff_.exe - CFF Explorer, размер секции - 0x4 (по идее должен быть такой же как newpe.exe, но не тут то было)<br><br>теперь мои предположения.<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>BYTE</b></span>&nbsp;NewSection<span class="hl_char">[</span>0x4<span class="hl_char">]</span>&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_quote">{'T'</span><span class="hl_char">,</span>&nbsp;<span class="hl_quote">'E'</span><span class="hl_char">,</span>&nbsp;<span class="hl_quote">'S'</span><span class="hl_char">,</span>&nbsp;<span class="hl_quote">'T'</span>}<span class="hl_comment">;</span></li><li class="hl_l1">PEFile<span class="hl_char">-</span><span class="hl_char">&gt;</span>AddNewSection<span class="hl_char">(</span><span class="hl_char">(</span>LPBYTE<span class="hl_char">)</span>NewSection<span class="hl_char">,</span>&nbsp;0x4<span class="hl_char">,</span>&nbsp;<span class="hl_quote">&quot;.test&quot;</span><span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>всё равно создает секцию равной 0x1000, не запускается. Если же выставить тут 0x1000, то всё работает отлично. И еще, немного поменял запись данных:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">SetFilePointer<span class="hl_char">(</span>hFile<span class="hl_char">,</span>&nbsp;PESection<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">.</span>PointerToRawData<span class="hl_char">,</span>&nbsp;<span class="hl_function">NULL</span><span class="hl_char">,</span>&nbsp;FILE_BEGIN<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>Не знаю, правильно ли это.<br><br><img src="img/attach.gif" alt=""> <a href="./files/d847_09.11.2013_EXELAB.rU.tgz">d847_09.11.2013_EXELAB.rU.tgz</a> - Release.7z
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333498&amp;user=33369&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=7" class="addthx" data-post="333498"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 464thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 15:50 &middot; Поправил: ClockMan <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br><div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">00000260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">2E</span>&nbsp;<span class="hl_number">74</span>&nbsp;<span class="hl_number">65</span>&nbsp;<span class="hl_number">73</span><span class="hl_char">&gt;</span>ASCII&nbsp;<span class="hl_quote">&quot;.test&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; SECTION</span></li><li class="hl_l1"><span class="hl_number">00000268</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">00100000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;<span class="hl_number">00001000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  VirtualSize = 1000 (4096.)</span></li><li class="hl_l0"><span class="hl_number">0000026C</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">00500000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;<span class="hl_number">00005000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  VirtualAddress = 5000</span></li><li class="hl_l1"><span class="hl_number">00000270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">00100000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;<span class="hl_number">00001000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  SizeOfRawData = 1000 (4096.) =========&gt;0004</span></li><li class="hl_l0"><span class="hl_number">00000274</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">00100000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;<span class="hl_number">00001000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  PointerToRawData = 1000</span></li><li class="hl_l1"><span class="hl_number">00000278</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;<span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  PointerToRelocations = 0</span></li><li class="hl_l0"><span class="hl_number">0000027C</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;<span class="hl_number">00000000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  PointerToLineNumbers = 0</span></li><li class="hl_l1"><span class="hl_number">00000280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DW</b></span>&nbsp;<span class="hl_number">0000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  NumberOfRelocations = 0</span></li><li class="hl_l0"><span class="hl_number">00000282</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">0000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DW</b></span>&nbsp;<span class="hl_number">0000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  NumberOfLineNumbers = 0</span></li><li class="hl_l1"><span class="hl_number">00000284</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_number">000000C0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>DD</b></span>&nbsp;C0000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;  Characteristics = READ|WRITE</span></li>        </ol>
    </div>
</div></div>
<br>Вы указали <b>SizeOfRawData = 1000</b> а надо 4.
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=333499&amp;user=17432&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=8" class="addthx" data-post="333499"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=33369" title="09-11-2013 11:54, ранг:10.7" target="_blank">Phantom007</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Phantom007[/b]','')">Phantom007</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.7 (новичок), 14thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.62'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33369">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 15:54 &middot; Поправил: Phantom007 <br><script type="text/javascript">QU('Phantom007','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Phantom007" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>ClockMan</b><br>Действительно, всё заработало <img src="img/smilies/s1.gif" alt=""> Большое спасибо <img src="img/smilies/s1.gif" alt=""><br><br>Еще маленький вопрос <img src="img/smilies/s1.gif" alt=""> Можно ли как то вставить данные секции в массив? Т.е. у нас есть массив PEData, который записывается в файл по окончанию работы. После него записывается данные нашей секции. Я бы хотел избавиться от WriteFile и добавить данные секции прямо в PEData. Можно ли это провернуть? (CopyMemory не работает почему то)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333501&amp;user=33369&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=9" class="addthx" data-post="333501"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]OKOB[/b]','')">OKOB</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6801.png" alt=""><br><span class=txtSm>Ранг: 527.7 (<b>!</b>), 381thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.78'>Активность: 0.16<span style='color:red'>&searr;</span>0.09</span><br>Статус: <a href="action=userinfo&amp;user=6801">Участник</a><br><font color=blue><font color=red>Победитель турнира 2010</font></font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 15:57 <br><script type="text/javascript">QU('OKOB','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=OKOB" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
правильнее так как и сделал CFF Explorer:<br> - VirtualSize = 4 (которые хочет ТС)<br> - SizeOfRawData = 0х200 (== File Aligment)<br> - и сама секция размером 0х200 в первых 4х байтах которой &#039;TEST&#039;
<br><br><font size="1"><i>-----<br>127.0.0.1, sweet 127.0.0.1</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=333502&amp;user=6801&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=10" class="addthx" data-post="333502"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=33369" title="09-11-2013 12:10, ранг:10.7" target="_blank">Phantom007</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]ClockMan[/b]','')">ClockMan</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/17432.jpg" alt=""><br><span class=txtSm>Ранг: 568.2 (<b>!</b>), 464thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.99'>Активность: 0.55<span style='color:green'>&nearr;</span>0.57</span><br>Статус: <a href="action=userinfo&amp;user=17432">Участник</a><br><font color=blue>оптимист</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 15:59 <br><script type="text/javascript">QU('ClockMan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ClockMan" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>Phantom007</b><br>Ты понял хоть что в <b>SizeOfRawData</b> надо вписывать ? а то начнёшь новые топы создавать<img src="img/smilies/s6.gif" alt="">
<br><br><font size="1"><i>-----<br>Чтобы правильно задать вопрос, нужно знать большую часть  ответа. Р.Шекли.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=333503&amp;user=17432&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=11" class="addthx" data-post="333503"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Phantom007[/b]','')">Phantom007</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.7 (новичок), 14thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.62'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33369">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 16:11 <br><script type="text/javascript">QU('Phantom007','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Phantom007" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>ClockMan</b><br>Ну теперь SizeOfRawData = FileAlignment т.е. 0x200<br><br><b>OKOB</b><br>Спасибо <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333504&amp;user=33369&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=12" class="addthx" data-post="333504"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]__X3__[/b]','')">__X3__</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 6.2 (гость), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=35338">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2013 19:18 &middot; Поправил: __X3__ <br><script type="text/javascript">QU('__X3__','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=__X3__" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>Phantom007 пишет:<br>Ну теперь SizeOfRawData = FileAlignment т.е. 0x200 </I><br>Не равно, а кратно. Т. е. может быть и больше, но обязательно кратно(200, 400, 600 ... 1000 ... ) FileAlignment.<img src="img/smilies/s3.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333507&amp;user=35338&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=13" class="addthx" data-post="333507"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Dr0p[/b]','')">Dr0p</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/33727.png" alt=""><br><span class=txtSm>Ранг: 72.3 (постоянный), 133thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.5'>Активность: 0.38<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33727">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 ноября 2013 02:24 &middot; Поправил: Dr0p <br><script type="text/javascript">QU('Dr0p','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dr0p" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br><div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;Generally<span class="hl_char">,</span>&nbsp;SizeOfRawData&nbsp;is&nbsp;larger&nbsp;than&nbsp;VirtualSize&nbsp;for&nbsp;each</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;<span class="hl_function"><b>section</b></span>&nbsp;because&nbsp;it&nbsp;includes&nbsp;the&nbsp;padding&nbsp;to&nbsp;get&nbsp;to&nbsp;the&nbsp;subsection</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;alignment&nbsp;boundary<span class="hl_char">.</span>&nbsp;&nbsp;However&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;the&nbsp;image&nbsp;is&nbsp;linked&nbsp;with</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;subsection&nbsp;alignment&nbsp;<span class="hl_char">=</span><span class="hl_char">=</span>&nbsp;native&nbsp;page&nbsp;alignment<span class="hl_char">,</span>&nbsp;the&nbsp;linker&nbsp;will</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;have&nbsp;VirtualSize&nbsp;be&nbsp;much&nbsp;larger&nbsp;than&nbsp;SizeOfRawData&nbsp;because&nbsp;it</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>&nbsp;will&nbsp;account&nbsp;for&nbsp;all&nbsp;the&nbsp;bss<span class="hl_char">.</span></li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=333513&amp;user=33727&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=14" class="addthx" data-post="333513"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 ноября 2013 02:58 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>Dr0p</b>,<br><I>Archer пишет:<br>...в кодесе половины функций нет.</I> <br>Таки да - не нужно рассматривать частные случаи. В общем случае всё выглядит так (например):<br><br>N Name_____VirtSize___RVA_____PhysSize__Offset____Flag<br>1 CODE_____0009B000 00001000 0003D200 00000400 C0000040<br>2 DATA______00002000 0009C000 00000A00 0003D600 C0000040<br>3 BSS_______00001000 0009E000 00000000 0003E000 C0000040<br>4 .idata_____00003000 0009F000 00001000 0003E000 C0000040<br>5 .tls_______00001000 000A2000 00000000 0003F000 C0000040<br>6 .rdata____00001000 000A3000 00000200 0003F000 C0000040<br>7 .reloc____0000A000 000A4000 00000000 0003F200 C0000040<br>8 .rsrc_____00012000 000AE000 00004600 0003F200 C0000040<br>9 .aspack__00005000 000C0000 00004200 00043800 C0000040<br>0 .data____00001000 000C5000 00000000 00047A00 C0000040<br><br>Где же тут <I>SizeOfRawData is larger than VirtualSize</I> ?<br><br>---ADD---<br>))) Борланд Delphi, файл <b>когда он был</b> запакован aspack&#039;ом - редактор asmedit от AVTLab.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333514&amp;user=35473&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=15" class="addthx" data-post="333514"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]Dr0p[/b]','')">Dr0p</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/33727.png" alt=""><br><span class=txtSm>Ранг: 72.3 (постоянный), 133thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.5'>Активность: 0.38<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33727">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 ноября 2013 03:03 &middot; Поправил: Dr0p <br><script type="text/javascript">QU('Dr0p','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dr0p" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>dosprog</b><br><br>Не борландский ли линкер.. И вообще сказано про bss секции, они места дискового не занимают.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333515&amp;user=33727&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=16" class="addthx" data-post="333515"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Phantom007[/b]','')">Phantom007</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 19.7 (новичок), 14thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.62'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33369">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 10 ноября 2013 12:20 <br><script type="text/javascript">QU('Phantom007','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Phantom007" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=22319.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
Всем спасибо, во всем разобрался <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=333528&amp;user=33369&amp;forum_n=5&amp;topic=22319.html&amp;page=0&amp;anchor=17" class="addthx" data-post="333528"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Добавление новой секции в PE</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=22319" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
