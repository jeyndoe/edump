<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Что выбрать - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Интересует не взлом программы, а нужно ее допросить с пристрастием. Есть программа которая общается через COM-порт с неким устройством (ЧЯ - черный ящик). Используются стандартные функции винды для передачи в порт. Проблема в">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=28016'>asfa</a>, <a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a>, <a target='_blank' href='?action=userinfo&amp;user=41144'>Adler</a>, <a target='_blank' href='?action=userinfo&amp;user=26261'>bartolomeo</a> (+9 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Что выбрать</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 19:47 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Интересует не взлом программы, а нужно ее допросить с пристрастием. Есть программа которая общается через COM-порт с неким устройством (ЧЯ - черный ящик). Используются стандартные функции винды для передачи в порт. Проблема в отсутствии ЧЯ. Подглядеть что отправляется в ЧЯ - нет проблем, но хочется узнать что ждет программа от ЧЯ. Что из отладочного софта в данном случае будет кошернее?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310716&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=1" class="addthx" data-post="310716"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]ZaZa[/b]','')">ZaZa</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3691.jpg" alt=""><br><span class=txtSm>Ранг: 158.5 (ветеран), 219thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.43'>Активность: 0.12<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=3691">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 20:11 &middot; Поправил: ZaZa <br><script type="text/javascript">QU('ZaZa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZaZa" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Странно! Если я тебе скажу: &quot;Что есть такое ПАРАМ-ПАРАМ?&quot;. Что я должен от тебя услышать? Думаешь я знаю? Так дело обстоит и с твоим ЧЯ )) Можно лишь угадать, либо пытать ЧЯ...<br>Некоторые протоколы легко узнаваемы, но очень часто разработчики поступают так, как велит им сердце, тогда капец!<br>Из инструментов необходим сниффер COM-порта (Serial Port Monitor), это минимум...
<br><br><font size="1"><i>-----<br>One death is a tragedy, one million is a statistic.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=310720&amp;user=3691&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=2" class="addthx" data-post="310720"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]BfoX[/b]','')">BfoX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 397.0 (мудрец), 179thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.13'>Активность: 0.17<span style='color:red'>&searr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=1865">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 20:28 <br><script type="text/javascript">QU('BfoX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=BfoX" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
gemini cut?
<br><br><font size="1"><i>-----<br>...или ты работаешь хорошо, или ты работаешь много...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=310726&amp;user=1865&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=3" class="addthx" data-post="310726"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 20:34 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
ЧЯ нету, иначе и проблемы небыло-бы. Протокол есессно свой. Хэндшейк вижу, буду смотреть ollydbg что оно ждет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310729&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=4" class="addthx" data-post="310729"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]ZaZa[/b]','')">ZaZa</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3691.jpg" alt=""><br><span class=txtSm>Ранг: 158.5 (ветеран), 219thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.43'>Активность: 0.12<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=3691">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 20:44 <br><script type="text/javascript">QU('ZaZa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZaZa" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>tester500</b><br>Можно еще отреверсить программу и попытаться найти место, где  происходит разбор полученных данных от ЧЯ. С большой вероятностью можно понять что именно происходит и куда копать дальше...
<br><br><font size="1"><i>-----<br>One death is a tragedy, one million is a statistic.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=310731&amp;user=3691&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=5" class="addthx" data-post="310731"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 21:19 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Можно, но нудно. Как обычно - хочется побыстрее.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310743&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=6" class="addthx" data-post="310743"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]tomac[/b]','')">tomac</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 65.3 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.82'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6470">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 21:28 <br><script type="text/javascript">QU('tomac','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tomac" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>tester500</b><br>А побыстрее не получится. Если черный ящик - не хардверная защита программы, а делает какие-то неизвестные действия, о которых программа не знает, ничего сделать нельзя. Да и в случае хардверной защиты - тоже сомнительно, ибо, скорее всего, тогда в ЧЯ была зашита важная часть проги, которую не восстановить без ЧЯ.<br><br>Максимум, что получится - отреверсить протокол и посмотреть, что программа делает с данными. Типа, если ЧЯ - датчик какого-нибудь уровня, то если прога из значения вычитает 100 и делит на 1000, можно считать, что значения датчика лежат в диапазоне (100; 1100). А может быть, прога делает что-то хитрое, и ей нужна точность только до 3го знака после запятой.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310747&amp;user=6470&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=7" class="addthx" data-post="310747"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 23:36 &middot; Поправил: tester500 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
ЧЯ не защита, что делает известно.  Сначала программа напрямую управляла внешним устройством через ком-порт, дергая пины порты на выход и опрашивая пины на вход подключенные к 4 датчикам напрямую (был преобразователь rs232-&gt; ttl). Потом было то-же самое тока через USB-&gt;COM конвертер. Затем был создан ЧЯ, который хотя и работает через USB, но обмен с ним идет через обычный COM-порт. В ЧЯ грузят определенную последовательность &quot;че-делать&quot;, а тот уже сам следит за датчиками и дергает сигналом в нужный момент. Хочется сделать свой ЧЯ, но нужно знать протокол обмена. Программа поддерживает оба типа работы - сначала идет опрос ЧЯ (хэндшейк), если нет ответа то предполагается что подключен самый первый тип адаптера и программа переходит на опрос порта попиново. Первый адаптер сделать как два пальца ..., но у него куча минусов. Вобщем хочу сваять умный адаптер.<br>PS: программ две, одна как говно мамонта - но у нее отличный интерфейс. Вторая поновей - но без рюшечек. У каждой программы свой ЧЯ и свой протокол работы с ним. Свой третий городить неохота.<br>PPS: Датчиков четыре, никаких &quot;третий знак после запятой&quot;, только TTL 0-1.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310758&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=8" class="addthx" data-post="310758"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]OnLyOnE[/b]','')">OnLyOnE</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/1989.png" alt=""><br><span class=txtSm>Ранг: 462.8 (мудрец), 468thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.08'>Активность: 0.28<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=1989">Участник</a><br><font color=blue>Only One!</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 28 августа 2012 23:53 <br><script type="text/javascript">QU('OnLyOnE','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=OnLyOnE" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
А не проще использовать сниффер COM-порта?<img src="img/smilies/s11.gif" alt="">
<br><br><font size="1"><i>-----<br>aLL rIGHTS rEVERSED!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=310760&amp;user=1989&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=9" class="addthx" data-post="310760"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]tomac[/b]','')">tomac</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 65.3 (постоянный), 10thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.82'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6470">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 29 августа 2012 00:16 <br><script type="text/javascript">QU('tomac','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tomac" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>OnLyOnE</b><br>Читай внимательнее, у него нету черного ящика. <br>Если ЧЯ ничего не отвечает, то можно попробовать. Но всё равно реверс проги нужен, либо можно USB-&gt;COM сэмулировать, и почитать, что она туда пишет.<br>И еще, если я не совсем забыл, что такое COM, RS232 и TTL, то уровни кодируют биты, плюс стопы, а биты - это любые данные. Включая те, которые можно на 1000 поделить. А между RS232 и TTL вообще отличие только в уровнях? (3.3 или 5 вольт), не?<br><br>Кроме того, для теста всё равно придется находить ЧЯ какой-то из прог, так не проще ли сразу?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310762&amp;user=6470&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=10" class="addthx" data-post="310762"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 29 августа 2012 00:52 &middot; Поправил: tester500 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
RS232: мин/макс -12в/+12в в инверсии, TTL макс +5в. Тока это тех. подробности не к месту. Да и настройка порта тоже, это все стандартное. Главное - программа принимает с порта байт(ты), какие-ей нужны (что она ждет?) .Прием с порта можно сделать двумя способами: программный (опрашивая регистры порта) или аппаратный (повесить обработчик на прерывание). Разбираюсь что использует программа.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310766&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=11" class="addthx" data-post="310766"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 августа 2012 21:32 &middot; Поправил: tundra37 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Как говорил один умный человек: гораздо легче написать свою программу, чем разобрать чужой исходник. У вас задача еще сложнее. Т.к. вы знаете что делает программа, то делайте свой ящик исходя из этого и не занимайтесь ерундой <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310837&amp;user=4072&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=12" class="addthx" data-post="310837"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=4773" title="30-08-2012 18:11, ранг:49.0" target="_blank">plutos</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]mdscorp[/b]','')">mdscorp</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 47.6 (посетитель), 15thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.37'>Активность: 0.03<span style='color:red'>&searr;</span>0.02</span><br>Статус: <a href="action=userinfo&amp;user=24498">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 августа 2012 16:48 <br><script type="text/javascript">QU('mdscorp','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=mdscorp" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Чтение\запись в устройства COM делаются так же как и чтение\запись файлов, только пути \.&#92;com?<br>У тебя 2 пути <br> 1. Берёшь снифер и програмку считающую до 65000 и пишущую это в твой порт по байтно смотришь что порт тебе отвечает <br>(только надо сделать что бы вначале 1 байт писался потом 2 и так далее )<br><br> 2. Берешь отладчик брякаешь все &quot;CreateFileA&quot; и видишь структуру на которую ссылается эта ф-ция, <br>если прога управляется больше чем одним байтом то должны быть строки для сравнения команды с полученой. а если одним то должен быть кейс и его сложно не заметить.<br><br>и даже если устройство умеет отправлять строки, то вначале полюбому должна быть команда что это строки, а не набор управляющих команд <br><br>в первом случае есть такая прога ComVC погугли правда очень старая она <br>а во втором ида
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=310861&amp;user=24498&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=13" class="addthx" data-post="310861"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=4773" title="03-09-2012 20:33, ранг:50.2" target="_blank">plutos</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 сентября 2012 00:12 &middot; Поправил: tester500 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Чтение порта через &quot;ReadFile&quot;, в олле оно видно (вместе с буфером). А вот дальше ...<br>никак не пойму с чем оно там сверяется. Понатыкано &quot;MSVCRT20.vsprintf&quot;,&quot;KERNEL32.OutputDebugStringA&quot;, отвлекает. Вроде сверка идет посимвольно, с одновременной проверкой кол-ва. Если не совпадает, то отлуп &quot;Устройство не найдено&quot;<br>PS: программа не секретная <noindex><a href="http://www.silverknit.nl/download/" rel="nofollow" target="_blank">--&gt; тут &lt;--</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=311060&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=14" class="addthx" data-post="311060"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 сентября 2012 16:08 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Вы бы не темнили, а сказали бы, что у вас интерфейс к вязальной машине сдох. Здесь вы решения не найдете. Точнее здесь точно будет дороже. Сами вы вряд ли чего сделаете. Если бы машина не была бы ЧЯ, вы вряд ли бы сюда отбратились. А как только вы разберетесь с машиной, то остальное будет сделать проще гораздо и не обязательно фирменную разработку повторять.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=311604&amp;user=4072&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=15" class="addthx" data-post="311604"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]BfoX[/b]','')">BfoX</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 397.0 (мудрец), 179thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.13'>Активность: 0.17<span style='color:red'>&searr;</span>0.1</span><br>Статус: <a href="action=userinfo&amp;user=1865">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 сентября 2012 18:47 <br><script type="text/javascript">QU('BfoX','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=BfoX" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<b>tester500</b><br><br>часть команд есть в RKC1000 Operation Manual (English)
<br><br><font size="1"><i>-----<br>...или ты работаешь хорошо, или ты работаешь много...</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=311606&amp;user=1865&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=16" class="addthx" data-post="311606"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]tester500[/b]','')">tester500</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.8 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.87'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=32783">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 23 сентября 2012 21:00 &middot; Поправил: tester500 <br><script type="text/javascript">QU('tester500','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tester500" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=20276.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<I>tundra37 пишет:<br>Вы бы не темнили, а сказали бы, что у вас интерфейс к вязальной машине сдох </I><br><br>Не сдох, его и не было.<br>а насчет остального - машинка как-раз не проблема - по ней есть все.<br>Но есть готовый софт в котором куча узоров, проще сделать интерфейс.<br><br><I>BfoX пишет:<br>часть команд есть в RKC1000 Operation Manual (English)  </I><br><br>KRC-1000 это Brother, не в тему. Там протокол уже давно известен и описан.<br><br>PS: По теме - хэндшейк уже разобрал, делаю эмулятор интерфейса.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=311902&amp;user=32783&amp;forum_n=5&amp;topic=20276.html&amp;page=0&amp;anchor=17" class="addthx" data-post="311902"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Что выбрать</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#18" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="20276">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=20276" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
