<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Простые способы замены кода в dotNet - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здравствуйте, ув. Профессионалы! Хочу научиться производить замену кода в приложениях dotNet. Для этого создал на C# очень простое тестовое приложение. При нажатии на кнопку Calculate приложение просто складывает два числа,">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a>, <a target='_blank' href='?action=userinfo&amp;user=55997'>bezumchik</a>, <a target='_blank' href='?action=userinfo&amp;user=55477'>Lohmaty</a> (+7 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Простые способы замены кода в dotNet</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=5&amp;topic=25629&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=5&amp;topic=25629&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 марта 2019 13:09 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Здравствуйте, ув. Профессионалы!<br>Хочу научиться производить замену кода в приложениях dotNet. Для этого создал на C# очень простое тестовое приложение. При нажатии на кнопку Calculate приложение просто складывает два числа, которые были введены в текстовые поля и результат выводит в третье текстовое поле.<br><br>Задача заменить исходную функцию сложения на следующую:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>public</b></span>&nbsp;static&nbsp;string&nbsp;Read_From_txt<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;path&nbsp;<span class="hl_char">=</span>&nbsp;Path<span class="hl_char">.</span>Combine<span class="hl_char">(</span>AppDomain<span class="hl_char">.</span>CurrentDomain<span class="hl_char">.</span>BaseDirectory<span class="hl_char">,</span>&nbsp;<span class="hl_quote">&quot;Result.txt&quot;</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;result<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">try</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileStream&nbsp;stream&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;FileStream<span class="hl_char">(</span>path<span class="hl_char">,</span>&nbsp;FileMode<span class="hl_char">.</span>Open<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StreamReader&nbsp;streamReader&nbsp;</span><span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;StreamReader<span class="hl_char">(</span>stream<span class="hl_char">,</span>&nbsp;Encoding<span class="hl_char">.</span>GetEncoding<span class="hl_char">(</span><span class="hl_quote">&quot;windows-1251&quot;</span><span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;<span class="hl_char">=</span>&nbsp;streamReader<span class="hl_char">.</span>ReadLine<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;streamReader<span class="hl_char">.</span>Close<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">catch</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_quote">&quot;&quot;</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<span class="hl_comment">;</span></li><li class="hl_l0">}</li>        </ol>
    </div>
</div></div>
<br>Код функции читает первую строку из файла Result.txt и возвращает ее в качестве результата. Также хочу обратить внимание, что код фунции использует библиотеку &#039;using System.IO;&#039;, которая не подключена в исходном приложении<br><br>Файлы с тестовым приложением выложил здесь <noindex><a href="https://www.sendspace.com/file/qabr2l" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br>в архиве &#039;Calc.exe&#039; - исходное приложение, &#039;FileRead.dll&#039; - функция для замены, &#039;Result.txt&#039; - текстовый файл, откуда будет читаться первая строка<br><br>По возможности, просьба подробно указывать ЧТО, КАК И С ПОМОЩЬЮ КАКИХ ИНСТРУМЕНТОВ следует делать для замены кода. По Вашим рекомендациям я буду учиться
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392119&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=1" class="addthx" data-post="392119"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 222thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 марта 2019 14:42 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Ждём medsft по данному вопросу )
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392122&amp;user=24257&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=2" class="addthx" data-post="392122"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=332" title="04-03-2019 05:35, ранг:293.6" target="_blank">Medsft</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.4 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 марта 2019 18:47 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
dnSpy правой кнопкой по методу, редактировани и пишешь новый код на шарпе. Потом компиляция и Сохранить.
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392130&amp;user=11966&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=3" class="addthx" data-post="392130"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=25117" title="03-03-2019 07:37, ранг:4.6" target="_blank">rukop84</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 марта 2019 22:58 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>r_e пишет:<br>dnSpy правой кнопкой по методу, редактировани и пишешь новый код на шарпе. Потом компиляция и Сохранить.  </I><br>dnSpy при попытке скомпилировать измененный код выдает много ошибок, сделал скрин: <noindex><a href="https://prnt.sc/msd107" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392133&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=4" class="addthx" data-post="392133"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.4 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 марта 2019 23:09 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
&quot;Учу читать. Дорого.&quot; (с) энторнет<br>Ну там же написано в чем проблема. Или все за тебя предлагаешь сделать?
<br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392135&amp;user=11966&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=5" class="addthx" data-post="392135"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2019 10:36 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>r_e пишет:<br>Ну там же написано в чем проблема </I><br>Ура-а-а-а!!! Получилось!!!<br><br>Первому способу замены кода в приложениях dotNet я научился:<br>№1. Замена кода с помощью dnSpy<br><br>Обучение на этом не закончилось, прошу писать еще способы
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392144&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=6" class="addthx" data-post="392144"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2019 08:48 <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>DenCoder пишет:<br>Ждём medsft по данному вопросу )  </I> улыбнуло<br><br><br><I>rukop84 пишет:<br>Задача заменить исходную функцию </I><br>Решение:<br>1) Можно целиком переписать приложение<br>2) При отсутствии обфускации, dictionary, структур - dnspy в руки<br>3) При невозможности обратной декомпиляции - инжект статик класса (только моим движком))) ногами не пинать с Инди не сравнивать)<br>4) При невозможности декомпиляции - если размер тела исходного метода позволяет байт патчинг его<br>но тут проблемы стринг придется подать нетрадиционным способом, иначе без перекомпиляции #US стрима никак... (хотя попробовать мне надо может там в конце место есть)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392190&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=7" class="addthx" data-post="392190"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=3520" title="04-03-2019 23:52, ранг:633.0" target="_blank">mak</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2019 09:42 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>Medsft</b> заинтересовал третий способ - инъекция кода с помощью dll. Если сумею разобраться в нем, то цель создания Тему буду считать достигнутой. Сразу уточнения по этому методу:<br><br>1. <I>с Инди не сравнивать </I><br>А что такое инди?<br><br>2. <I>инжект статик класса </I><br>Класс для инъекции должен быть паблик или без разницы?<br><br>3. <I>только моим движком </I><br>Кроме самого метода для инъекции нужно ли добавлять еще какой-либо код в класс или эту работу сделает уже сам ILSpector?<br><br>4. Библиотеки dll для инъекции, которые следует отдавать ILSpector&#039;у могут быть написаны на любом языке программирования (например, на Visual Basic 6)?<br><br>5. Правильно ли я понял структуру своих действий для реализации этого метода:<br>    5.1 создать dll для инъекции;<br>    5.2 в IlSpector привязать dll (сделать инъекцию)<br>    5.3 с помощью битпатчинга приложения вызвать функцию из привязанной dll
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392191&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=8" class="addthx" data-post="392191"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2019 10:05 &middot; Поправил: Medsft <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<I>rukop84 пишет:<br>А что такое инди? </I> - это главная загадка форума<br><I>rukop84 пишет:<br>Класс для инъекции должен быть паблик или без разницы? </I> public static<br><I>rukop84 пишет:<br>Правильно ли я  понял</I> неправильно, речь идет только о manadged только (пока так)<br>Делаешь простую dll c одним единстенным public static классом и ilspeсtorom инжектишь его (класс в сборку) -&gt; сохраняешь что получилось -&gt; а далее простым байт патчингом в нужный метод вставляешь его вызов остальное затираешь
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392192&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=9" class="addthx" data-post="392192"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2019 14:00 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
Мастер <b>Medsft</b>, что-то ILSpector не хочет инжектить dll, сделал скрин <noindex><a href="https://prnt.sc/msyuvd" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392195&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=10" class="addthx" data-post="392195"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Dr0p[/b]','')">Dr0p</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/33727.png" alt=""><br><span class=txtSm>Ранг: 72.3 (постоянный), 133thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 7.5'>Активность: 0.38<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=33727">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 05:25 <br><script type="text/javascript">QU('Dr0p','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Dr0p" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>rukop84</b><br><br>&gt; Хочу научиться производить замену кода в приложениях dotNet.<br><br>Это весьма сложный вопрос, пока ты его масштаб не понимаешь.<br><br>Что значит замена кода - всякий код вызывается по ссылке, это либо указатель, либо относительное ветвление, зашитое в код(граф). Поэтому что значит изменить код - перехватить какое то событие через указатель или изменить непосредственно сам код ?<br><br>А если это виртуальная машина, то кода как такового нет, один и тот же транслятор выполняет эмуляцию.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392246&amp;user=33727&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=11" class="addthx" data-post="392246"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 08:34 <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>rukop84 пишет:<br>что-то ILSpector не хочет инжектить dll </I> класс целиком инжекти, только не в другой класс, а рядом
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392254&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=12" class="addthx" data-post="392254"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 10:57 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<I>Medsft пишет:<br>класс целиком инжекти, только не в другой класс, а рядом </I><br>не, все равно ILSpector наотрез инжектить отказывается. Вот скрин <noindex><a href="https://prnt.sc/mtecsq" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br>Экспериментировал разными способами (не только как в скрине), результат один и тот же: либо &quot;Not support method to inject&quot;, либо &quot;Operation error&quot;<br><br>А в самой dll модификаторы доступа у меня правильно объявлены для того, чтобы корректно произошла инъекция этого класса?<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;static&nbsp;class&nbsp;clsInject</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;static&nbsp;string&nbsp;Read_From_txt<span class="hl_char">(</span><span class="hl_char">)</span></li>        </ol>
    </div>
</div></div>
<br><br>А в природе, кроме ILSpector&#039;а, существуют ли еще инструменты, позволяющие произвести инъекцию dll в сборку? В интернете довольно много инструментов это умеют делать в запущенный процесс, но не встретил ни одного, чтобы сделать это в сам exe-файл<br><br><b>Добавлено спустя 8 минут</b><br>Если надо, файлы для экспериментов с инъекцией выложил здесь <noindex><a href="https://www.sendspace.com/file/r1ask9" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br><b>Добавлено спустя 16 минут</b><br>Какими еще способами можно решить поставленную задачу по инъекции dll в сборку?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392260&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=13" class="addthx" data-post="392260"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 12:23 &middot; Поправил: Medsft <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
http://prntscr.com/mtfssl<br>Семен Семеныч))) тыж со стрингом хочешь заинжектить метод, а этого делать нельзя т.к. добавление стринга меняет стримы, обиграй стринг по другому
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392269&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=14" class="addthx" data-post="392269"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 12:53 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>Medsft</b>, прежде, чем обыгрывать string хочу уяснить для себя следующее:<br>dll класс с методом типа string вообще нельзя инжектить в сборку что ли?<br><br>Или нельзя только в данном случае, так как в сборке отсутствуют методы с типом string?<br><br>А если бы у меня функция Calc складывала бы цифры и возвращала бы тип string, тогда можно было бы инжектить данную dll?<br><br>Кстати, обыграть тип string в моем случае никак не удастся, так как в текстовом файле содержатся слова, а не цифры. И слова никак не смогут стать типом integer. Другое дело - это переписать функцию калькулятора, чтобы производилось сложение и результат конвертировался в тип string
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392274&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=15" class="addthx" data-post="392274"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 13:01 &middot; Поправил: Medsft <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>rukop84 пишет:<br>прежде, чем обыгрывать string </I> еще раз задашь вопрос из школьного курса, туда и пойдешь учиться.<br><br>int[] цифроваяжопа = new int[]{126,234,345, 256};<br>string жопа = string.empty;<br>for (int i = 0; i&lt; цифроваяжопа.Lenght; i++)<br>{<br>жопа +=new char(цифроваяжопа[i]);<br>}
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392275&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=16" class="addthx" data-post="392275"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=8830" title="05-03-2019 11:07, ранг:321.9" target="_blank">ajax</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2019 23:03 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
Мастер, в общем я запутался...<br><br>Привел Ваш код к более читабельному виду:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;NumArray&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;{126<span class="hl_char">,</span>&nbsp;<span class="hl_number">234</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">345</span><span class="hl_char">,</span>&nbsp;256}<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;text&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_quote">&quot;&quot;</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">; i &lt; NumArray.Length; i++)</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;<span class="hl_char">=</span>&nbsp;text&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;<span class="hl_function">char</span><span class="hl_char">(</span>NumArray<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li>        </ol>
    </div>
</div></div>
<br>последнюю строку кода text += new char(NumArray[i]) Visual Studio подчеркивает, говорит, что так нельзя  делать<br><br>следующее, что не сходится - это то, что вышеприведенный алгоритм решает задачу перевода типа integer в тип string, а перед нами стоит прямо противоположная задача. Надо превратить как-то текстовую строку &quot;Hello-World!&quot; в набор цифр целого типа<br><br>ну, допустим я как-то решу такую задачу с помощью дополнительного кода в dll:<br>1) создам массив переменных<br>2) каждой такой переменной присвою по символу от строки &quot;Hello-World!&quot;<br>3) затем каждый символ переведу в число целого типа<br>4) и на выходе получу набор цифр целого типа<br>!!!Но тогда вопрос: как этот набор цифр обратно я буду превращать в буквы уже в целевом приложении, если по плану у нас следует только пропатчить целевое приложение, а лишний код затереть?!
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392308&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=17" class="addthx" data-post="392308"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2019 09:11 <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<I>rukop84 пишет:<br>Visual Studio подчеркивает </I> это концепция была, А вот решение https://stackoverflow.com/questions/4648781/how-to-get-character-for-a-given-ascii-value<br><I>rukop84 пишет:<br>каждой такой переменной присвою по символу от строки &quot;Hello-World! </I> майкрософт за тебя уже давно таблицы сделал<br><I>rukop84 пишет:<br>Но тогда вопрос </I> да сделай все в своем классе а в исходном методе вызов его
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392327&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=18" class="addthx" data-post="392327"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2019 10:29 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<I>Medsft пишет:<br>да сделай все в своем классе а в исходном методе вызов его </I><br>дак, а если мой класс будет сначала превращать string в integer, а затем integer в string, то на выходе функции все равно получится string и тогда получается, что задача &quot;обыграть string&quot; не выполнена. Правильно я понимаю?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392332&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=19" class="addthx" data-post="392332"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2019 10:44 <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<b>rukop84</b> ты вообще вьезжаешь в разницу сборка на как файл, и сборка как процесс в памяти, инжект не позволяет добавлять новые стринги в сборку которая сохраняется потом на диск, в пямяти мути потом че хошь
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392333&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=20" class="addthx" data-post="392333"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2019 12:26 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<I>Medsft пишет:<br>ты вообще вьезжаешь </I><br>не, не въезжаю, но пытаюсь осмыслить глубокую мысль Мастера:<br><br>то есть, получается, что задача сводится к тому, чтобы ни один метод в классе dll не имел тип string. И в то же время нужно сделать так, чтобы он этот тип возвращал во время выполнения программы<br><br>Получается, что в своем классе я должен объявить функцию с типом int и при этом функция должна вернуть тип string. Но как такое реализовать!!! Функцию с типом int и возвращаемым типом string даже скомпилировать не удастся
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392335&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=21" class="addthx" data-post="392335"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]sefkrd[/b]','')">sefkrd</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/39556.png" alt=""><br><span class=txtSm>Ранг: 77.2 (постоянный), 74thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.88'>Активность: 0.19<span style='color:red'>&searr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=39556">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2019 22:23 <br><script type="text/javascript">QU('sefkrd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=sefkrd" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<b>rukop84</b><br>Пойми - ты можешь в своей функе сделать все, вне зависимости что она получает..<br>Т.Е. передав функе int - ты на return можешь забрать string..<br><br><b>Добавлено спустя 2 минуты</b><br><I>rukop84 пишет:<br>Функцию с типом int и возвращаемым типом string даже скомпилировать не удастся </I><br>Учи МатЧасть..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392356&amp;user=39556&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=22" class="addthx" data-post="392356"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=332" title="07-03-2019 07:12, ранг:294.4" target="_blank">Medsft</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2019 09:25 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<b>sefkrd</b>, тогда подскажите пожалуйста как скомпилировать такой код:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;<span class="hl_function"><b>void</b></span>&nbsp;btnTest_Click<span class="hl_char">(</span>object&nbsp;sender<span class="hl_char">,</span>&nbsp;RoutedEventArgs&nbsp;e<span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;sResult&nbsp;<span class="hl_char">=</span>&nbsp;GetSum<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MessageBox<span class="hl_char">.</span>Show<span class="hl_char">(</span>sResult<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;GetSum<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;x&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">3</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;y&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">6</span><span class="hl_comment">;            </span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;z&nbsp;<span class="hl_char">=</span>&nbsp;x&nbsp;<span class="hl_char">+</span>&nbsp;y<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;text&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_quote">&quot;Hello-World!&quot;</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392388&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=23" class="addthx" data-post="392388"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2019 10:16 <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
<b>rukop84</b> я тебе пару ответов выше уже написал как обойти string<br><br><b>Добавлено спустя 1 минуту</b><br>private int GetSum()  <br>        {<br>            int x = 3;<br>            int y = 6;<br>            int z = x + y;<br> <br>            string text = &quot;Hello-World!&quot;;<br>            return text;<br>        } <br>это вообще хуйня полная
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392391&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=24" class="addthx" data-post="392391"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]r_e[/b]','')">r_e</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 590.4 (<b>!</b>), 408thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.08'>Активность: 0.36<span style='color:red'>&searr;</span>0.18</span><br>Статус: <a href="action=userinfo&amp;user=11966">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2019 11:30 <br><script type="text/javascript">QU('r_e','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=r_e" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
Да он просто не догоняет что строки как константы нельзя пихать в метод, но при этом можно чтобы функция оперировала строками.<br>Можно сделать<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">private&nbsp;string&nbsp;getHello<span class="hl_char">(</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;helloAsInts&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;{&nbsp;<span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span>&nbsp;}<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;string&nbsp;result&nbsp;<span class="hl_char">=</span>&nbsp;string<span class="hl_char">.</span>Empty<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">)</span>&nbsp;{&nbsp;result&nbsp;<span class="hl_char">+</span><span class="hl_char">=</span>&nbsp;<span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_comment">; }</span></li><li class="hl_l0">&nbsp;&nbsp;return&nbsp;result<span class="hl_comment">;</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>старый пень</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=392396&amp;user=11966&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=25" class="addthx" data-post="392396"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=25117" title="07-03-2019 09:02, ранг:5.8" target="_blank">rukop84</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]sefkrd[/b]','')">sefkrd</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/39556.png" alt=""><br><span class=txtSm>Ранг: 77.2 (постоянный), 74thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.88'>Активность: 0.19<span style='color:red'>&searr;</span>0.15</span><br>Статус: <a href="action=userinfo&amp;user=39556">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2019 11:53 <br><script type="text/javascript">QU('sefkrd','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=sefkrd" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<I>rukop84 пишет:<br>как скомпилировать такой код: </I><br>Он не скомпелируется..<br>private int GetSum() заменить на private string GetSum()<br>Тогда соберешь..
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392397&amp;user=39556&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=26" class="addthx" data-post="392397"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2019 11:55 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
<I>r_e пишет:<br>Да он просто не догоняет что строки как константы нельзя пихать в метод, но при этом можно чтобы функция оперировала строками </I><br>дак, вот она где истина<br><br><b>Добавлено спустя 5 минут</b><br><I>sefkrd пишет:<br>Он не скомпелируется..<br>private int GetSum() заменить на private string GetSum()<br>Тогда соберешь..  </I><br>это все понятно, просто <b>Medsft</b> дал задание избавиться от стрингов и я понял это так, что нельзя инжектить функции с типом string, но при этом каким-то загадочным образом этот тип должен был вернуться<br><br><b>Добавлено спустя 10 часов 1 минуту</b><br>Ну, теперь я точно знаю, что такое &quot;стринги&quot; на сленге мастеров крэкинга.<img src="img/smilies/s1.gif" alt=""><br>Это не какие-то там пляжные трусики и даже не функция с типом string, а всего лишь несколько строковых значений в моем коде, которые надо было обыграть с помощью Ascii кода<br><br>Подправил немного код своей dll:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">using&nbsp;System<span class="hl_comment">;</span></li><li class="hl_l1">using&nbsp;System<span class="hl_char">.</span>Collections<span class="hl_char">.</span>Generic<span class="hl_comment">;</span></li><li class="hl_l0">using&nbsp;System<span class="hl_char">.</span>Linq<span class="hl_comment">;</span></li><li class="hl_l1">using&nbsp;System<span class="hl_char">.</span>Text<span class="hl_comment">;</span></li><li class="hl_l0">using&nbsp;System<span class="hl_char">.</span>IO<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">namespace&nbsp;FileRead</li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;static&nbsp;class&nbsp;clsInject</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>public</b></span>&nbsp;static&nbsp;string&nbsp;Read_From_txt<span class="hl_char">(</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;Nums1&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;{&nbsp;<span class="hl_number">82</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">101</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">115</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">117</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">108</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">116</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">46</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">116</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">120</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">116</span>&nbsp;}<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;Nums2&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;<span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;{&nbsp;<span class="hl_number">119</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">105</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">110</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">100</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">111</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">119</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">115</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">45</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">49</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">50</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">53</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">49</span>&nbsp;}<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;text1&nbsp;<span class="hl_char">=</span>&nbsp;IntsToText<span class="hl_char">(</span>Nums1<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;text2&nbsp;<span class="hl_char">=</span>&nbsp;IntsToText<span class="hl_char">(</span>Nums2<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;path&nbsp;<span class="hl_char">=</span>&nbsp;System<span class="hl_char">.</span>IO<span class="hl_char">.</span>Path<span class="hl_char">.</span>Combine<span class="hl_char">(</span>AppDomain<span class="hl_char">.</span>CurrentDomain<span class="hl_char">.</span>BaseDirectory<span class="hl_char">,</span>&nbsp;text1<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;text<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">try</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileStream&nbsp;file1&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;FileStream<span class="hl_char">(</span>path<span class="hl_char">,</span>&nbsp;FileMode<span class="hl_char">.</span>Open<span class="hl_char">)</span><span class="hl_comment">;   //создаем файловый поток</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StreamReader&nbsp;reader&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>new</b></span>&nbsp;StreamReader<span class="hl_char">(</span>file1<span class="hl_char">,</span>&nbsp;Encoding<span class="hl_char">.</span>GetEncoding<span class="hl_char">(</span>text2<span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;  //создаем &quot;потоковый читатель&quot; и связываем его с файловым потоком</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;<span class="hl_char">=</span>&nbsp;reader<span class="hl_char">.</span>ReadLine<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;   //считываем одну строку</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reader<span class="hl_char">.</span>Close<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">; //закрываем поток</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">catch</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;<span class="hl_char">=</span>&nbsp;string<span class="hl_char">.</span>Empty<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;string&nbsp;IntsToText<span class="hl_char">(</span><span class="hl_function">int</span><span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;Arr<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;text&nbsp;<span class="hl_char">=</span>&nbsp;string<span class="hl_char">.</span>Empty<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">; i &lt; Arr.Length; i++)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;<span class="hl_char">+</span><span class="hl_char">=</span>&nbsp;<span class="hl_function">char</span><span class="hl_char">.</span>ConvertFromUtf32<span class="hl_char">(</span>Arr<span class="hl_char">[</span>i<span class="hl_char">]</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div>
<br><br>Уже завтра буду продолжать эксперименты
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392398&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=27" class="addthx" data-post="392398"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 марта 2019 11:02 &middot; Поправил: rukop84 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
В общем обыграл строковые значения (стринги), но dll все равно инжектиться не хочет (выдает ошибку). Прикрепил скрин <noindex><a href="https://prnt.sc/muyozg" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br>Обновленную dll и сопутствующие файлы для экспериментов залил сюда: <noindex><a href="https://www.sendspace.com/file/jvhcfw" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br>Жду Ваших советов и рекомендаций
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392437&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=28" class="addthx" data-post="392437"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]Medsft[/b]','')">Medsft</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 330.4 (мудрец), 334thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.83'>Активность: 0.16<span style='color:green'>&nearr;</span>0.17</span><br>Статус: <a href="action=userinfo&amp;user=332">Участник</a><br><font color=blue>ILSpector Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2019 14:05 <br><script type="text/javascript">QU('Medsft','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Medsft" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
<I>rukop84 пишет:<br>все равно инжектиться не хочет </I> залей куда нибудь оба файла, посмотрю
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392526&amp;user=332&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=29" class="addthx" data-post="392526"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]rukop84[/b]','')">rukop84</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 16.6 (новичок), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.22'>Активность: 0.03<span style='color:green'>&nearr;</span>0.16</span><br>Статус: <a href="action=userinfo&amp;user=25117">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 11 марта 2019 14:52 <br><script type="text/javascript">QU('rukop84','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=rukop84" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=25629&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
Мастер, все залито (смотрите в предыдущем сообщении)<br><br><b>Добавлено спустя 2 минуты</b><br>на всякий случай продублирую еще раз ссылку: <noindex><a href="https://www.sendspace.com/file/jvhcfw" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=392528&amp;user=25117&amp;forum_n=5&amp;topic=25629&amp;page=0&amp;anchor=30" class="addthx" data-post="392528"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=5&amp;topic=25629&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=5&amp;topic=25629&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Простые способы замены кода в dotNet</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=25629" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
