<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>CRACKER. Реализация для WIN32. GUI. - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="============================== CRACKER. Реализация для WIN32 GUI ============================== Наверное, нет нужды рассказывать, что такое крякеры. Вкратце, это двоичные патчеры, работающие в ручном режиме и берущие информацию о">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=33192'>morgot</a>, <a target='_blank' href='?action=userinfo&amp;user=54646'>sashalogout</a>, <a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/default.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=3&sortBy=0&page=0.html"><b>Софт, инструменты</b></a> <b class=bulletHead>&#8212;&#8250;</b> CRACKER. Реализация для WIN32. GUI.</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=2.html">3</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 ноября 2015 03:27 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
==============================<br><b>CRACKER. Реализация для WIN32 GUI</b><br>==============================<br><br>Наверное, нет нужды рассказывать, что такое <b>крякеры</b>.<br>Вкратце, это <b>двоичные патчеры</b>, работающие в ручном режиме и берущие информацию о патчах в текстовых <b>файлах .CRK</b> (в простейшем случае CRK, позже появились всевозможные &quot;расширения&quot;, зачастую неоправданные). Эти файлы - и есть <b>кряки</b>.<br><br>Самая старая и заслуженная из этого класса программ датируется ещё 1991 годом, от Corner Crackers   (<b>CRACKER.EXE v.1.1</b>). <br>Позже, в 90-х, появилось ещё несколько аналогичных программ, из которых самая, пожалуй, удачная реализация выполнена Professor&#039;ом Nimnull&#039;ом в 1996 году и назывется она <b>Cracker Advanced (CRA.EXE v.0.2.16 и CRA386.EXE v.0.2.14 с PMODE/W)</b> (CRA386 v.2.16 под WinXP глючит).<br><br>Вот полный их список, все для DOS (по ссылкам архивы с этими программами):<br>------------------------------------------------------------------------------------------------------<br>1) <noindex><a href="http://old-dos.ru/dl.php?id=11310" rel="nofollow" target="_blank"> <b>CRACKER.EXE v.1.1</b> </a></noindex> (by Corner Crackers, 1991)<br>2) <noindex><a href="http://old-dos.ru/dl.php?id=7310" rel="nofollow" target="_blank"><b>Program Cracker</b></a></noindex> (by Dr.Stein&#039;s labs, 1993)<br>3) <noindex><a href="http://old-dos.ru/dl.php?id=12625" rel="nofollow" target="_blank"><b>CRA v.0.2.16</b></a></noindex>,<noindex><a href="http://old-dos.ru/dl.php?id=12624" rel="nofollow" target="_blank"> <b><u>CRA386.EXE v.0.2.14</u></b> </a></noindex> (by Nimnull, 1996)<br>4) <noindex><a href="http://old-dos.ru/dl.php?id=12626" rel="nofollow" target="_blank"><b>CRK</b></a></noindex> (by Bolshun/Ivanov, 1996)<br>5) <noindex><a href="http://old-dos.ru/dl.php?id=6499" rel="nofollow" target="_blank"><b>CRACK-STUDIO</b></a></noindex> (by Turansoft, 1997)<br>------------------------------------------------------------------------------------- <br><br>Так что тема в 90-х была достаточно разработанная.<br><br>До какого-то момента этих программ было вполне достаточно, но время вносит свои коррективы, и все имеющиеся реализации подобного софта (их можно насчитать пять штук, все для DOS) перестали отвечать запросам. Как такое можно терпеть? - Никак. Это невыносимо.<br><br>Недостатки этих реализаций прошлого века вытекают из их DOS-овости. (Здесь CRA386, пожалуй, выглядит более достойно, но от остальных он принципиально ушёл недалеко).<br><br>Недостатки такие: <br>- ограничения оперативной памяти (кроме CRA386);<br>- невозможность работы с длинными именами файлов (LFN) в WIN32;<br>- невозможность работы в 64-битных ОС.<br><br><b>А между тем, формат CRK вполне себя оправдывает и поныне для хранения информации о внесённых в двоичные файлы изменениях и исправлениях.  Поэтому от самой идеи программ-крякеров отказываться вряд ли придётся. </b><br><br><br>Ну, и к собственно сабжу.<br><br>======================================<br><noindex><a href="http://old-dos.ru/dl.php?id=17543" rel="nofollow" target="_blank">--&gt; <b><u>Вот версия 0.002b CRACKER&#039;а для WIN32.</u></b> &lt;--</a></noindex>  (6 May 2018 г.) - Size: ~25 Kb, UPX&#039;ed. MSVC.<br>====================================== <br><br><img src="http://old-dos.ru/screens/5/c/6/32954a2d9e967aac1da74a45339c5.png" border="0" align="" alt=""><br><br>Интерфейс воспроизводит наиболее удачные образцы таких программ прошлого века - минимум лишнего.<br>(В листбоксе виден фрагмент каталога файлов популярной <noindex><a href="http://old-dos.ru/dl.php?id=12670" rel="nofollow" target="_blank"> <b><u>библиотеки кряков</u></b> </a></noindex> от Corner Crackers, 1991).<br><br>Крякер занимается только разбором текста кряков, который составлен руками в желаемом виде,<br>но с соблюдением некоторых &quot;соглашений&quot; вроде синтаксиса комментариев.<br>Сами кряки (файлы .CRK) составляются ручками, можно с использованием какого-либо другого инструмента. <br><br><br><br><br>==============================================<br><b>Краткое описание возможностей этой программы:</b><br>==============================================<br><br>- Работает с форматами CRK,CRA,XCK  (дань традициям).<br><br>- Поддерживаются комментарии в стиле Cracker Advanced (&#039;#&#039; в начале строки),<br>однако его опции #SIZE, #CHCKSUM, #RUN и т.д. игнорируются за явной ненадобностью.<br><br>- Поддерживается корректное использование кириллицы в кодировках DOS/WIN (можно выбрать),<br>(Кстати, все опции программы видны, если отволочь правую границу диалогового окна вправо).<br><br>Вот они, опции программы:<br><br><img src="http://old-dos.ru/screens/e/9/1/a489f343789a3ca71119f4a6d1296.png" border="0" align="" alt=""><br><br><br>- LFN для кряков и имён исправляемых файлов (как и положено в WIN32).<br><br>- Смещения для патчения в файле CRK могут задаваться либо традиционно, в виде абсолютных величин, <b>либо в виде VirtualAddress (VA)</b>, как для WIN32 PE-файлов. Тогда перед адресом нужно указывать точку, например, вот так:<br><b>.00401005 72 EB</b><br>(Это вообще возможность, отсутствующая в программах-аналогах для DOS&#039;а. Расширение синтаксиса CRK).<br><br>В версии 0.002a добавилась возможность для WIN32-PE файлов адреса указывать <b>также и </b> в формате <b>Relative Virtual Address (RVA) </b>,<br>тогда перед адресом нужно задать две точки, как в выводе утилиты CMP32.EXE v.0.002a, например, так:<br><b>..0001005 72 EB</b><br><br><br><b>- и кстати - тут сразу возникает <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=13687&amp;page=11#10" rel="nofollow" target="_blank"><u>предложение</u></a></noindex> к <u>crc1</u> по добавлению в его <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=13687" rel="nofollow" target="_blank"><u>CmpDisasm</u></a></noindex> возможностей, касающихся сохранения различий в сравниваемых файлах в формате CRK, но с виртуальными адресами смещений патчения.</b><br>(<b>--Добавлено--</b>: Наподобие того, как это делает представленная в следующем посте утилита <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834#2" rel="nofollow" target="_blank"><u><b>CMP32.EXE</b></u></a></noindex> с опцией &quot;/v&quot; или &quot;/a&quot;).<br><br>- Имеются расширения синтаксиса CRK - &quot;CHECK&quot; и &quot;FORCE&quot;. Например:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">00001234</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;;&quot;CHECK&quot;  - проверка байта. Удобно применять для контроля нужной версии исправляемого файла.</span></li><li class="hl_l1"><span class="hl_number">00001235</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">23</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;;&quot;FORCE&quot;  - безусловная замена байта (Но. После этого распатчивание уже будет невозможно)</span></li>        </ol>
    </div>
</div></div>
<br>- Имеется опция &quot;Patch All&quot;, когда все кряки, описанные в выбранном CRK-файле, применяются одновременно.<br><br>- Вызов редакторов DOS/WIN для редактирования текста кряков, не выходя из программы (пути к редакторам настраиваются).<br>(Для DOS-овского редактора можно применять LFN или SFN, на выбор.)<br>По умолчанию это &quot;edit&quot;(+SFN) и &quot;notepad&quot;.<br><br>- Корректная работа как в WinXP, так и в Win9x. (Без этого никак. Win9x никуда не делась).<br><br>- Два размера диалогового окна - компактный (size 1) для режима 640x480 и более просторный (size 2) для высокого разрешения экрана.<br><br>- Программа эргономична. Например, фокус ввода c любого из контролов переводится на главный список кряков нажатием клавиши &lt;Esc&gt;.<br>Все опции помимо стандартных контролов продублированы ещё и горячими клавишами, так что можно (и даже удобнее) работать без использования мыша.<br><br>Справку по &quot;горячим&quot; клавишам можно подглядеть по нажатии кнопки F1: <br><br><img src="http://old-dos.ru/screens/8/b/7/c763db6e9e7f6b24e4e14400e783e.png" border="0" align="" alt=""><br><br>- Тут можно ещё что-нибудь написать,  довольно  обильно, - но лучше привести примеры текста CRK, с которым может работать эта программа.<br>Например, так:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;допускаются пустые строки</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">Исрправление&nbsp;ошибок&nbsp;в&nbsp;программе&nbsp;Прога<span class="hl_char">.</span>EXE&nbsp;v<span class="hl_char">.</span><span class="hl_number">1</span><span class="hl_char">.</span><span class="hl_number">2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;можно комментировать, используя ';'</span></li><li class="hl_l1">#SIZE&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">3333</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;эти строки игнорируются,</span></li><li class="hl_l0">#CHKSUM&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">32233223</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;совместимость с CRA286.EXE (даже вернее с C2U.EXE, но это уже другая тема)</span></li><li class="hl_l1">#RUN&nbsp;<span class="hl_char">=</span>&nbsp;UPX&nbsp;<span class="hl_char">-</span>d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; тоже</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="hl_l1"><span class="hl_number">1</span><span class="hl_char">)</span>&nbsp;Убрать&nbsp;наглое&nbsp;окно</li><li class="hl_l0"><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_comment">; тут можно добавить ещё какое-нибудь описание исправления</span></li><li class="hl_l0"><span class="hl_comment">; (Но символ ';' должен быть в первой позиции.)</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0">Прога<span class="hl_char">.</span>EXE&nbsp;&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_comment">; тоже можно добавить строки комментариев. Но символ ';' должен быть в первой позиции.</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">000000222</span><span class="hl_char">:</span>&nbsp;&nbsp;cc&nbsp;<span class="hl_number">90</span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_comment">;</span></li><li class="hl_l1">Drv<span class="hl_char">\</span>Прога<span class="hl_char">.</span>DLL</li><li class="hl_l0"><span class="hl_comment">; снова можно добавить строки комментариев. Но символ ';' должен быть в первой позиции.</span></li><li class="hl_l1"><span class="hl_char">.</span>00403С40<span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_number">2</span><span class="hl_char">)</span>&nbsp;Ограничения&nbsp;времени&nbsp;работы</li><li class="hl_l0">Прога<span class="hl_char">.</span>EXE&nbsp;&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">00402222</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li><li class="hl_l0"><span class="hl_number">000000333</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">80</span>&nbsp;<span class="hl_number">00</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Абсолютное смещение в файле</span></li><li class="hl_l1">Drv<span class="hl_char">\</span>Прога<span class="hl_char">.</span>DLL&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l0"><span class="hl_char">.</span>00403С55<span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">73</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li>        </ol>
    </div>
</div></div>
- Ну и так далее.  <br>По мере разбора текста, если встречаются ошибки, то выдаётся номер соответствующей строки. Где вышел затык.<br><br>В <b>крякере</b> при чтении этого всего увидим такую картинку (кстати, выбран размер окна &quot;<b>Size 2</b>&quot;):<br><br><img src="http://old-dos.ru/screens/7/1/3/67aec4248e4e01dd6f19a28e0363c.png" border="0" align="" alt=""><br><br><br><br><br>Сколько кряков может присутствовать в одном файле? - не знаю.  И никто не знает.<br>Но много, и разного размера. Память под них выделяется динамически. Надо пробовать.<br>В случае чего программа скажет &quot;memory allocation error..&quot; и позорно завершится.<br><br>Однако, со всеми старыми, существующими ранее, файлами *.CRK, *.CRA, *.XCK программа должна работать без проблем.<br><br>) Ругань можно оставлять здесь в теме, лишь бы по делу - багрепорты приветствуются.<br><br><br><b>*** См.также: ***</b><br><br>Ссылка на пост #02 этой темы, об утилите <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#2" rel="nofollow" target="_blank">--&gt; CMP32 &lt;--</a></noindex> (для использования её совместно с CRACKER&#039;ом).<br><br>Ссылка на пост #27 этой темы, о HEM-модуле <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=1#27" rel="nofollow" target="_blank">--&gt; CRACK.HEM &lt;--</a></noindex> (для использования его совместно с CRACKER&#039;ом).<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=359910&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=1" class="addthx" data-post="359910"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=30254" title="11-11-2015 12:01, ранг:11.6" target="_blank">elch</a>, <a href="action=userinfo&user=39578" title="18-11-2015 03:24, ранг:2.6" target="_blank">ProstoAndreyX</a>, <a href="action=userinfo&user=39910" title="01-12-2015 00:03, ранг:0.3" target="_blank">wzhick</a>, <a href="action=userinfo&user=31325" title="01-12-2015 02:35, ранг:5.1" target="_blank">zNob</a>, <a href="action=userinfo&user=5173" title="16-02-2016 05:49, ранг:318.5" target="_blank">vnekrilov</a>, <a href="action=userinfo&user=6015" title="17-02-2016 02:17, ранг:28.1" target="_blank">GMAP</a>, <a href="action=userinfo&user=3756" title="03-12-2017 10:12, ранг:57.0" target="_blank">==DJ==[ZLO]</a></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 ноября 2015 01:38 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
А вот поспела маленькая безобразная утилита командной строки, воспроизводящая действие команды DOS &quot;FC /B&quot;.<br>Только эта утилитка WIN32, и умеет выводить различия также и с адресами в виде <b>VirtualAddresses (VA) для WIN32-PE файло</b>в.<br>(В версии 0.002a - также и с  <b>Relative Virtual Addresses (RVA) </b>для WIN32-PE файлов)<br><br>Это приблуда для использования с <b>CRACKER</b>&#039;ом.  (См. стартпост).<br><br>=============================<br><noindex><a href="http://old-dos.ru/dl.php?id=18017" rel="nofollow" target="_blank">--&gt;<b><u>Вот CMP32.EXE  (версия 0.002b)</u></b>&lt;--</a></noindex> (3 Jun  2018 г.) - Size: ~5 Kb, UPX&#039;ed. MASM.<br>=============================<br><br><img src="http://old-dos.ru/screens/9/8/f/eb3e4dd98fb68cd92acac83c7fdda.png" border="0" align="" alt=""><br><br><b><br>==================<br>Примеры использования<br>==================<br></b><br>Пример запуска &quot;<b>CMP32</b> 1.exe 2.exe&quot; (<i class=x>почти</i> полная аналогия с досовской командой &quot;<b>FC /b</b> 1.exe 2.exe&quot;)
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1.exe&quot;</span>&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_quote">&quot;2.exe&quot;</span></li><li class="hl_l1"><span class="hl_number">1</span><span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_number">00000998</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">74</span>&nbsp;EB</li><li class="hl_l1"><span class="hl_number">000009A3</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">74</span>&nbsp;EB</li>        </ol>
    </div>
</div></div>
<br>Пример запуска &quot;<b>CMP32 /a</b> 1.exe 2.exe&quot;
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1.exe&quot;</span>&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_quote">&quot;2.exe&quot;</span></li><li class="hl_l1"><span class="hl_number">1</span><span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">00401398</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">74</span>&nbsp;EB&nbsp;<span class="hl_comment">;00000998:</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">004013A3</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">74</span>&nbsp;EB&nbsp;<span class="hl_comment">;000009A3:</span></li>        </ol>
    </div>
</div></div>
<br>Пример запуска &quot;<b>CMP32 /ar /b</b> 1.exe 2.exe&quot;  - выводятся адреса <b>RVA+ModuleBase</b>:
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;1.exe&quot;</span>&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_quote">&quot;2.exe&quot;</span></li><li class="hl_l1"><span class="hl_number">1</span><span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_comment">;.00400000:</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_number">00001398</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">74</span>&nbsp;EB&nbsp;<span class="hl_comment">;00000998:</span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_number">000013A3</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">74</span>&nbsp;EB&nbsp;<span class="hl_comment">;000009A3:</span></li>        </ol>
    </div>
</div></div>
<br><br>С файлами CRK в формате вывода из вышеприведённых примеров может работать <b>CRACKER.EXE (WIN32 GUI)</b> v.0.002a.<br><br><br><br><br>В версии <b>0.002b</b> добавлена опция &quot;<b>/rpp</b>&quot;  - вывод различий в формате скрипта для <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=24805" rel="nofollow" target="_blank">--&gt; <b>R!SC&#039;s Process Patcher</b>&#039;а  &lt;--</a></noindex> (только для WIN32-PE файлов).<br><br>Пример запуска: <b>сmp32 /a /rpp Original.exe New.exe</b><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;Original.exe&quot;</span>&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_quote">&quot;New.exe&quot;</span></li><li class="hl_l1">Original<span class="hl_char">.</span>exe</li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">0040127F</span><span class="hl_char">/</span>FC<span class="hl_char">/</span><span class="hl_number">90</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;0000067F:</span></li><li class="hl_l1"><span class="hl_number">00000DF0</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">11</span><span class="hl_char">:</span></li><li class="hl_l0"><span class="hl_number">00000DF1</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">22</span><span class="hl_char">:</span></li><li class="hl_l1">p<span class="hl_char">=</span><span class="hl_number">00405DE0</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE0:</span></li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">00405DE1</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE1:</span></li><li class="hl_l1">p<span class="hl_char">=</span><span class="hl_number">00405DE2</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE2:</span></li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">00405DE3</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE3:</span></li><li class="hl_l1">p<span class="hl_char">=</span><span class="hl_number">00405DE4</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE4:</span></li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">00405DE5</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE5:</span></li><li class="hl_l1"><span class="hl_number">00004A03</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">44</span><span class="hl_char">:</span></li><li class="hl_l0"><span class="hl_number">00004A04</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">44</span><span class="hl_char">:</span></li>        </ol>
    </div>
</div></div>
- Удобство в том, что заодно адреса патчения проверяются на саму возможность использования <b>RPP.EXE</b>.<br>(Или любого другого рантайм патчера памяти).<br>Те строки, которые начинаются с &quot;<b>p=</b>&quot;, можно довольно смело использовать в скрипте <b>RPP</b>.<br>Все остальные для рантайм-патчера памяти не годятся.<br><br><b>--Добавлено-- </b><br><br>.. И ещё. Если заданы опции сравнения <b>/a, /ar, /v, /rpp</b>  (с виртуальными адресами),<br>но патч приходится на &quot;хвост&quot; секции, то выводятся не виртуальные, <br>а абсолютные адреса от начала файла.<br>Это сделано специально, чтобы на этапе патчения уже было ясно, что патч кривоватый<br>и работать будет не всегда.<br><br><br><br><b>27 Jan 2018: </b><br>- добавлен возврат DOS ERRORLEVEL для возможности вызова из пакетных файлов.<br>На основании результата сравнения (файл[ы]найдены/не найдены, одинаковы/различны) <br>можно организовывть ветвления в пакетных файлах (.BAT, .CMD).<br><br>Для чего такое может понадобиться - см. например <br>тут:  <br><noindex><a href="http://forum.oszone.net/thread-144365.html" rel="nofollow" target="_blank"><b>-----&gt; CMD/BAT - [решено] Сравнение двух файлов&gt;ветвление &quot;fc&quot; или &quot;diff&quot; &lt;--</b></a></noindex><br>и тут: <br><noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23332#17" rel="nofollow" target="_blank"><b>-----&gt; eXeL@B —› Софт, инструменты —› Inno Setup XDELTA Patch Maker &lt;--</b></a></noindex><br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360057&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=2" class="addthx" data-post="360057"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=31325" title="15-12-2015 14:51, ранг:5.1" target="_blank">zNob</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]TryAga1n[/b]','')">TryAga1n</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 262.5 (наставник), 337thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.45'>Активность: 0.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=31275">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 ноября 2015 05:34 <br><script type="text/javascript">QU('TryAga1n','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=TryAga1n" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Я конечно понимаю, что в чужой моастырь с чужими тапками не ходят и сразу извиняюсь, но тебе не кажется, что ты опоздал с этой софтиной, лет так на %N%-дцать? <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360059&amp;user=31275&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=3" class="addthx" data-post="360059"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]Gideon Vi[/b]','')">Gideon Vi</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/2585.jpg" alt=""><br><span class=txtSm>Ранг: 1131.7 <b><u>(!!!!)</u></b>, 447thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.83'>Активность: 0.67<span style='color:red'>&searr;</span>0.2</span><br>Статус: <a href="action=userinfo&amp;user=2585">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 ноября 2015 06:16 <br><script type="text/javascript">QU('Gideon Vi','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Gideon Vi" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Это ж для души.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360060&amp;user=2585&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=4" class="addthx" data-post="360060"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=35473" title="17-11-2015 07:19, ранг:134.4" target="_blank">dosprog</a>, <a href="action=userinfo&user=1931" title="02-12-2015 21:41, ранг:672.9" target="_blank">4kusNick</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 ноября 2015 10:36 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<I>Gideon Vi пишет:<br>Это ж для души.  </I><br><br>Да уж, енто не для денег <b>(с)</b><br><br><I>TryAga1n пишет:<br>Я конечно понимаю, что в чужой моастырь с чужими тапками не ходят и сразу извиняюсь, но тебе не кажется, что ты опоздал с этой софтиной, лет так на %N%-дцать? </I><br><br>)) Да ничо. Обсуждаемо.<br><br>В принципе, именно так мне и кажется.  Такую вещь надо было забацать те самые лет ~надцать назад. <br>Просто всё руки не доходили. И обходился старыми существующими DOS-версиями.<br><br>Что же касается самой идеи программ-крякеров, то имхо я выше написал - формат CRK удобен для протоколирования, хранения и использования информации о внесённых в файлы изменениях.<br>Впрочем, дело привычки, да.<br><br><br><b>Приведу пример. Чтоб далеко не ходить - </b><br><br><noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=23827" rel="nofollow" target="_blank">--&gt; <b>Вот тут</b> &lt;--</a></noindex>  обсуждалась программа  regsnap v.3.30.793 (тоже старьё. 2003 год), там, правда, тема касалась распаковки asprotect 1.0,<br>и всёже после распаковки её надо малость поправить.<br><br>Вот и оказалось удобным патчи (для себя) оформить в виде CRK - и в архив.<br><img src="img/attach.gif" alt=""> <a href="./files/3a1b_17.11.2015_EXELAB.rU.tgz">3a1b_17.11.2015_EXELAB.rU.tgz</a> - rsn33790.rar<br><br>В архиве два варианта кряка - в виде абсолютных адресов и в виде виртуальных.<br>У второго варианта явное преимущество - поскольку такой кряк не будет зависеть от способа распаковки,<br>когда MZ-заголовок будет разным при различных условиях распаковки. <br>Зато VirtualAddresses будут (должны быть, во всяком случае) неизменными при любых вариантах. Удобно использовать утиль CMP32.EXE с ключом &quot;/v&quot;.<br>(Если для создания кряка использовать утилиту CMP32.EXE с опцией &quot;/a&quot;, то различия будут в виде VA c добавлением абсолютного адреса в виде комментария. Удобная опция).<br><br><b>Кстати, именно эта возможность использовать VirtualAddresses и побудила наконец-то взяться за эту софтину. </b><br><br>Оглядываясь в историю, первые подобные программы появились как способ распространения кряков в открытом формате, что видно на примере библиотеки кряков от CornerCrackers,1991. <br>Но потом всилу разных причин  такой способ не прижился и стали использоваться в основном патчи в закрытом виде, со всякими свистелками и т.п. После такого патча  всё равно приходилось сравнивать файлы до~ и после~ и сохранять различия в виде CRK.<br><br>В общем, на сегодняшний день эту прогу можно отнести к разряду мелких тулз для внутреннего использования, не больше. Но кто привык, тех должно устроить, имхо.  А так программка уже в ходу,  доволен.<br>Улучшать там сейчас, вроде, нечего, поэтому программка так и &quot;засохнет&quot; на версии 0.001a. <br>Ну, может, баги какие вылезут по ходу дела. Бывает.<br><br><br><b>-- Добавлено --</b><br>)) Всякие мелкие уточнения за баги не считаются и на номер версии не влияют.<br>Обновлённые варианты обеих программок перезаливаю с сохранением старых ссылок<br>и указанием даты обновления.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360061&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=5" class="addthx" data-post="360061"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]wzhick[/b]','')">wzhick</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.3 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 4.61'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=39910">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 декабря 2015 02:48 &middot; Поправил: wzhick <br><script type="text/javascript">QU('wzhick','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=wzhick" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Как раз сегодня искал
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360319&amp;user=39910&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=6" class="addthx" data-post="360319"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 декабря 2015 00:27 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
Нашлось-таки, что поправить - <br><b>крякер</b> не находил исправляемый файл, если его имя состояло из одного символа. <br>Если к такому имени добавить точку, как по стандарту, то всё работало нормально.<br>Всёже поправил, перезалил <b>крякер</b> в стартпосте. (2 декабря 2015 г.)<br><br><b>--Добавлено--</b><br>)) Ну, пошёл процесс.<br>При исправлении первой лажи появилась другая.<br>Снова исправил, перезалил. (3 декабря 2015 г.)<br><br><I>Если в программе нету багов, значит её плохо тестировали.</I>(с)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=360371&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=7" class="addthx" data-post="360371"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 15 февраля 2016 22:45 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Багфикс 15 февраля 2016 г.<br><b>Крякер</b> падал на CRK-файлах нулевой длины или содержащих только пустые строки.  ..Классика жанра..<br>Файл перезалит. Поправлена ссылка на скачивание в стартпосте.<br><br><I>Если в программе нету багов, значит её плохо тестировали.</I>(с)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=362884&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=8" class="addthx" data-post="362884"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]GMAP[/b]','')">GMAP</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 35.1 (посетитель), 32thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.92'>Активность: 0.04<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=6015">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 февраля 2016 10:08 <br><script type="text/javascript">QU('GMAP','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=GMAP" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
http://www.manhunter.ru/underground/74_programmi_dlya_sozdaniya_patchey_i_loaderov.html<br>FileCompare 2.8 - вполне юзабельная прога с аналогичным функционалом и не только. Вот только антивирусы ее не сильно жалуют.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=362888&amp;user=6015&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=9" class="addthx" data-post="362888"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 февраля 2016 13:18 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>GMAP пишет:<br>FileCompare 2.8 - вполне юзабельная прога с аналогичным функционалом и не только. Вот только антивирусы ее не сильно жалуют.<br> </I><br><br>Имеется в виду, как я понял, <I>юзабельная</I> в сравнении с <b>CMP32.EXE</b>?<br><br>Тот функционал программы <b> FileCompare 2.8</b>, который интересует меня, <I>(т.н.&quot;аналогичный&quot;)</I>, <br>обеспечивается досовской командой &quot;<b>FC /B</b>&quot;  и ещё туевой хучей других утилит. <br>Но все они не могут создавать CRK-файлы c виртуальными адресами патчей для WIN32 PE-файлов. То есть не устраивают.<br><br>А упомянутая программа к тому же не принимает аргументы из командной строки,<br>поэтому всерьёз мною даже и не рассматривалась никогда. <br>Если нужен <b>статический EXE-cutable патч-файл</b> <I>(т.н. &quot;и не только&quot;)</I>,  - тогда да, можно применять ту утиль <b>FileCompare 2.8</b>.<br>Но мне такое бывает нужно очень нечасто.<br><br><b>--Добавлено--</b><br>И размер той утили какой-то устрашающий. Там функционала-то всего ничего, а файл раздут непомерно.<br>В общем, видел я <noindex><a href="http://www.manhunter.ru/underground/74_programmi_dlya_sozdaniya_patchey_i_loaderov.html" rel="nofollow" target="_blank"> <b><u>ту</u></b></a></noindex> страницу у <b>ManHunter</b>&#039;а. <br><noindex><a href="http://www.manhunter.ru/releases/250_file_location_calculator_1_4.html" rel="nofollow" target="_blank">--&gt; <b><u>Вот</u></b> &lt;--</a></noindex> ещё полезная ссылка туда же.<br><br><b>--Добавлено2--</b><br>Кстати, добавлю-ка новую версию <b>CMP32.exe (v.0.002a)</b> во второй пост темы.<br>Там прибавилась опция по отображению <b>RVA-адресов</b>. Бывает нужно.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=362890&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=10" class="addthx" data-post="362890"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=4773" title="16-02-2016 12:06, ранг:194.8" target="_blank">plutos</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]gazlan[/b]','')">gazlan</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/1744.png" alt=""><br><span class=txtSm>Ранг: 170.1 (ветеран), 96thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.19'>Активность: 0.09<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=1744">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 февраля 2016 20:47 <br><script type="text/javascript">QU('gazlan','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=gazlan" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Win&#039;32 console<br><br><noindex><a href="http://gazlan.narod.ru/toy_tools/hi.rar" rel="nofollow" target="_blank">Hack It! Script based file patcher</a></noindex><br><noindex><a href="http://gazlan.narod.ru/toy_tools/xc.rar" rel="nofollow" target="_blank">M&#036; FC.EXE Replacment * File Binary Comparator</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=362896&amp;user=1744&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=11" class="addthx" data-post="362896"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=35473" title="16-02-2016 20:10, ранг:171.0" target="_blank">dosprog</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 февраля 2016 23:04 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>gazlan пишет:<br>Win&#039;32 console<br><br>Hack It! Script based file patcher<br>M&#036; FC.EXE Replacment * File Binary Comparator  </I><br><br><br>Хм. Ну, в общем-то, программы из этой же серии, да.<br>Но удобство этой <b>HI.COM</b> не сопоставимо с удобством <b>CRACKER</b>&#039;а, откровенно говоря.<br>Её работа напоминает в первом приближении как если бы <b>CRACKER</b> запустить в пакетном режиме <br>с опцией &quot;All&quot; для отдельного файла CRK, заданного в командной строке.<br>Такой возможности в <b>CRACKER</b>&#039;е нет, специально. И наверное и не будет - всё-таки ж классика жанра..<br><br>Впрочем, полезная вещь, - хотя  я б не стал затевать написание такой софтины. <br>Мне она напомнила старую DOS&#039;овскую утиль <noindex><a href="http://old-dos.ru/dl.php?id=6501" rel="nofollow" target="_blank">--&gt; <b><u>Multiple-Patcher</u></b> 1996 г. &lt;--</a></noindex>, только та утилитка помощней будет. Всёже.<br><br><b>--Добавлено--</b><br><br>Вообще по поводу патчеров должен заметить, что в любом патчере должна быть обязательно реализована возможность патчения сразу нескольких файлов одной операцией, которое описывается в одном скрипте.<br><br>Ну например, в главный модуль EXE вносится изменение, которое без соответствующего изменения в других сопутствующих файлах (например DLL&#039;ях) будет приводить к падению программы после патчения.<br>Поэтому изменения должны вноситься одновременно одной операцией патчения в несколько разных файлов. Или не вноситься, если обнаружена какая-то ошибка в скрипте или одном из этих файлов.<br><br>Как это описано в примере кряка, который был выше - одновременно патчится два файла:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">2</span><span class="hl_char">)</span>&nbsp;Ограничения&nbsp;времени&nbsp;работы</li><li class="hl_l1">Прога<span class="hl_char">.</span>EXE&nbsp;&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l0"><span class="hl_char">.</span><span class="hl_number">00402222</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">72</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li><li class="hl_l1"><span class="hl_number">000000333</span><span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">80</span>&nbsp;<span class="hl_number">00</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Абсолютное смещение в файле</span></li><li class="hl_l0">Прога<span class="hl_char">.</span>DLL&nbsp;&nbsp;<span class="hl_comment">;(распакованная)</span></li><li class="hl_l1"><span class="hl_char">.</span>00403С55<span class="hl_char">:</span>&nbsp;&nbsp;<span class="hl_number">73</span>&nbsp;EB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">; Virtual Address</span></li>        </ol>
    </div>
</div></div>
<br><br><b>--Добавлено2--</b><br><br>В <b>CRACKER</b> v.0.002a добавлена возможность использования <b>RVA для WIN32-PE</b> файлов. <br>Кряки в таком формате можно получать с помощью утилитки <b>CMP32.EXE</b>  из втогого поста темы.<br>Перезалил, поправил ссылку в стартпосте - 17 Feb. 2016.<br><br>Не нравится мне это, но как-то само получилось, машинально.. Не удалять жеж теперь.<br><br><b>--Добавлено3--</b><br><br>В старых текстовых файлах часто признаком конца файла служит символ 1Ah, <br>Его многие старые редакторы вставляли в конец файла при его сохранении.<br>В <b>CRACKER</b> добавлена реакция на такой встреченный символ конца файла .CRK - &lt;EOF char&gt;. <br>Перезалит, поправлена ссылка в стартпосте - 25 февраля 2016 г.<br><br><b>--Добавлено4--</b><br>)) Пожаловались на CRACKER, что у него-де нет кнопки &quot;Exit/Quit&quot;. Таких кнопок две - одна с крестиком в правом верхнем углу виндоусного окна, а другая на клавиатуре &lt;Alt+F4&gt;, обе работают вполне надёжно.<br><br><b>TODO:</b> надо будет, как только появится время, малость усовершенствовать логику работы опции &quot;<b>PATCH_FORCE</b>&quot;..<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=362898&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=12" class="addthx" data-post="362898"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 марта 2016 09:34 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Усовершенствована опция <b>CRACKER</b>&#039;a &quot;<b>PATCH_FORCE</b>&quot;.<br>Теперь его можно использовать и в качестве тупо <b>переключателя опций для всякого софта</b> -<br>когда на одно и то же место без проверок безусловно записываются разные данные.<br><br>Вот пример такого скрипта для задания разного цвета линий в некоей программе:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Одна&nbsp;очень&nbsp;классная&nbsp;программка</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">Original&nbsp;color&nbsp;of&nbsp;lines</li><li class="hl_l1">stcolor<span class="hl_char">.</span>dll</li><li class="hl_l0"><span class="hl_number">0002D7B4</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">48</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;&nbsp;&nbsp;<span class="hl_comment">;CHECK BYTE</span></li><li class="hl_l1"><span class="hl_number">0002D7B5</span><span class="hl_char">:</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">00</span>&nbsp;&nbsp;&nbsp;<span class="hl_comment">;PATCH FORCE</span></li><li class="hl_l0"><span class="hl_number">0002D7B6</span><span class="hl_char">:</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">80</span></li><li class="hl_l1"><span class="hl_number">0002D7B7</span><span class="hl_char">:</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">00</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Red&nbsp;color&nbsp;of&nbsp;lines</li><li class="hl_l0">stcolor<span class="hl_char">.</span>dll</li><li class="hl_l1"><span class="hl_number">0002D7B4</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">48</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;CHECK BYTE</span></li><li class="hl_l0"><span class="hl_number">0002D7B5</span><span class="hl_char">:</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;C0&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_comment">;PATCH FORCE</span></li><li class="hl_l1"><span class="hl_number">0002D7B6</span><span class="hl_char">:</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">00</span></li><li class="hl_l0"><span class="hl_number">0002D7B7</span><span class="hl_char">:</span>&nbsp;<span class="hl_char">?</span><span class="hl_char">?</span>&nbsp;<span class="hl_number">00</span></li>        </ol>
    </div>
</div></div>
<br>- При этом, если действует режим &quot;<b>PATCH_ALL</b>&quot;, то будут безусловно внесены все изменения с опцией &quot;<b>PATCH_FORCE</b>&quot;, описанные в скрипте,  одно за другим, и таким образом реально будет иметь эффект последнее из описанныых исправлений для одного и того же адреса.<br><br>Перезалил архив, поправил ссылку в стартпосте - 18 Mar. 2016.<br><br><br><br><br><br><b>--Добавлено--</b> 7 Окт. 2016 г.<br><br>В общем-то, всё работает без проблем. <br><br>--------------------------------------------------------------------------<b> о &quot;перекрывающихся&quot; патчах </b>-----------------<br><br>Единственно, что вызывает <i class=x>задумчивость</i>, это вариант кряк-файла,<br>в котором описаны несколько последовательных кряков одних и тех же адресов. <b>(см.пример в аттаче к посту)</b>.<br><br>В принципе, проблем нет - в режиме одиночного патчения кряки применяются последовательно, начиная с первого. <br>Распатчивание в одиночном режиме  по таким крякам тоже не проблема - кряки отменяются последовательно, начиная с последнего.<br><br>Но если этих кряков в одном файле описано  много и хотя бы один &quot;перекрывает&quot; другой,<br>то патчение/распатчивание в автоматическом режиме (PATCH_ALL) уже будет невозможно,<br>так как в режиме PATCH_ALL вначале выполняется проверочный проход по всем крякам в кряк-файле (пускай даже начиная с последнего, не проблема) - а при проверочном проходе изменения не вносятся.<br>Только если проверочный проход по всем крякам в кряк-файле прошёл без ошибок, - только тогда запускается второй проход с внесением реальных изменений в исправляемый файл (файлы).<br><br>Так вот,  в случае с &quot;перекрывающимися патчами&quot; уже первый (проверочный) проход по всем крякам завершится неудачно, так как первое описанное в кряк-файле изменение хотя и будет признано возможным (нужные байты будут найдены), но последующие кряки (от начала кряк-файла, перекрывающие первый) уже возможными признаны не будут, поскольку предыдущая операция выполнялась в проверочном режиме без внесения изменений.<br><br>Это при патчении (PATCH_ALL). При распатчивании (UN-PATCH_ALL) та же проблема, <br>но только начиная с последних описанных в кряк-файле кряков.<br><br>Можно было бы отменить тестовый прогон при включении опции PATCH_ALL, <br>но тогда возможна реальная порча файлов, т.н.&quot;<b>недопатчение</b>&quot;, <br>при котором потом трудно будет искать концы.<br><br>В общем не знаю..  <br>Если в кряк-файле описано три-четыре кряка &quot;с перекрытием&quot;, то их не лень применить и последовательно, без опции PATCH_ALL.<br>Но если таких патчей в файле описано 20 штук, то это уже головняк. А опция PATCH_ALL с &quot;перекрывающимися&quot; кряк-файлами работать не будет.<br><br><b>В аттаче пример простого кряк-файла с &quot;перекрывающимися&quot; патчами  - </b> <img src="img/attach.gif" alt=""> <a href="./files/e46b_07.10.2016_EXELAB.rU.tgz">e46b_07.10.2016_EXELAB.rU.tgz</a> - test.rar<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=363491&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=13" class="addthx" data-post="363491"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 октября 2016 03:28 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Новая версия сравнивалки <b>CMP32</b> - v.<b>0.002b</b> (перезалита, ссылка в посте <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#2" rel="nofollow" target="_blank"> <u>#2</u> </a></noindex>).<br><br>Добавлена опция &quot;<b>/rpp</b>&quot; - вывод различий в формате скрипта для <b>R!SC&#039;s Process Patcher</b>&#039;а (только для WIN32-PE файлов).<br><br>Пример запуска: <b>сmp32 /a /rpp Original.exe New.exe</b><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Differences&nbsp;between&nbsp;<span class="hl_quote">&quot;Original.exe&quot;</span>&nbsp;<span class="hl_char">&amp;</span>&nbsp;<span class="hl_quote">&quot;New.exe&quot;</span></li><li class="hl_l1">Original<span class="hl_char">.</span>exe</li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">0040127F</span><span class="hl_char">/</span>FC<span class="hl_char">/</span><span class="hl_number">90</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;0000067F:</span></li><li class="hl_l1"><span class="hl_number">00000DF0</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">11</span><span class="hl_char">:</span></li><li class="hl_l0"><span class="hl_number">00000DF1</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">22</span><span class="hl_char">:</span></li><li class="hl_l1">p<span class="hl_char">=</span><span class="hl_number">00405DE0</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE0:</span></li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">00405DE1</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE1:</span></li><li class="hl_l1">p<span class="hl_char">=</span><span class="hl_number">00405DE2</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE2:</span></li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">00405DE3</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE3:</span></li><li class="hl_l1">p<span class="hl_char">=</span><span class="hl_number">00405DE4</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE4:</span></li><li class="hl_l0">p<span class="hl_char">=</span><span class="hl_number">00405DE5</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">31</span><span class="hl_char">:</span>&nbsp;<span class="hl_comment">;00003DE5:</span></li><li class="hl_l1"><span class="hl_number">00004A03</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">44</span><span class="hl_char">:</span></li><li class="hl_l0"><span class="hl_number">00004A04</span><span class="hl_char">/</span><span class="hl_number">00</span><span class="hl_char">/</span><span class="hl_number">44</span><span class="hl_char">:</span></li>        </ol>
    </div>
</div></div>
<br>Удобство в том, что заодно адреса патчения проверяются на саму возможность использования <b>RPP.EXE</b>.<br>(Или любого другого рантайм патчера памяти).<br>Те строки, которые начинаются с &quot;<b>p=</b>&quot;, можно довольно смело использовать в скрипте <b>RPP</b>.<br>Все остальные для рантайм-патчера памяти не годятся.<br><br><br><br><br><b>--Добавлено--</b><br>29.12.2016 <br><br>В CMP32.exe поправлена ошибка определения PE-файла,<br>из-за которой он падал при сравнении<br>с опцией &quot;/a&quot; DOS-MZ запакованных файлов.<br>(Перезалито, ссылка в посте <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#2" rel="nofollow" target="_blank"> <u>#2</u> </a></noindex>).<br><br>Аналогичная правка CRACKER.EXE:<br>Поправлена ошибка определения PE-файла,<br>из-за которой он падал при попытке патча <br>по виртуальному адресу в DOS-MZ запакованном файле (что неверно).<br>(Перезалито, ссылка в посте <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#1" rel="nofollow" target="_blank"> <u>#1</u> </a></noindex>).<br><br>Некритичные, но неприятные ошибки. <br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=368418&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=14" class="addthx" data-post="368418"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2017 15:17 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>dosprog</b><br>Сделай в виде плагина к Hiew, чтобы создавал метки и опционально применял патч.<br>Кстати, как я вижу из твоих описаний, для мест, в которых производится патч, не предусмотрено &quot;метки&quot;, которую можно было бы добавлять к дизасму, например. А описания слишком длинные для того, чтобы их использовать в качестве метки.<br>В идеале было бы расширить формат описания .crk файлов для включения метки и описания для каждого адреса.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372894&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=15" class="addthx" data-post="372894"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2017 16:30 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Сделай в виде плагина к Hiew, чтобы создавал метки и опционально применял патч. </I><br><br>Была задумка сделать не в виде плагина, а просто добавить функционал, позволяющий по тычку в тексте .CRK раскрыть ковыряемый файл в HIEW на адресе, по которому тыцнули - чтобы удобней было разглядывать правки в виде DISASM&#039;а HIEW. <br>Но идею занесло в сторону и выкинуло на обочину, поскольку решил просто[не-просто] добавить, в будущем, встроенный HEX/DISASM вьювер. <br>А там, как часто бывает, старая задумка уже завяла, а новая ещё не созрела. Так и пользуюсь пока, в режиме классического CRACKER&#039;а.<br>Кстати, в более старых версиях HIEW менее навороченная DOS-командная строка для передачи аргументов, и там передать адрес через параметры Shell&#039;а не удастся. Это тоже поостудило идею.<br><br>Что касается &quot;меток&quot; - не вполне понял суть. Ведь в тексте кряка адрес патчения это уже и есть такая &quot;метка&quot;, а описание можно добавлять сколько угодно - либо в тексте за байтами старый/новый, после &quot;;&quot;,<br>либо просто в виде свободного текста (но тогда символ &quot;;&quot; должен быть в первой колонке строки).<br>В принципе, всё сделано для того, чтобы можно было хоть поэмы в этом CRK записывать - удобно для документирования.<br><br>Ну, поизощряюсь сейчас для примера:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Это&nbsp;патч&nbsp;к&nbsp;программе&nbsp;Тест<span class="hl_char">.</span>EXE</li><li class="hl_l1">Версия&nbsp;<span class="hl_number">1</span><span class="hl_char">.</span><span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">0</span><span class="hl_char">.</span><span class="hl_number">3</span></li><li class="hl_l0">Распаковать&nbsp;UPX</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;</li><li class="hl_l1">Патч&nbsp;<span class="hl_number">1</span>&nbsp;<span class="hl_char">-</span>&nbsp;описание&nbsp;</li><li class="hl_l0"><span class="hl_comment">;        продолжение описания </span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0">Тест<span class="hl_char">.</span>EXE</li><li class="hl_l1"><span class="hl_number">000000345</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">21</span>&nbsp;<span class="hl_number">22</span>&nbsp;&nbsp;&nbsp;<span class="hl_comment">; описание </span></li><li class="hl_l0"><span class="hl_comment">;                                 продолжение описания </span></li><li class="hl_l1"><span class="hl_comment">;</span></li><li class="hl_l0"><span class="hl_number">000000545</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">21</span>&nbsp;<span class="hl_number">22</span>&nbsp;&nbsp;&nbsp;<span class="hl_comment">; описание </span></li><li class="hl_l1"><span class="hl_comment">;                                 продолжение описания </span></li><li class="hl_l0"><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_number">000000645</span><span class="hl_char">:</span>&nbsp;<span class="hl_number">21</span>&nbsp;<span class="hl_number">22</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0"><span class="hl_comment">;После этого уже должно работать</span></li><li class="hl_l1">&nbsp;</li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372898&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=16" class="addthx" data-post="372898"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2017 20:09 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<I>dosprog пишет:<br>Что касается &quot;меток&quot; - не вполне понял суть </I><br>F12 в Hiew - показ меток<br>Shift+F12 - задать метку<br><br>Не уверен, что в той допотопной версии, которую используешь ты, был такой функционал.<br><br>Если ты программируешь на асме, то должен знать и понимать, что такое метка.<br>Метка имеет формат &quot;текст_метки:&quot;<br><br>Это полезно в случае, когда тебе необходимо, например, заменить вызовы. Ты можешь задать метку, например &quot;patch&quot;, и при ассемблировании вызова, тебе будет достаточно ввести &quot;call patch&quot; или &quot;jmp patch&quot;, а не адрес метки.<br><br>В том листинге, который привёл ты, никаких меток я не заметил.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372902&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=17" class="addthx" data-post="372902"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 10:22 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Не уверен, что в той допотопной версии, которую используешь ты, был такой функционал.<br> </I><br>Да, такую возможность не использую.<br><br>Если требуется что-то сложнее обычного функционала версий 6.х, <br>то использую другой дизассемблер и перетрансляцию фрагмента обычным ассемблером.<br>Это в случае, если кусок кода автономен и в него нет прыжков извне фрагмента.<br>Имхо так значительно удобнее, чем исхитряться в HIEW.<br><br>Иначе [если использовать &quot;метки&quot; HIEW] потом нужно постоянно хранить хьюшный файл .SAV, <br>а у HIEW работа с сохранением/восстановлением в/из этого файла сделана категорически криво.<br>Мне не нравится.<br><br><br><br><br><I>Jupiter пишет:<br>В том листинге, который привёл ты, никаких меток я не заметил.  </I><br><br>Можно добавить в крякер функционал (дополнительно), чтобы адрес можно было указывать не только в виде:<br><br>0000010123:<br>.0000400123:<br>..0000000123:<br><br>- но и в виде:<br><br>@0000010123:<br>@_0000400123:<br>@__0000000123:<br><br><br>Такое решение помогло бы?<br><br>Кстати, такое и собирался сделать с самого начала, на всякий случай,<br>но потом решил, что не нужно усложнять.<br><br>Впрочем, метки  вида &quot;@000123&quot; не заменят меток с именами в словесной форме, если я правильно понял о чём речь.<br><br>А вообще-то, затея с метками это усложнение простой, в общем-то, тулзы в угоду привязки к определённому софту. <br>Хотелось бы самодостаточности.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372919&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=18" class="addthx" data-post="372919"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 11:08 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<I>dosprog пишет:<br>Иначе потом нужно постоянно хранить хьюшный файл .SAV, <br>а у HIEW работа с сохранением/восстановлением в/из этого файла сделана категорически криво.</I><br><br>Имена хранятся в файле <i class=x>.names</i>, а подсвеченные байты в файле <i class=x>.cmarkers</i>. Каких-то катастрофических проблем в работе Hiew с этими файлами я не замечал.<br><br><br><I>dosprog пишет:<br>@0000010123:<br>...<br>Такое решение помогло бы? </I><br><br>Это бессмысленно, если это не буквенная метка вида &quot;VersionCheck&quot;. То, что ты предложил, это чуть другое представление всё того же <i class=x>адреса</i>, а не <i class=x>метки</i>.<br><br><I>dosprog пишет:<br>А вообще-то, затея с метками это усложнение простой, в общем-то, тулзы в угоду привязки к определённому софту. <br>Хотелось бы самодостаточности.  </I><br><br>Вообще не только Hiew поддерживает создание именованных блоков, тот же 010 Editor через Template тоже позволяет это делать. При парсинге .crk файла в его существующем виде, все блоки, если их именовать будут выглядеть одинаково (Patch_01, Patch_02 .. Patch_0000010123). Но если добавить (пусть даже в поле для комментария) имя метки, то все  эти места уже можно будет назвать.<br><br>Было:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_comment">; Отключаем проверку версии системы</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">0000400204</span><span class="hl_char">:</span>&nbsp;EB&nbsp;<span class="hl_number">75</span></li>        </ol>
    </div>
</div></div>
<br>Стало так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_comment">; Отключаем проверку версии системы</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">0000400204</span><span class="hl_char">:</span>&nbsp;EB&nbsp;<span class="hl_number">75</span>&nbsp;<span class="hl_comment">;@VerChkPatch</span></li>        </ol>
    </div>
</div></div>
<br>или так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">@VerChkPatch<span class="hl_char">:</span></li><li class="hl_l1"><span class="hl_char">.</span><span class="hl_number">0000400204</span><span class="hl_char">:</span>&nbsp;EB&nbsp;<span class="hl_number">75</span>&nbsp;<span class="hl_comment">; Отключаем проверку версии системы</span></li>        </ol>
    </div>
</div></div>
<br><br>На данный момент при сравнении двух файлов нужно постоянно держать открытым файл .crk, чтобы иметь возможность прочитать комментарии. При наличии меток, можно будет быстрее ориентироваться по файлу в том же Hiew.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372923&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=19" class="addthx" data-post="372923"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 11:13 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
Тогда, честно, не понимаю, в чём проблема.<br>И так ведь можно вcтавлять &quot;метки&quot; в виде комментариев вслед за символом &quot;;&quot;.<br><br>Крякер занимается <b>только разбором</b> текста, который составлен руками в желаемом виде,<br>но с соблюдением некоторых &quot;соглашений&quot; вроде синтаксиса комментариев<br><br><br><I>Jupiter пишет:<br>На данный момент при сравнении двух файлов нужно постоянно держать открытым файл .crk, чтобы иметь возможность прочитать комментарии. </I><br><br>Точно. У меня крякер так и висит запущенный постоянно. <br>Для этого там и есть опция &quot;перечитать CRK файл&quot; (F3, Alt+F3) <br>и даже &quot;вызов внешнего редактора для кряков&quot; (F4),<br>хотя второй опцией практически не пользуюсь.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372925&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=20" class="addthx" data-post="372925"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 11:17 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<I>dosprog пишет:<br>текста, который составлен руками </I><br>ОК, я то полагал, что утилита cmp32 позволяет автоматизировать процесс.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372926&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=21" class="addthx" data-post="372926"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 11:21 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<I>Jupiter пишет:<br>ОК, я то полагал, что утилита cmp32 позволяет автоматизировать процесс.<br> </I><br>Тогда понятно.<br><br>Утилита <b>cmp32</b> это всего лишь-навсего [абсолютно атономный] эквивалент досовской команды &quot;C&gt;FC&quot;<br>с [опциональным] добавлением особенностей PE-файлов при выводе результатов сравнения.<br><br>Добавляю новый патч в CRK-файл вызовом:<br><br><b>C&gt;cmp32 orig.exe new.exe &gt;&gt; file.crk </b><br><br>- Как это делается уже овер тридцать лет. Оно работает <img src="img/smilies/s1.gif" alt=""><br><br><br>) Обе тулзы просты, как два велосипеда.<br><br>И являются ремейками, чуток &quot;осовремененными&quot;, давно известных и популярных инструментов.<br><br><br><br><b>--Добавлено--</b><br><br>Хотя и, повторюсь, имелись и имеются планы по добавлению опции крякера <br>для просмотра патчей в хекс/дизасм виде на целевом файле, но когда это будет реализовано, <br>да и будет ли, - про то знает лишь никто.<br><br><br><br><br><b>--Добавлено2--</b><br><br>А вот желаемый функционал, касающийся добавления меток при генерации кряка, <br>как и сама генерация кряка - это вопросы сугубо к автору HIEW.<br>Тоже считаю, что это там было бы очень полезно.<br>Но он, скорей всего, не согласится. <br><br><br>.. Кстати, [тут выше есть об этом, в описании,] в другом случае, предлагал добавить опцию в CMPDISASM для генерации кряков в пристойном виде, и тишина. После какого-то периода тишины пришлось запилить утилитку <b>cmp32</b> и забыть об этих всех проблем.  CMPDISASM не использую.<br><br>Вот тот текст:<br><b>- и кстати - тут сразу возникает <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=13687&amp;page=11#10" rel="nofollow" target="_blank"><u>предложение</u></a></noindex> к <u>crc1</u> по добавлению в его <noindex><a href="https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=13687" rel="nofollow" target="_blank"><u>CmpDisasm</u></a></noindex> возможностей, касаюшихся сохранения различий в сравниваемых файлах в формате CRK, но с виртуальными адресами смещений патчения.</b><br><br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372927&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=22" class="addthx" data-post="372927"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=1379" title="06-03-2017 07:22, ранг:501.9" target="_blank">Jupiter</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 14:34 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<i class=x>&gt; А вот желаемый функционал, касающийся добавления меток при генерации кряка,как и сама генерация кряка - это вопросы сугубо к автору HIEW.</i><br><br>Для этого есть система плагинов.<br>Данный функционал однозначно должен быть реализован внешним модулем, а не встроенной функцией.<br>В PDK всё для этого есть.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372949&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=23" class="addthx" data-post="372949"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 17:56 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
Согласен,<br>но сам разработкой плагинов для HIEW заниматься не стану.<br><br>На это тупо нет времени. <br>Если оно появляется, то в стеке несколько задач, на которые его приходится тратить.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372955&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=24" class="addthx" data-post="372955"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 20:39 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
<I>dosprog пишет:<br>но сам разработкой плагинов для HIEW заниматься не стану. </I><br><br>Будет время заодно к чему-то прикрутить, добавлю.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372966&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=25" class="addthx" data-post="372966"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 21:10 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
Там, фактически, можно свой компаратор запилить, тогда уже и с генерацией всех меток и комментариев, которые были вставлены.<br>Но то надо, во-первых, пользоваться всеми теми фишками, а во вторых, разогнаться в этом направлении, в смысле плагинов вообще.<br>Мне как-то не довелось<br><br><I>Jupiter пишет:<br>Техническое задание?  <br></I><br>Та ну..<br>Просто размышляю, в качестве оффтопа.<br><br>..сейчас вот снова задумался, как бы поизящней прикрутить в крякер вызов HIEW для целевого файла на нужном адресе. <br>Не очень это простое дело. То есть вроде бы и простое, но не очень<br><br>Это повторная возня по разбору текста CRK.<br><br>Двумя строчками не реализуешь. Прикидываю, стоит ли &quot;жечь свечки&quot;.<br><br>Хотя, если в будущем добавлять встроенный вьювер, то это придётся делать по-любому.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372968&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=26" class="addthx" data-post="372968"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 21:17 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
Техническое задание?<br><br><b>Добавлено спустя -5 минут</b><br><I>dosprog пишет:<br>Просто размышляю, в качестве оффтопа. </I><br><br>Ну так размышляя, формулируй ТЗ.<br><br><br><I>dosprog пишет:<br>как бы поизящней прикрутить в крякер вызов HIEW для целевого файла на нужном адресе. </I><br><br>Выдержка из справки Hiew 8.53:<br><br><b>Командная строка</b><br>Hiew [options] [/s]filemask...[/s][filemask]<br>      /O[thc]=OEP|END|[.]offset[th] - задать стартовые режим и смещение<br>      /MACRO0=&lt;macrofile&gt;           - сразу запускать макрос<br>      /SAV=&lt;savefile&gt;               - откуда брать savefile<br>      /INI=&lt;inifile&gt;                - откуда брать inifile<br>      [/s]filemask...[/s][filemask] - можно задавать несколько файлов,<br>                                      включаю маску с шаблоном.<br><br>*   Опция /s переключает поиск с подкаталогами:<br> hiew /s *.dll *.exe /s *.txt -&gt; будет искать .dll и .exe с подкаталагами и<br>                                 .txt только в текущем каталоге<br><br>*   смещение в опции &#039;/O&#039; можно указывать во всех видах, воспринимаемых внутри hiew:<br>    - с точкой впереди как локальное смещение<br>    - основание по умолчанию (16) может быть изменено суффиксом &#039;t&#039;<br>    а также:<br>    - специальное смещение &#039;END&#039; (без кавычек) ставит курсор на последний байт файла<br>    - специальное смещение &#039;OEP&#039; (без кавычек) ставит курсор на точку входа Exe-файлов<br>    примеры:<br>    /Ot=END     - текстовый режим, конец файла<br>    /Oc=OEP     - режим кода, курсор на точке входа<br>    /Oh=1234    - hex режим, смещение 1234 (hex)<br>    <b>/Oh=0x1234</b>  - тоже самое что выше<br>    /Oh=1234t   - hex режим, смещение 1234 (decimal)<br>    <b>/Oc=.401234</b> - режим кода, локальное смещение 401234<br><br>*   с версии 7.40 опция &#039;/O&#039; применяется ко всем файлам командной строки при<br>    CtrlF9/CtrlF11/CtrlF12
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372969&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=27" class="addthx" data-post="372969"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 23:13 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
<I>Jupiter пишет:<br>Выдержка из справки Hiew 8.53: </I><br><br>Да то понятно.<br>Дело в том, что получив из EditBox&#039;а в крякере строчку, <br>нужно выполнить её разбор, и после этого найти её запись в откомпилированной базе кряк-файла, а уже оттуда и брать искомое имя файла для патчения и оффсет в нём. <br>Довольно громоздко получается.<br>(Тут &quot;база&quot; - это то,  листиг чего выводится в файл по дебаг-опции Ctrl+Alt+L. <br>Чтобы можно было убедиться в её, &quot;базы&quot;, соответствии исходному CRK-файлу. <br>Для меня это отладка, для юзеров контроль работоспособности движка <br>[хотя эта опция им по-хорошему не сильно-то и надо]<br>).<br><br>А что до &quot;техзадания&quot; (может, громко сказано,) -<br>довольно смутно представляю себе возможности программирования плагинов.<br>Ну, имена-то файлов 1 и 2 вытащить можно, принять у юзера имя файла результата тоже - дальше сравнение - и вот тут нужно вынимать из HIEW для несовпадающих байтов всю добавленную информацию (&quot;метки&quot;)  и просто выводить её в файл. Соблюдая формат кряка.<br>На &quot;бумаге&quot;-то оно просто..<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372976&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=28" class="addthx" data-post="372976"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]Jupiter[/b]','')">Jupiter</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/1379.png" alt=""><br><span class=txtSm>Ранг: 605.2 (<b>!</b>), 341thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.38'>Активность: 0.47<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1379">Модератор</a><br><font color=blue>Research &amp; Development</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2017 23:43 <br><script type="text/javascript">QU('Jupiter','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Jupiter" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
<I>dosprog пишет:<br>нужно выполнить её разбор </I><br>Не понял твоего алгоритма. Ты же можешь заранее соотнести все выводимы строки с определёнными данными из .crk файла, а не заново искать эти данные по строке.<br><br><br><I>dosprog пишет:<br>довольно смутно представляю себе возможности программирования плагинов.</I><br>Ну сейчас это не твоя забота. Ты пиши, а я уж решу, как это реализовать.<br><br><I>dosprog пишет:<br>Ну, имена-то файлов 1 и 2 вытащить можно </I><br>Это делается либо передачей в Hiew двух параметров с именами файлов:<br>hiew32.exe /Oc=OEP File1.exe /Oc=OEP File2.exe<br>либо открыв файлы последовательно уже в самом Hiew по команде F9 [Files].<br>Переключение между файлами происходит по Tab.<br>На данный момент в SDK не хватает функции получения имён всех открытых файлов (HIEWGATE_GETFILENAME).<br><br><I>dosprog пишет:<br>принять у юзера имя файла результата </I><br>Это можно не узнавать, а генерить автоматически по имени исходного файла.<br><br><I>dosprog пишет:<br>дальше сравнение </I><br>Если сравнивать, как это делает CmpDisasm, то это тупо побайтное сравнение.<br>Метки получаются по HiewGate_Names_GetLocal/HiewGate_Names_GetGlobal, а комментарии по HiewGate_Names_GetLocalComment/HiewGate_Names_GetGlobalComment. Если по данному офсету есть имя/комментарий, то сохранить в файл.
<br><br><font size="1"><i>-----<br>EnJoy!</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=372978&amp;user=1379&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=29" class="addthx" data-post="372978"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]dosprog[/b]','')">dosprog</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 431.7 (мудрец), 391thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.95'>Активность: 0.73<span style='color:red'>&searr;</span>0.32</span><br>Статус: <a href="action=userinfo&amp;user=35473">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 марта 2017 00:12 &middot; Поправил: dosprog <br><script type="text/javascript">QU('dosprog','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=dosprog" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=23834&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
<I>Jupiter пишет:<br> Ты же можешь заранее соотнести все выводимы строки с определёнными данными из .crk файла, а не заново искать эти данные по строке. <br></I><br>Так и придётся делать, да. Сейчас этого нет.<br>Поэтому и говорю, что это или головняк по повторному разбору текста,<br>или усложнение базы, которая сейчас нормально работает.<br>Представление о нынешнем формате базы можно получить из её листинга (Ctrl+Alt+L).<br>Исходного файла CRK при работе крякера в памяти уже нет, и сам файл закрыт,<br>чтобы можно было его редактировать или дополнять.<br>Полностью текст в памяти не хранится ещё и потому, что он может быть ну ооочень большой, включая сюда ещё и комментарии, которых может быть немеряно..<br>То, что видно в EditBox&#039;e 2 при выборе  отдельного патча в списке патчей ListBox&#039;а - это интерпретация уже на основе базы. <br>Хотя, при выборе в листбоксе 1 файла из списка CRK-файлов, текст каждого из CRK-файлов  ещё виден в исходном виде - и это потенциально чревато, поскольку EditBox-то не безразмерный..<br>Впрочем, этот EditBox 2 при этом  имеет только демонстрационное назначение, помогающее выбрать нужный файл из списка CRK-файлов, и если в нём текст будет в конце обрезан, то ничего страшного случиться не должно.<br>..Ничего страшного не должно случиться и в случае отображения там интерпретированного содержимого базы - ничего страшного, если нет нужды лазить по тому тексту курсором и выбирать желаемое смещение для отображения его в HIEW... <br>***********************************************************<br>--- Вот и вспомнил, во что тогда упёрлась та идея с вызовом HIEW.<br>--- Потенциально текст в EditBox&#039;е 2 может быть обрезан самой виндой, что делает наличие такой опции в крякере потенциально костыльной. На этом идея и была похерена.<br>Так что дальнейшие навороты уже должны сопровождаться своплением текста для отображения его в EditBox&#039;e, и оно, это усложнение, уже нецелесообразно именно поэтому.<br>В общем, на этом проект можно считать успешно завершённым.<br>По этому поводу и написал в своё время:<br><I>Улучшать там сейчас, вроде, нечего, поэтому программка так и &quot;засохнет&quot; на версии 0.001a.<br>Ну, может, баги какие вылезут по ходу дела. Бывает.</I><br>***********************************************************<br>Память.. Времени-то уже прошло прилично, полтора года однако же. Стал забывать детали.<br><br><br><I>Jupiter пишет:<br>На данный момент в SDK не хватает функции получения имён всех открытых файлов (HIEWGATE_GETFILENAME).<br> </I><br>Плохо. Эта функция как раз и нужна для. <br>Уже получаются костыли - если не передал имена в командной строке HIEW.<br>(ну, командную-то строку-то в плагине получить можно?..)<br><br><I>Jupiter пишет:<br>Это можно не узнавать, а генерить автоматически по имени исходного файла.<br> </I><br>Тоже вариант..<br><br><I>Jupiter пишет:<br>Если сравнивать, как это делает CmpDisasm, то это тупо побайтное сравнение. <br></I><br>Так и надо. Это же сравнение &quot;байт-в-байт&quot;..<br><br><I>Jupiter пишет:<br>Если по данному офсету есть имя/комментарий, то сохранить в файл. <br></I><br>Причём даже если и нет отличий байтов - сохранить просто в виде комментария &quot;\n;\n; %s\n;\n;&quot;.<br><br>Тогда получится довольно симпатичный протокол правок, в виде CRK,<br>который потом, кстати, можно заново затягивать обратно в HIEW отдельным плагином..<br>Между прочим.<br><i class=x><br></i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=372980&amp;user=35473&amp;forum_n=3&amp;topic=23834&amp;page=0&amp;anchor=30" class="addthx" data-post="372980"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=2.html">3</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=3&amp;topic=23834&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/default.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=3&sortBy=0&page=0.html"><b>Софт, инструменты</b></a> <b class=bulletHead>&#8212;&#8250;</b> CRACKER. Реализация для WIN32. GUI.</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#31" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="3">
<input type="hidden" name="topic" value="23834">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=23834" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
