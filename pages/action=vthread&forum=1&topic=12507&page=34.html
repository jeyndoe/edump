<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Использование IDA Pro - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здесь предлагаю обмениваться опытом использования, настройки этой тулзы. Сегодня в Options-&gt;Color настроил основное окно дизассемблера все в старом классическом стиле Borland ща стало или в стиле Far(для справки первая версия">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=28512'>-Sanchez-</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Использование IDA Pro</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=33.html">&lt;&lt;</a> <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=0.html">1</a> ... <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=26.html">27</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=27.html">28</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=28.html">29</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=29.html">30</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=30.html">31</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=31.html">32</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=32.html">33</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=33.html">34</a> . <b>35</b> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=35.html">36</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=36.html">37</a> ... <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=49.html">50</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=50.html">51</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=35.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]theCollision[/b]','')">theCollision</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 271.5 (наставник), 12thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.24'>Активность: 0.15<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4439">Участник</a><br><font color=blue>Packer Reseacher</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 08 августа 2008 18:53 <br><script type="text/javascript">QU('theCollision','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=theCollision" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#1');return false;">#1</a> </span><div align=left><br>
Здесь предлагаю обмениваться опытом использования, настройки этой тулзы.<br><br>Сегодня в Options-&gt;Color настроил основное окно дизассемблера все в старом классическом стиле Borland ща стало или в стиле Far(для справки первая версия была написана на Borland C++), но когда подносишь курсор на jne\je то в хинте появляется фон бежевый. Вот никак не могу найти место где это настраивается?! Может кто шарит ? )
<br><br><font size="1"><i>-----<br>My love is very cool girl.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=198537&amp;user=4439&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=1" class="addthx" data-post="198537"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]awlost[/b]','')">awlost</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.8 (посетитель), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.01'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=25876">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июля 2014 18:17 <br><script type="text/javascript">QU('awlost','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=awlost" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#2');return false;">#2</a> </span><div align=left><br>
смысл есть - автоматический анализ переданных аргументов в ф-ию.<br>И в зависимости от типа и/или значений этих самых аргументов деобфуцировать так или иначе.<br>Это хорошо, когда ф-ий 2 - 200 - 1000, а когда их больше 9000, да еще от билда к билду меняется логика ...<br><br>Посмотрел funcap<br>Ну ... тут Debug api используется. <br>Так можно договориться до того, что нафига тогда вобще нужен дизассемблер, когда есть отладчик.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=344714&amp;user=25876&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=2" class="addthx" data-post="344714"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июля 2014 18:26 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#3');return false;">#3</a> </span><div align=left><br>
деобфускатор есть только один под ида, он на питоне http://code.google.com/p/optimice/<br>пилите-фиксите, говорят автор чето там даже хочет обновить, но за два года воз и ныне там, автор занят<br><br>все остальные деобфускаторы должны работать под отладчиком (я считаю)<br>соответственно для этого в новую иду был добавлен PIN<br>который умеет и трейсить и которым гугл говорит можно деобфускировать - анпакать
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=344715&amp;user=15381&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=3" class="addthx" data-post="344715"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]litecoiner[/b]','')">litecoiner</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 5.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.01'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=37709">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июля 2014 20:19 <br><script type="text/javascript">QU('litecoiner','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=litecoiner" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#4');return false;">#4</a> </span><div align=left><br>
<I>reversecode пишет:<br>деобфускатор есть только один под ида, он на питоне http://code.google.com/p/optimice/ </I><br><br>еще был такой плагин ariadne
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=344716&amp;user=37709&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=4" class="addthx" data-post="344716"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июля 2014 20:21 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#5');return false;">#5</a> </span><div align=left><br>
был был, я его постил на форуме<br>но он уже сто лет как заброшен, и авторов не слышно
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=344717&amp;user=15381&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=5" class="addthx" data-post="344717"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]awlost[/b]','')">awlost</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.8 (посетитель), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.01'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=25876">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июля 2014 21:34 <br><script type="text/javascript">QU('awlost','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=awlost" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#6');return false;">#6</a> </span><div align=left><br>
Сам спрашиваю - сам отвечаю<br>цитата из sdk<br>// Emulate instruction, create cross-references, plan to analyze<br>// subsequent instructions, modify flags etc. Upon entrance to this function<br>// all information about the instruction is in &#039;cmd&#039; structure.<br>// If zero is returned, the kernel will delete the instruction.<br><br>  int   (idaapi* u_emu)   (void); <br><br>Вот похоже &quot;она&quot; и расставляет каменты к аргументам на стеке.<br>Может у кого завалялись сырцы pc / pc64 процессорного модуля? <img src="img/smilies/s6.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=344723&amp;user=25876&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=6" class="addthx" data-post="344723"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]sendersu[/b]','')">sendersu</a></b><br></div>
<img src="img/s8.gif" alt=""><br><span class=txtSm>Ранг: 512.7 (<b>!</b>), 360thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.56'>Активность: 0.27<span style='color:red'>&searr;</span>0.03</span><br>Статус: <a href="action=userinfo&amp;user=14629">Модератор</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 21 июля 2014 22:47 <br><script type="text/javascript">QU('sendersu','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=sendersu" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#7');return false;">#7</a> </span><div align=left><br>
<I>awlost пишет:<br>Может у кого завалялись сырцы pc / pc64 процессорного модуля?  </I><br><br>а они когда-нить шли в исходниках, пардоньте?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=344725&amp;user=14629&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=7" class="addthx" data-post="344725"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]carver[/b]','')">carver</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.1 (посетитель), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.35'>Активность: 0.02=0.02</span><br>Статус: <a href="action=userinfo&amp;user=15794">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2014 00:16 &middot; Поправил: carver <br><script type="text/javascript">QU('carver','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=carver" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#8');return false;">#8</a> </span><div align=left><br>
подскажите, есть ли какой плагин/скрипт, автоматически делающий в IDA ссылки ?<br>помнится раньше для llvm+ios - был похожий плагин, но там было попроще и потом IDA сама научилась.<br><br>а тут посложнее и ида - пока не умеет.<br><br>сам файл с интернет-рутера:  Linux mifi 3.0.21+ #1 PREEMPT Thu Dec 12 13:02:50 PST 2013 armv7l GNU/Linux<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;STMFD&nbsp;&nbsp;&nbsp;<span class="hl_registr">SP</span><span class="hl_char">!</span><span class="hl_char">,</span>&nbsp;{R4<span class="hl_char">-</span>R6<span class="hl_char">,</span>R11<span class="hl_char">,</span>LR}</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009574</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>ADD</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R11<span class="hl_char">,</span>&nbsp;<span class="hl_registr">SP</span><span class="hl_char">,</span>&nbsp;#0x10</li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009578</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>SUB</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">SP</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">SP</span><span class="hl_char">,</span>&nbsp;#0xAB0</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">0000957C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>SUB</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_registr">SP</span><span class="hl_char">,</span>&nbsp;<span class="hl_registr">SP</span><span class="hl_char">,</span>&nbsp;#4</li><li class="hl_l0">#инициализация&nbsp;#var_AC0</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R0<span class="hl_char">,</span>&nbsp;<span class="hl_char">=</span>unk_4CB68</li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009584</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>STR</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R0<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R11<span class="hl_char">,</span>#var_AC0<span class="hl_char">]</span></li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009588</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R1<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R11<span class="hl_char">,</span>#var_AC0<span class="hl_char">]</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">0000958C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>ADD</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R1<span class="hl_char">,</span>&nbsp;PC<span class="hl_char">,</span>&nbsp;R1</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">00009590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>STR</b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R1<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R11<span class="hl_char">,</span>#var_AC0<span class="hl_char">]</span></li><li class="hl_l0">#&nbsp;и&nbsp;дальше&nbsp;по&nbsp;процедуре<span class="hl_char">,</span>&nbsp;все&nbsp;ссылки&nbsp;типа&nbsp;таких</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000095D0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R3<span class="hl_char">,</span>&nbsp;<span class="hl_char">=</span>0x26C</li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000095D4</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R0<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R11<span class="hl_char">,</span>#var_AC0<span class="hl_char">]</span></li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000095D8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R2<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R0<span class="hl_char">,</span>R3<span class="hl_char">]</span></li>        </ol>
    </div>
</div></div>
<br>хотелось бы в последнем &quot;LDR     R2, [R0,R3]&quot; - что-бы автоматически расчиталось смещение
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345010&amp;user=15794&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=8" class="addthx" data-post="345010"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2014 00:35 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#9');return false;">#9</a> </span><div align=left><br>
стягиваете 6.6 демо, пробуете, если распарсила - значит научилась<br>если нет - то нет
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345015&amp;user=15381&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=9" class="addthx" data-post="345015"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]carver[/b]','')">carver</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.1 (посетитель), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.35'>Активность: 0.02=0.02</span><br>Статус: <a href="action=userinfo&amp;user=15794">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2014 02:49 <br><script type="text/javascript">QU('carver','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=carver" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#10');return false;">#10</a> </span><div align=left><br>
да, именно такое ида пока не умеет. <br><br>в похожих случаях решали скрипами, но я не нашол готового.<br>не уверен что у самого выйдет, даже с алгоритмом, поэтому и спросил.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345021&amp;user=15794&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=10" class="addthx" data-post="345021"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2014 12:38 &middot; Поправил: DenCoder <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#11');return false;">#11</a> </span><div align=left><br>
<b>carver</b><br>Пробовали перед автоанализом убирать галочку explicit RIP-addressing? Оно (эта опция) на последней странице мастера настроек перед анализом <img src="img/smilies/s1.gif" alt=""><br><br><img src="http://i66.fastpic.ru/big/2014/0731/69/842c6ffd1ad8d71974f1827e312fed69.jpg" border="0" align="" alt=""><br><br>Не важно, что там в заголовке MAC OS, главное - принцип. Я любил раньше эту галочку всегда ставить. Можно изменить файл конфига иды, чтобы она всегда там стояла. Но вот при реверсе именно ARM v6 - v7 эта галочка оказалась лишней. И без неё появляется больше ссылок <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=345030&amp;user=24257&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=11" class="addthx" data-post="345030"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=15794" title="31-07-2014 20:05, ранг:21.8" target="_blank">carver</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]carver[/b]','')">carver</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.1 (посетитель), 1thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.35'>Активность: 0.02=0.02</span><br>Статус: <a href="action=userinfo&amp;user=15794">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2014 00:25 &middot; Поправил: carver <br><script type="text/javascript">QU('carver','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=carver" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#12');return false;">#12</a> </span><div align=left><br>
в арме такой опции нет, но спасибо. запомню для интелов.<br><br>у меня, скореее в *.so линукса, оказалось что все упрошается до <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000095D0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R3<span class="hl_char">,</span>&nbsp;<span class="hl_char">=</span>0x26C</li><li class="hl_l1"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000095D4</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R0<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R11<span class="hl_char">,</span>#var_AC0<span class="hl_char">]</span>&nbsp;<span class="hl_comment">; var_бла-бла - всегда один адресс</span></li><li class="hl_l0"><span class="hl_char">.</span>text<span class="hl_char">:</span><span class="hl_number">000095D8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R2<span class="hl_char">,</span>&nbsp;<span class="hl_char">[</span>R0<span class="hl_char">,</span>R3<span class="hl_char">]</span></li>        </ol>
    </div>
</div></div>
<br><br>тут я и сам наверное какой-то простой скрипт напишу, <br>шоб по нахжтию кнопки, поправить ссылки, и руками  в нескоких процедурах нажму кнопку.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345071&amp;user=15794&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=12" class="addthx" data-post="345071"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]BoRoV[/b]','')">BoRoV</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/15500.jpg" alt=""><br><span class=txtSm>Ранг: 533.6 (<b>!</b>), 232thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.41'>Активность: 0.45<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=15500">Uploader</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2014 11:50 &middot; Поправил: BoRoV <br><script type="text/javascript">QU('BoRoV','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=BoRoV" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#13');return false;">#13</a> </span><div align=left><br>
<b>HexRaysCodeXplorer v1.2</b><br>- Bug fixes<br>- Added support for IDA v6.6 and Hex-Rays Decompiler (x86) v2.0<br><noindex><a href="https://github.com/REhints/HexRaysCodeXplorer/releases/tag/1.2" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex><br><br>Версию 2.0 выпустят в октябре и презентуют на конференции H2HC <noindex><a href="http://rehints.com/2014-07-31-HexRaysCodeXplorer%20v1.2%20released.%20What%20the%20next.html" rel="nofollow" target="_blank">--&gt; Link &lt;--</a></noindex>
<br><br><font size="1"><i>-----<br>Лучше быть одиноким, но свободным © $me</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=345081&amp;user=15500&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=13" class="addthx" data-post="345081"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]unknownproject[/b]','')">unknownproject</a></b><br></div>
<img src="img/s4.gif" alt=""><br><span class=txtSm>Ранг: 95.1 (постоянный), 247thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.52'>Активность: 0.26<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=27422">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2014 13:22 <br><script type="text/javascript">QU('unknownproject','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=unknownproject" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#14');return false;">#14</a> </span><div align=left><br>
<I>BoRoV пишет:<br>Версию 2.0 выпустят в октябре и презентуют на конференции H2HC --&gt; Link &lt;-- </I><br>Ну и е...рожи <img src="img/smilies/s5.gif" alt="">трушные программеры.
<br><br><font size="1"><i>-----<br>TEST YOUR MIGHT</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=345086&amp;user=27422&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=14" class="addthx" data-post="345086"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]awlost[/b]','')">awlost</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.8 (посетитель), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.01'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=25876">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2014 16:38 &middot; Поправил: awlost <br><script type="text/javascript">QU('awlost','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=awlost" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#15');return false;">#15</a> </span><div align=left><br>
хм хм нашел &quot;баг&quot;, точнее не нашел вот что:<br>в lines.hpp есть:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>int</b></span>&nbsp;gen_labeled_line<span class="hl_char">(</span>ea_t&nbsp;ea<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_function"><b>int</b></span>&nbsp;gen_lname_line<span class="hl_char">(</span>ea_t&nbsp;ea<span class="hl_char">,</span>&nbsp;bool&nbsp;make_null<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>а в lib эти функции отсутствуют.<br>в 6.1 и в 6.5 сдк<br>Может называются как-то иначе. Кто-нибудь в курсе?<br><br>add:<br>Сам спрошу и сам отвечу:<br>ф-ии не экспортируемые (нету спецификатора ida_export)<br><br>add2:<br>может понадобится кому<br>.text:10073A60 - int gen_lname_line(ea_t ea, bool make_null) в ida.wll от .6.1.110315
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345099&amp;user=25876&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=15" class="addthx" data-post="345099"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 221thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 августа 2014 14:58 <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#16');return false;">#16</a> </span><div align=left><br>
<I>carver пишет:<br>в арме такой опции нет </I><br>Да, точно, для бинарей от некоторых процессоров не сделали...<br><br>Для <b>не-бинарей</b> - MACH-O, ARM есть.<br>Для <b>бинарей</b>, Intel есть.<br>...<br><br>И опцию эту относят то туда, то сюда... Бардак какой-то с опциями получается <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=345125&amp;user=24257&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=16" class="addthx" data-post="345125"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]litecoiner[/b]','')">litecoiner</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 5.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.01'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=37709">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 августа 2014 03:09 <br><script type="text/javascript">QU('litecoiner','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=litecoiner" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#17');return false;">#17</a> </span><div align=left><br>
как с помощью idaapi во время дебага получить unicode строку, указатель на которую находится в регистре?<br><br>Пробую что-то вроде этого<br>getString(GetRegValue(&quot;EAX&quot;), -1, ASCSTR_UNICODE)<br>TypeError: getString() takes exactly 2 arguments (3 given) # в манах 3!<br><br>getString(GetRegValue(&quot;EAX&quot;), -1)<br>TypeError: in method &#039;get_max_ascii_length&#039;, argument 2 of type &#039;int32&#039;
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345246&amp;user=37709&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=17" class="addthx" data-post="345246"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]ZaZa[/b]','')">ZaZa</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/3691.jpg" alt=""><br><span class=txtSm>Ранг: 158.5 (ветеран), 219thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.43'>Активность: 0.12<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=3691">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 августа 2014 04:57 <br><script type="text/javascript">QU('ZaZa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ZaZa" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#18');return false;">#18</a> </span><div align=left><br>
<b>litecoiner</b><br>Может так?<br>r_eax = GetRegValue(&quot;EAX&quot;);<br>ret_string = GetString(DWORD(r_eax), -1, ASCSTR_UNICODE);
<br><br><font size="1"><i>-----<br>One death is a tragedy, one million is a statistic.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=345248&amp;user=3691&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=18" class="addthx" data-post="345248"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]litecoiner[/b]','')">litecoiner</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 5.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 6.01'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=37709">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 07 августа 2014 12:41 <br><script type="text/javascript">QU('litecoiner','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=litecoiner" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#19');return false;">#19</a> </span><div align=left><br>
ZaZa, спасибо, вот так заработало<br>GetString(GetRegValue(&quot;R1&quot;), -1, ASCSTR_UNICODE) (регистр важен)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345253&amp;user=37709&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=19" class="addthx" data-post="345253"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]awlost[/b]','')">awlost</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.8 (посетитель), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.01'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=25876">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 09 августа 2014 12:49 &middot; Поправил: awlost <br><script type="text/javascript">QU('awlost','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=awlost" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#20');return false;">#20</a> </span><div align=left><br>
<I>awlost пишет:<br>Уважаемые гуру скиптов и плагинов, подскажите вот что.Когда у функции есть (указан) тип, т.е. задан в виде<br><br>Code:<br>        BOOL __cdecl Function(void *arg0, void *arg1, int arg2)        <br>    <br><br>то автоанализ, встречая вызов такой функции, помечает ее аргументы на стеке в виде коментариев:<br><br>Code:<br>.text:13028F7C                 jnz     short loc_13028F97.text:13028F7E                 push    0 ; arg2<br>.text:13028F80                 push    0; arg1.text:13028F82                 push    esi; arg0<br>.text:13028F83                 call    Function.text:13028F88                 test    eax, eax </I><br><br>Возвращаясь к вопросу.<br>За расстановку комментариев отвечает ф-ия  set_cmt<br>А непосредственно анализ &quot;ГДЕ&quot; - apply_callee_type(...)<br><br>PS.<br>Ничего магического в apply_callee_type нет.<br>Анализ изменения стека и/или анализ аргументов в регистрах
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345322&amp;user=25876&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=20" class="addthx" data-post="345322"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]Vintersorg[/b]','')">Vintersorg</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 15.5 (новичок), 6thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.75'>Активность: 0.01=0.01</span><br>Статус: <a href="action=userinfo&amp;user=7090">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 августа 2014 16:19 <br><script type="text/javascript">QU('Vintersorg','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Vintersorg" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#21');return false;">#21</a> </span><div align=left><br>
Ковыряю экзешник древней досовской игрушки, написанной на Turbo C. Модель памяти - Compact, т.е. множество сегментов кода, но один сегмент данных. Ида, выстраивая стек в функциях, принимающих указатели на данные, ближние указатели трактует как дальние, получается фигня. Выбор соответствующей модели памяти в Options -&gt; Compiler ни на что не влияет. В Ида 6.1 выкручивался, жмакая Y, указывая в прототипе функции указатели как near и правя стек руками. В 6.5 правка прототипа вообще не приводит ни к каким изменениям в стеке функции. Может я что-то не так делаю?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345461&amp;user=7090&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=21" class="addthx" data-post="345461"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]awlost[/b]','')">awlost</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.8 (посетитель), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.01'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=25876">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 14 августа 2014 17:13 &middot; Поправил: awlost <br><script type="text/javascript">QU('awlost','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=awlost" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#22');return false;">#22</a> </span><div align=left><br>
Глюкалово какое-то с этой 6.5<br><br>1<br>экспортируем inc:<br>Writing include file D:\ida.inc<br>Assembler include file has been created, total 0 lines.<br><br>2<br>в &quot;заголовок&quot; листинга не добавляется include ida.inc (возможно как раз из-за 0 lines)<br><br>3<br>экспортируем asm<br>все структуры, что должны быть в inc, все прям с начала файла, еще &quot;до шапки&quot;<br><br>Решается конечно скриптом (или плагином) но как-то все равно осадочек есть
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345464&amp;user=25876&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=22" class="addthx" data-post="345464"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]microxa[/b]','')">microxa</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.8 (посетитель), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.79'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=30317">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 августа 2014 21:12 &middot; Поправил: microxa <br><script type="text/javascript">QU('microxa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=microxa" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#23');return false;">#23</a> </span><div align=left><br>
ребят, и всетоке больной вопрос чем всетоки сгребать ASMъ c иды обратно таки в бинарь? а то ток две тулзы после некоторых правок собирают tasm32, и ML ехе (в опции совместимости с masm5.1), ток они  оба глючат если файлики больше метра. воткомовским wasm- еще мог собирать но чет всё глючно.<br><br><br>в принципе как попривык, с иды на тасм, обджик потом вконпилировать в дельфу. и уж потом если все хорошо отработает по частям на дельфеассемблер оформлять. К примеру диелелка от секретного драйверка реалтек ASIO, что для рилтаймового ввода вывода звука. кому если интересно <br><noindex><a href="--&gt; http://pastebin.com/K1JeZEXi &lt;--" rel="nofollow" target="_blank">--&gt; http://pastebin.com/K1JeZEXi &lt;--</a></noindex>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345514&amp;user=30317&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=23" class="addthx" data-post="345514"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]maximrouf[/b]','')">maximrouf</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.2 (гость), 4thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 5.89'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=37917">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 19 августа 2014 14:52 &middot; Поправил: maximrouf <br><script type="text/javascript">QU('maximrouf','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=maximrouf" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#24');return false;">#24</a> </span><div align=left><br>
Вопрос снят.<br>*удалил библиотеку, нашел точку по ошибке доступа*<br><br><i class=x>Вопрос новичка.<br>Я присоединяюсь к процессу с помощью IDA 6.5 (т.е. к запущенному приложению) и работаю с ним.<br>В некоторый момент времени загружается dll которой не было на момент присоединения.<br>Мне надо установить точку остановки в самом начале загрузки этой библиотеки.<br><br>Какие у меня сложности – Условий для вызова этой библиотеки сотни. Я не могу повесить остановку на каждое такое условие.<br><br>Что у меня есть – имя этой библиотеки и возможность ее редактирования в отдельном окне Иды.<br>Есть ли у Иды инструмент или настройка, которая может сделать остановку или паузу во время загрузки dll?<br>Спасибо.</i>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345580&amp;user=37917&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=24" class="addthx" data-post="345580"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]awlost[/b]','')">awlost</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 33.8 (посетитель), 11thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.01'>Активность: 0.02<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=25876">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 19 августа 2014 16:46 <br><script type="text/javascript">QU('awlost','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=awlost" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#25');return false;">#25</a> </span><div align=left><br>
<I>maximrouf пишет:<br>Есть ли у Иды инструмент или настройка, которая может сделать остановку или паузу во время загрузки dll? </I><br>Debugger -&gt; Debugger setup -&gt; Suspend on library load/unload<br>удачи
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345581&amp;user=25876&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=25" class="addthx" data-post="345581"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]microxa[/b]','')">microxa</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.8 (посетитель), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.79'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=30317">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 20 августа 2014 12:34 &middot; Поправил: microxa <br><script type="text/javascript">QU('microxa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=microxa" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#26');return false;">#26</a> </span><div align=left><br>
Еще раз перечитал труды комрада <b>Erfaren</b>, но не могу сказать что такой путь &quot;пиления гирь, ножовочным полотном&quot; мне подходит...<br><br>добавлю пять копеек относительно быстрой сборки библ для MS-линкера (для не тяжелых случаев сборки MASM-ом): главная фишка состоит в использовании <br>Intel C++ Compiler, с опциями<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">icc&nbsp;<span class="hl_char">/</span>LD&nbsp;<span class="hl_char">/</span>Zl&nbsp;<span class="hl_char">/</span>Gr&nbsp;&nbsp;kernel32<span class="hl_char">.</span>c</li>        </ol>
    </div>
</div></div>
<br><br><br>сишный фейк на kernel32.c (и прочих/прочих по мере надобности), у меня примерно такого содержания <br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">#define&nbsp;begin&nbsp;&nbsp;__declspec<span class="hl_char">(</span>dllexport<span class="hl_char">)</span></li><li class="hl_l1">#define&nbsp;<span class="hl_function"><b>end</b></span>&nbsp;<span class="hl_char">(</span><span class="hl_char">)</span>{}</li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;WideCharToMultiByte&nbsp;</span><span class="hl_function">end</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;GetModuleFileNameA&nbsp;</span><span class="hl_function">end</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;GetModuleHandleA&nbsp;<span class="hl_function">end</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;CreateThread&nbsp;<span class="hl_function">end</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;CreateEventA&nbsp;<span class="hl_function">end</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;GetCurrentProcessId&nbsp;</span><span class="hl_function">end</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;WaitForSingleObject&nbsp;</span><span class="hl_function">end</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;SetEvent&nbsp;<span class="hl_function">end</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;ReleaseMutex&nbsp;<span class="hl_function">end</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_char">.</span><span class="hl_char">.</span><span class="hl_char">.</span></li><li class="hl_l1">&nbsp;</li>        </ol>
    </div>
</div></div>
<br><br><br>ну и более/менее автоматически создаеться либа импорта, с достаточным минимумом телодвижений..<br><br><br>Хоть ML и уделывает TASM32, в корректной пересборке 2.5 метрового tasm32.asm, но что-то &quot;obj&quot; несмотря на опци &quot;-omf&quot; <br>дельфикомпилером не принимаеться ( эх.. а этоже тааакой бубльгум...<br><br><br>п.сЫЫЫ!<br><br> JWASM32 (JWasm v2.12pre, Nov 27 2013, Masm-compatible assembler),  после незначительных правок по соурсу (в основном переправкой &quot;repe&quot; на &quot;rep&quot; ), и с опцией &quot;-Zm&quot; (совместимость с масмом)  пересобрал тасм32.asm, причем 230кб обьектник был легко прожеван DCC32-ым ...  Будем тестить на более сложных тематиках..<br><br>з.зы<br>Сборки средней тяжести (те что с приплюснутым рунтаймом), вроде как полет нормальный, единственное что<br>MS-link не хочет конвертать инвалидный OMF формат, но благо у него выхлоп в COFF имееться...  <br><br><br>JWASM, в релизе v2.11a, доступен с сорцах, на ура пересобираеться CL/ICL (причем быстрее чем он сам компилирует).<br><br>Хотя больше интересовала сборка BCB6-ого (опятьже таки из за его бубльгумистости с дельфой), но чето увы какието лаги <br>(идет из parser.c) на собирании:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">!</span>tasm32<span class="hl_char">.</span>asm<span class="hl_char">(</span><span class="hl_number">330</span><span class="hl_char">)</span>&nbsp;<span class="hl_char">:</span>&nbsp;Error&nbsp;A2048<span class="hl_char">:</span>&nbsp;Operands&nbsp;must&nbsp;be&nbsp;the&nbsp;same&nbsp;size<span class="hl_char">:</span>&nbsp;<span class="hl_number">1</span>&nbsp;<span class="hl_char">-</span>&nbsp;<span class="hl_number">4</span></li>        </ol>
    </div>
</div></div>
<br><br>Такбы вот пофиксить траблу с &quot;repe&quot;, и был бы достаточно &quot;IDA/DCC совместимый&quot; инстрюмент..<br>...<br>добалено:<br>в принципе сорцы довольно логично устроены, за исключением некоторых моментов, но благо хоть  на сишке, поддержка x64/SSE4, за одно это можно всё простить и поиграть в пазл/расследование - &quot;собери это на борланде в миксе с визуалом си&quot;... (цель - конечно захватить парсер/анализатор, и хендлить на несколько более простом и туповатом дельфе, на котором можно и подумать) <br><br>а так в &quot;instruct.h&quot; конец строки 287,  пилится до  AP_REP) //xx)  и...  пилите шура пилите, да компелируйте... <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">@set&nbsp;path<span class="hl_char">=</span>c<span class="hl_char">:</span><span class="hl_char">\</span>vc71<span class="hl_char">\</span>bin<span class="hl_char">\</span></li><li class="hl_l1">@set&nbsp;include<span class="hl_char">=</span>c<span class="hl_char">:</span><span class="hl_char">\</span>vc71<span class="hl_char">\</span>include<span class="hl_char">\</span></li><li class="hl_l0">@set&nbsp;lib<span class="hl_char">=</span>c<span class="hl_char">:</span><span class="hl_char">\</span>vc71<span class="hl_char">\</span>lib<span class="hl_char">\</span></li><li class="hl_l1"><span class="hl_char">:</span><span class="hl_char">:</span>icl&nbsp;<span class="hl_char">-</span>arch<span class="hl_char">:</span>SSE2&nbsp;<span class="hl_char">-</span>Ot&nbsp;<span class="hl_char">-</span><span class="hl_quote">I&quot;.\H&quot;</span>&nbsp;<span class="hl_char">-</span>O2&nbsp;<span class="hl_char">-</span><span class="hl_registr"><b>Gs</b></span>&nbsp;<span class="hl_char">-</span>DNDEBUG&nbsp;<span class="hl_char">*</span><span class="hl_char">.</span>c&nbsp;<span class="hl_char">-</span>link&nbsp;<span class="hl_char">-</span><span class="hl_function">out</span><span class="hl_char">:</span>jwasm<span class="hl_char">.</span>exe</li><li class="hl_l0"><span class="hl_registr"><b>cl</b></span>&nbsp;<span class="hl_char">-</span>arch<span class="hl_char">:</span>SSE&nbsp;<span class="hl_char">-</span>Os&nbsp;<span class="hl_char">-</span><span class="hl_quote">I&quot;.\H&quot;</span>&nbsp;<span class="hl_char">-</span>O2&nbsp;<span class="hl_char">-</span><span class="hl_registr"><b>Gs</b></span>&nbsp;<span class="hl_char">-</span>DNDEBUG&nbsp;<span class="hl_char">*</span><span class="hl_char">.</span>c&nbsp;<span class="hl_char">-</span>link&nbsp;<span class="hl_char">-</span><span class="hl_function">out</span><span class="hl_char">:</span>jwasm<span class="hl_char">.</span>exe</li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=345607&amp;user=30317&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=26" class="addthx" data-post="345607"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]microxa[/b]','')">microxa</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.8 (посетитель), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.79'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=30317">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 августа 2014 17:57 &middot; Поправил: microxa <br><script type="text/javascript">QU('microxa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=microxa" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#27');return false;">#27</a> </span><div align=left><br>
хм.. по крайней мере до 2.0х версий, а именно форк 1.96, борделяндом /компилировался/и компилировал, но  движок там еще старый и больной -_-  (как раз с ужосом вспомнил про косяки от (с)ваткома)...<br><br>А допиленый энтузиастом квэйка2 в досе, движок 2.12 таки осилил сборку 7метров DCC32 от 7рки..Ну в качестве теста... и мда.. , в источнике зла, конкретно 6.1 -ой иде пришлось вырубить тилы и сиги, чтоб был этакий RAW - ASM. и мда.. всетаки ждать чтото там овер 10секунд сборки (хоть и первый проход довольно быстрый), както муторно,. за это время пропадает смысл в творимой алхимии. Но в принципе хоть чтото чем.. хрен его знает чего. Такто вот разборок хватает и с миниатюрами, где во истену познаецо  суть того, что нет такой программы (или участка участка кода на асме), которую нельзя былобы сократить,  оптимизировать, или занопить.<br><br>p.s<br><br>в ходе увлекательного,  эротического приключения в поисках баги: а именно - обьектник &quot;parser.c&quot; с VC7 конвертился ida6.1 -&gt; далее некоторые поправки (в основном это .code/.data и bla-bla по мелочи)-&gt;сборка тасм32-ым, далее скормление уже &quot;omf&quot; обьектника BCB6 ,была установлена аццкая глючность версии 6.1 котороая прохлопала торчащие из COFF-а имена и обьявы, (а именно - &quot;check_size&quot;), соответствено был нагорожен глюканат в по асму. <strike>Посему версия 6.1 не может более применяцо в качестве проффесионального инстрюмента.. ( </strike><br><br>Ну и.. <br><br>отстрелом с подменой кучки функций с asm образца и обратно... выявился<br>достаточно тривиальный корень зла в inttype.h, &quot;long&quot; у буилдера мутный <br>это решилось:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>typedef&nbsp;unsigned&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint_32<span class="hl_comment">;</span></li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">/</span>typedef&nbsp;&nbsp;&nbsp;signed&nbsp;long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int_32<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">typedef&nbsp;unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;uint_32<span class="hl_comment">;</span></li><li class="hl_l0">typedef&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;int_32<span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>получено достаточно ясное представление и о парсере, и о bcb6 который чутли не в полтора/два раза <br>сливает по скорости cl/icl с мега-оптимайзами, и о том что.. вот нафига оно было надо..<br><br>ммм... разбор полетов:<br>В целом-то, результат оценивался как сомнительный - ведь parser.c имеет обьем кода аж 137кил, (~260кил в асме), даже то что всё срослось с буилдером, на стадии линковки, можно было считать разве что &quot;финтом ушами&quot; - первый блин вышел комом, однако после установки размера вырванивания данных на 8 байт (дефолтная у VC), всё пришло в полнофункциональную норму...<br><br>А причина &quot;глюка в 6.1&quot; больше была связана, как с &quot;улучшеной&quot; оптимизацией (arch:SSE) vc71 компилятора, так и с тем  как он создает coff-обьектники (которые к примеру, ламповый VC98 считает инвалидными), так что абсолютно некритичный глюк, скорей недооценка других вариантов сборок, с которыми всё  вполне приемлимо. (куда неприемлемей менять олдскульный vcl-шный, ынтерфейс, (в силу привычки, предвзятости, и кой каких наработок еще под 5.2-ую)  )
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345695&amp;user=30317&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=27" class="addthx" data-post="345695"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]microxa[/b]','')">microxa</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 27.8 (посетитель), 13thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 8.79'>Активность: 0.03<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=30317">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 25 августа 2014 06:37 &middot; Поправил: microxa <br><script type="text/javascript">QU('microxa','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=microxa" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#28');return false;">#28</a> </span><div align=left><br>
ндэ.. а плагинчик CodeXplorer v1.1 (по крайней мере, совпадающий с импортом на ida.wll (v6.3)) чтото не хочет запускацо, странно.. по крайней мере, каких то особых requires нету. да  версия IDP_INTERFACE_VERSION = 4С (76) <br>(трабла периодически решаецо, так как.. ну как так? )... <br><br>максимум что можно было сделать -  внести магическую поправочку под hexrays_sdk6.1 (вместо <br>обьявленого 0xBE39BABE, по всей видимости рейза1.8/c 6.4 релиза да)<br><br>const int HEXRAYS_API_MAGIC1 = 0xC001C0DE;<br>const int HEXRAYS_API_MAGIC2 = 0xBE36BABE; // xxNNxxxx<br><br><br>ну и таки оно завелось, по крайней мере в Output window<br><br>Hex-rays version 1.5.0.110408 has been detected, HexRaysCodeXplorer ready to use<br>HexRaysCodeXplorer plugin by @REhints loaded.<br><br>правда, на вызов контекста правой кнопкой мыши - <br>IDA has encountered a problem, и вылет с плиз репорт, да...<br><br>/me промолчит про попытку сборки bcb6/vc7/и какбы линупсовым, mingw32, собиравшим помницо куда более  крутые тематики (он обарал хидеры)<br>./sdk63/kernwin.hpp:2885: error: ISO C++ forbids casting between pointer-to-func<br>tion and pointer-to-object<br>Однако!!!:  после того как cpp файлы и заголовочники были переформатированы с юниксного конца строки на виндовый...<br>cl -c -I&quot;.\sdk63&quot; -D__NT__ -D__IDP__ -DWIN32 -DNDEBUG /EHsc CodeXplorer.cpp<br>по крайней мере с этим - компиль даже не пискнул...<br>Остальное связано с нововведенными типами данных в sdk6.4<br>нормально...<br>и bcb6 тоже комплит (хоть и через шквал варнингов) <br>#if defined(DONT_DEPRECATE) || defined(__BORLANDC__)<br>#undef NORETURN &lt;- если впихнуть это<br>#define NORETURN <br>...мож пригодицо<br><br>ехехе:<br>собралось то оно конечно собралось (просто надо было откопать версию 1.1), и даже есть добавка в всплывающее контектст-меню, хоткеев и прочих действ, но путем некоторых исправлений, весьма вызывающей манеры написания плюсов &quot;под VS2010-ый шизуал&quot;... Результат - вылет, да и ладно.<br><br>В качестве примера пойдет, однако невменяемый уровень кодинга, не позволяет рассматривать даную свистоперделку в качестве подспорья в надежных инструментальных средствах для профессионального реверсинжиниринга.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=345818&amp;user=30317&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=28" class="addthx" data-post="345818"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]DumaZik[/b]','')">DumaZik</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 5.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 5.9'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=37904">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 августа 2014 17:31 <br><script type="text/javascript">QU('DumaZik','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DumaZik" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#29');return false;">#29</a> </span><div align=left><br>
кто нибудь знает решение данной проблемы? ida 6.5<br><br><img src="img/attach.gif" alt=""> <a href="./files/380e_30.08.2014_EXELAB.rU.tgz">380e_30.08.2014_EXELAB.rU.tgz</a> - error.jpg
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=346026&amp;user=37904&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=29" class="addthx" data-post="346026"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 августа 2014 17:48 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#30');return false;">#30</a> </span><div align=left><br>
база Idb создана для 16 бит, а запущенный процесс к которому база - 32 бита,<br>я хз как вы такого добились, да еще и для арма<br>когда объясните что вы так и как делаете, может мысли у кого какие и появятся
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=346027&amp;user=15381&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=30" class="addthx" data-post="346027"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="31" onfocus="this.blur()" href="JavaScript:di('[b]DumaZik[/b]','')">DumaZik</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 5.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 5.9'>Активность: 0=0</span><br>Статус: <a href="action=userinfo&amp;user=37904">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 августа 2014 19:23 &middot; Поправил: DumaZik <br><script type="text/javascript">QU('DumaZik','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DumaZik" target="_blank">Личное сообщение</a> &middot;  <a href="#31" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=1&amp;topic=12507&amp;page=34#31');return false;">#31</a> </span><div align=left><br>
Как думаю ошибка заключается в том, что само приложение 32 бита, а почему то ее библиотека 16 бит и вовремя дебага выходит нестыковка. может ida плохо работает с Thumb или Thumb-2<br>использую ida 6.5, android 4.4.2 samsung galaxy s4. кидаю в /data/local/tmp/ два файла android_server и gdbserver. <br>adb push gdbserver /data/local/tmp<br>adb push android_server /data/local/tmp<br><br>пробрасываю на них порты<br>adb forward tcp:5039 tcp:5039<br>adb forward tcp:23946 tcp:23946<br><br>выставляю нужные права<br>adb shell<br>su<br>chmod 755 /data/local/tmp/gdbserver<br>chmod 755 /data/local/tmp/android_server<br><br>запускаю нужное приложение на телефоне, затем запускаю андроид сервер<br>adb shell<br>su<br>/data/local/tmp/andoid_server<br><br>Через Debugger &gt; Attach to &gt; Remote ARM/Android Debugger ищу приложение. Потом ищу нужное мне смещение библиотеки, запоминаю. (к примеру 739FC000)<br><br>Отключаюсь от процесса (Debugger &gt; Detach from process). Процесс на устройстве остается жив.<br>Далее скопировав с apk этого приложения нужную мне библиотеку открываю в ida. Тут выбираю, то что на скрине (уже начал метод перебора разных архитектур, но пока бестолку), затем указываю ранее найденное смещение выбираю, жду как ida проанализирует. После дебагинг через gdbserver и связываю через порт 5039 (ранее открытый), затем attach to process и все кирдык ошибка.<br><br><br><br><img src="img/attach.gif" alt=""> <a href="./files/7faf_30.08.2014_EXELAB.rU.tgz">7faf_30.08.2014_EXELAB.rU.tgz</a> - 111.jpg
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=346032&amp;user=37904&amp;forum_n=1&amp;topic=12507&amp;page=34&amp;anchor=31" class="addthx" data-post="346032"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=33.html">&lt;&lt;</a> <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=0.html">1</a> ... <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=26.html">27</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=27.html">28</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=28.html">29</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=29.html">30</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=30.html">31</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=31.html">32</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=32.html">33</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=33.html">34</a> . <b>35</b> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=35.html">36</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=36.html">37</a> ... <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=49.html">50</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=50.html">51</a> . <a href="action=vthread&amp;forum=1&amp;topic=12507&amp;page=35.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/green.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=1&sortBy=0&page=0.html"><b>Основной форум</b></a> <b class=bulletHead>&#8212;&#8250;</b> Использование IDA Pro</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=12507" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
