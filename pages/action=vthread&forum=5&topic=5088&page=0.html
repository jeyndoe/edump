<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Loader - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Вопрос: У меня есть очень клевенькая игрушка Street War (Constructor Underground). Дело в том, что выпустили её ещё в эпоху 95ых... есть лоадер, который что-то загружает в памяти и игрушка запускается на русском... в директории">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=26261'>bartolomeo</a> (+4 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Loader</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]SniperOK[/b]','')">SniperOK</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 38.7 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4895">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 мая 2006 16:33 <br><script type="text/javascript">QU('SniperOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SniperOK" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Вопрос: У меня есть очень клевенькая игрушка Street War (Constructor Underground). Дело в том, что выпустили её ещё в эпоху 95ых... есть лоадер, который что-то загружает в памяти и игрушка запускается на русском... в директории лежит файлик Text.eng в котором собственно и есть перевод... просто подменить этим файлом аналогичный англицкий не могу, т.к. все запакованно в архивах которые открыть не представляется возможным... А лоадер не запускается под ХР... так вот: можно ли как-то узнать, что он правит??... а то на англицком совсем не то...<br><br><img src="img/attach.gif" alt=""> <a href="./files/f180_31.05.2006_CRACKLAB.rU.tgz">f180_31.05.2006_CRACKLAB.rU.tgz</a> - sw.exe
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=73742&amp;user=4895&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=1" class="addthx" data-post="73742"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]crazyalex[/b]','')">crazyalex</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 46.5 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.2'>Активность: 0.07<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4592">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 мая 2006 19:42 <br><script type="text/javascript">QU('crazyalex','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=crazyalex" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
<I>SniperOK пишет:
<br> все запакованно в архивах которые открыть не представляется возможным. </I>
<br>Почему что за архивы?
<br><I>SniperOK пишет:
<br>А лоадер не запускается под ХР... так вот: можно ли как-то узнать, что он правит??... </I>
<br>Да пишет что не может создать процесс (хотя что ему создавать это ж один лоадер) В нём указывается мол лицензия правильная и чё то ещё
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=73782&amp;user=4592&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=2" class="addthx" data-post="73782"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июня 2006 09:47 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
Программа пытается создать процесс на основе _sw.exe, вытаскивает из kernel32.dll адреса функций
<br>  LoadLibraryA, GetProcAddress  Затем с их помощью  грузит   patch.dll   и  извлекает  из нее  адрес
<br> процедуры  InitPatch и начинает править память процесса : ReadProcessMemory/WriteProcessMemory
<br>  Далее следует ResumeThread и вызов подпрограммы. Можно еще чуть-чуть понять, но без  patch.dll  и  _sw.exe - это мартышкин труд <img src="img/smilies/s14.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=73863&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=3" class="addthx" data-post="73863"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]SniperOK[/b]','')">SniperOK</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 38.7 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4895">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 июня 2006 17:09 <br><script type="text/javascript">QU('SniperOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SniperOK" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<I>crazyalex пишет:
<br>patch.dll и _sw.exe </I>
<br>
<br>540 кб в архиве... че то я туплю... сорри =)
<br>rapidshare.de/files/21932716/Street_Wars.rar.html
<br>
<br><I>crazyalex пишет:
<br>Почему что за архивы?  </I>
<br>
<br>некие .fil
<br>даже не знаю что это...  да и пираты видать тоже не знали раз патч сделали =)))
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=73994&amp;user=4895&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=4" class="addthx" data-post="73994"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 июня 2006 11:21 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>SniperOK</b>
<br>  Два вопроса есть:
<br>1) Под 95-м(98) это работает ?!
<br>2) Не мешало бы список файлов выложить. Кое-что я уже достал, но теперь прога  _sw.exe  после манипуляций с ее памятью и ResumeThread  вылетает. И непонятно - то ли ей чего-то нехватает, то ли надо запускать под 98-м.
<br>===============
<br>  И есть вопрос к спецам.  Как подхватить в олли  второй процесс, который по ResumeThread запускается.
<br>Дело в том, что создается второй процесс( несмотря на название функции), а второй олли поцепить его можно уже после ошибки. Правда есть идея запустить его еще раз или с точки входа, но это все неправильно...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74554&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=5" class="addthx" data-post="74554"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 июня 2006 13:27 &middot; Поправил: PE_Kill <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Вообще официально ставишь бряк на тред (взять из КреатеТред(клава сдохла)). Запускаешь. Когда тред начнет работать, твой бряк отклинется. НО! В олли написано, что если ты хочешь отлаживать только один тред, то надо юзать ЮзерТрассировку. В общем читай мануал по олле (хотя я и без мануала нормально треды трассирую). Есть такое окно !Треды! (кде клава?!..) там можешь заморозить все треды, кроме интересующего (или кильнуть) и отлаживыть только его. Мне протев ЭгзеКриптора (твою мать ну где же клава) очень помогает...
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=74578&amp;user=3232&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=6" class="addthx" data-post="74578"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]SniperOK[/b]','')">SniperOK</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 38.7 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4895">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 июня 2006 15:34 <br><script type="text/javascript">QU('SniperOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SniperOK" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>tundra37 пишет:
<br>Под 95-м(98) это работает ?!  </I>
<br>Прекрасно работает...
<br>
<br><I>tundra37 пишет:
<br>Не мешало бы список файлов выложить. Кое-что я уже достал, но теперь прога _sw.exe после манипуляций с ее памятью и ResumeThread вылетает. И непонятно - то ли ей чего-то нехватает, то ли надо запуска </I>
<br>список того, что в директории...
<br>
<br>&#92;DATA&#92;DATA.FIL
<br>&#92;FLICS&#92;DATA.FIL
<br>&#92;GFX&#92;DATA.fil
<br>&#92;PALETTES&#92; дребедень к делу не относящаяся...
<br>&#92;SETTINGS&#92; пара конфигов с настройками типа инсталл паз и т.п. ничего вразумительного
<br>&#92;SFX&#92;ENG&#92;DATA.FIL - вот в этот архив если поместить текст.енг все заработает на русском скорее всего...
<br>&#92;SFX&#92;DATA.fil
<br>&#92;_sw.exe
<br>&#92;arial.fnt
<br>&#92;CMS16.DLL
<br>&#92;cms32_98.dll
<br>&#92;CMS32_NT.DLL
<br>&#92;micra.fnt
<br>&#92;mss16.dll
<br>&#92;mss32.dll
<br>&#92;mssb16.tsk - hmm...
<br>&#92;patch.dll
<br>&#92;SETUPREG.exe
<br>&#92;SMACKW32.dll
<br>&#92;sw.exe
<br>&#92;sw.idb - hmm...
<br>&#92;text.eng - собственно то, чем и заменяется оригинальный текст.енг
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74607&amp;user=4895&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=7" class="addthx" data-post="74607"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 июня 2006 15:57 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
Ситуация такая : скачал игру(английскую). Под 2000-м русификатор естественно вылетает. 
<br>Под 98-м русификатор запускает игру, но т.к. нужных файлов нет, то накрывается.
<br>  Точно нужны файлы :    arial.fnt micra.fnt (эти имена есть внутри русификатора) и  text.eng
<br>
<br>  Желательно  cms32_98.dll (в моей 95) и может пригодится  sw.idb.
<br>
<br>  Русификатор звука есть здесь :
<br>zoneofgames.ru/index.php/gb/game/506
<br>
<br><I>SniperOK пишет:
<br>Прекрасно работает... </I>
<br>  Тогда подозрение на неправильно работающие  ReadProcessMemory/WriteProcessMemory ,
<br>точнее наверно параметры разные у них в NT и 98. Копай в этом направлении.
<br>  Возможно, когда получу файлы, то больше смогу сказать.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74612&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=8" class="addthx" data-post="74612"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]SniperOK[/b]','')">SniperOK</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 38.7 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4895">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 июня 2006 18:51 <br><script type="text/javascript">QU('SniperOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SniperOK" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
вот все, что есть в директории кроме _sw.exe и sw.exe
<br>rapidshare.de/files/22105327/SWFiles.rar.html
<br>у меня была пиратка уже и со звуком и с текстом...
<br>
<br><I>tundra37 пишет:
<br>Тогда подозрение на неправильно работающие ReadProcessMemory/WriteProcessMemory </I>
<br>
<br>я пытался понять, что они делают, но нифига =)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74654&amp;user=4895&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=9" class="addthx" data-post="74654"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 июня 2006 10:02 &middot; Поправил: tundra37 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>SniperOK пишет:
<br>я пытался понять, что они делают </I>
<br> Это функции для чтения и записи памяти &quot;чужого&quot; процесса - внешний патчер. Применяются в loader-ах.
<br>  Поищем по форуму и Интернет-у насчет их особенностей в 98-м.
<br><I>SniperOK пишет:
<br>у меня была пиратка уже и со звуком и с текстом...  </I>
<br> Ну звук значит уже загнали в data.fil   Скорее всего и тексты там же. А loader  просто  защиту снимает и проверки по CRC  для файлов ресурсов.
<br>+++++++++++++++++++++++++
<br> 1) Все подтвердилось : озвучка загнана в data.fil , а вот текст видимо в большом файле - поэтому решили просто пропатчить экзешник. Выставлять напоказ перепаковщик ресурсов пираты не захотели по понятным причинам.
<br>2) Выхода два : подправить алгоритм записи или в 98-м сдампить экзешник и изготовить пропатченный _sw.exe  Кстати можешь просто запустить _sw.exe - озвучка будет русская, а надписи - аглицкие. Проверь играбельность - у меня в 2000-м &quot;задумывается&quot; периодически надолго - играть трудно.
<br>3) У меня оказалась озвучка другая - поэтому, если не трудно, сбрось файл sfx&#92;eng&#92;data.fil  на рапиду
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74773&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=10" class="addthx" data-post="74773"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]SniperOK[/b]','')">SniperOK</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 38.7 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4895">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 июня 2006 14:34 <br><script type="text/javascript">QU('SniperOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SniperOK" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Блин... 12 метров =)) я просто на диал-апе... но я скину... щас денег мало, не успею...
<br>насчет играбельности - поставь совместимость с 98... тормоза прекратились... кса на счет дампа тут я че то не знаю =)) но попробую... без text.eng лоадер не работает... ещё один вариант... может он грузит первые скажем 100 хексов, там где написано: &quot;Original eng file&quot; из text.eng и сравнивает с загруженным оригинальным text.eng из архива... ведь если это архив, то вероятнее всего файл просто лежит в оперативке... может это и есть ReadProcessMemory, а потом правит его на то, что требуется из русского текста командой WriteProcessMemory... может и не так конечно =)
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74805&amp;user=4895&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=11" class="addthx" data-post="74805"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 июня 2006 18:31 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>SniperOK</b>
<br>  Все нормально. Если на диалапе, то не надо - перебьюсь своей озвучкой. А текст можно подогнать.
<br> Короче в NT  лоадер не работает, т.к. надо секцию на запись открывать. Я решил эти не заморачиваться и посмотрел, что там патчится. Лоадер встраивает в экзешник загрузку и вызов  InitPatch  из  patch.dll
<br>и все. Я уже встроил и проверил под олли, теперь никак не могу вспомнить, как секцию расширить <img src="img/smilies/s14.gif" alt="">
<br> Сейчас по форуму поищу и приаттачу другой лоадер <img src="img/smilies/s6.gif" alt=""> - универсальный.
<br>=========================
<br>  В  patch.dll  лежит подмена такого сорта : пропатчена пара вызовов на переходы в patch.dll   Скорее всего просто анализируется, что тащат из data.fil  и когда нужны три файла - их берут русские, а  остальное тащат из data.fil    При случае проверю свою догадку.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74834&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=12" class="addthx" data-post="74834"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 10:22 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
Сделал новую секцию с помощью lordpe и долго и упорно ждал, когда он удлинит экзешник.
<br>Пришлось Winhex применять - или lorpe такого делать не умеет, или я <img src="img/smilies/s16.gif" alt="">.
<br>  С трудом научился делать лодер через dup, но в ем не срабатывает ReadProcessMemory.
<br> Пришлось все-таки остановится на патче. Запускаешь его и потом юзаешь  пропатченный _sw.exe
<br> <br><br><img src="img/attach.gif" alt=""> <a href="./files/22cb_05.06.2006_CRACKLAB.rU.tgz">22cb_05.06.2006_CRACKLAB.rU.tgz</a> - street.wars-patch.exe
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74910&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=13" class="addthx" data-post="74910"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]SniperOK[/b]','')">SniperOK</a></b><br></div>
<img src="img/s3.gif" alt=""><br><span class=txtSm>Ранг: 38.7 (посетитель)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.13'>Активность: 0.02<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4895">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 12:09 <br><script type="text/javascript">QU('SniperOK','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SniperOK" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
Блин! Спасибо тебе огромное... вообще супер помог... а у меня так ничего путного и не вышло... Если что надо - обращайся =)) thx thx thx!!!
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=74950&amp;user=4895&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=14" class="addthx" data-post="74950"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]tundra37[/b]','')">tundra37</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 310.8 (мудрец), 29thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.32'>Активность: 0.43<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=4072">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 июня 2006 15:48 <br><script type="text/javascript">QU('tundra37','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=tundra37" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=5088.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<I>SniperOK пишет:
<br>а у меня так ничего путного и не вышло </I>
<br> Ну во-первых надо было в олли смотреть - там все подписано <img src="img/smilies/s6.gif" alt="">  При вызове  ReadProcessMemory/WriteProcessMemory  параметры расписаны. Конечно опыт мне помог не смотреть &quot;лишние&quot; параметры. Например, сегодня разбираясь с лодером с удивлением увидел непонятный параметр. WriteProcessMemory в неправильном лодере вызывается 3 раза, патчит 6,116 и опять 6  байт.
<br>  6 и 6 - это JUMP приправленные байтом 3 зачем-то. 116 это как раз вызов InitPatch из  pach.dll
<br> Тут конечно помог опыт мучений с олли. Надо высветить буфер в окне памяти и по правой мышке вызвать disassemble.  Т.к. я уже знал что лодер определил адреса функций LoadLibraryA, GetProcAddress , то манипуляции с двумя ячейками были понятны - просто вызов этих функций.  Кроме этого вначале делается патч команды JUMP на точке входа в первоначальное состояние. После моих мучений с лодером я понял его смысл - мне надо добавить JMP на мой патч, а в самом патче восстановить, то что порушил.
<br>  Я же упорно правил PE-заголовок, который уже отработал.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=75100&amp;user=4072&amp;forum_n=5&amp;topic=5088.html&amp;page=0&amp;anchor=15" class="addthx" data-post="75100"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Loader</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#16" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="5088">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=5088" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
