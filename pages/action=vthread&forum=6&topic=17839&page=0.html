<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Подключение дизасма OllyDbg к проекту - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Вопрос простой, основан на моём незнании С. Вот вчера решил к одному проекту прикрутить олькин дизасм, скачанный отсюда: --&gt; Дизасм Двиг &lt;-- Скачал, через #include прилепил заголовочный файл, но пишет, что unresolved">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=26261'>bartolomeo</a>, <a target='_blank' href='?action=userinfo&amp;user=55995'>tyns777</a> (+6 невидимых)</b></span>
</td>
</tr>
</table>

 

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Подключение дизасма OllyDbg к проекту</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 09:58 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Вопрос простой, основан на моём незнании С. Вот вчера решил к одному проекту прикрутить олькин дизасм, скачанный отсюда: <noindex><a href="http://www.ollydbg.de/disasm.zip" rel="nofollow" target="_blank">--&gt; Дизасм Двиг &lt;--</a></noindex><br><br>Скачал, через #include прилепил заголовочный файл, но пишет, что unresolved external symbol на функции дизассемблирования. Блин, как прицепить это добро к проекту?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278319&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=1" class="addthx" data-post="278319"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 10:21 &middot; Поправил: PE_Kill <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Не делай себе проблем, возьми лучше медиану. У меня в одном проекте олькин двиг уже почти 5 лет используется, видел бы ты сколько там костылей вставлено, после процедуры дизасма, что оно работало как надо.<br><br>ЗЫ Кстати у оли двиг заточен под борланд си, там даже где то написано, что если не в нем собираете то могут быть проблемы. С ходу помню что там в исходнике нужно пофиксить функцию Pow что ли, как то так ну и еще 1 фикс, чтобы в студии собралось. Короче даже на этапе сборки геморой.
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278323&amp;user=3232&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=2" class="addthx" data-post="278323"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 10:25 &middot; Поправил: ARCHANGEL <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>PE_Kill</b><br>Это было моей первой идеей, но блин (о мои кривые руки) там та же проблема!<br><br><i class=x> Кстати у оли двиг заточен под борланд си, там даже где то написано, что если не в нем собираете то могут быть проблемы. С ходу помню что там в исходнике нужно пофиксить функцию Pow что ли, как то так ну и еще 1 фикс, чтобы в студии собралось. Короче даже на этапе сборки геморой.</i><br><br>Да, в хэлпе есть такое. Вначале я начал собирать - выскочила какая-то ошибка, правда, связанная с тем, что символ какой-то был дважды определён. Я потёр одно определение (#define), и оно норм компилится, пока код функции какой-нибудь не вызываю. Т.е. когда, собственно, надо компилироваться, то оно не компилится<img src="img/smilies/s4.gif" alt="">
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278324&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=3" class="addthx" data-post="278324"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 10:32 <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Ну с ходу:<br><br>В заголовке нужно закоментить<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>#if&nbsp;<span class="hl_char">(</span><span class="hl_function">char</span><span class="hl_char">)</span>0xFF<span class="hl_char">!</span><span class="hl_char">=</span><span class="hl_number">255</span></li><li class="hl_l1"><span class="hl_char">/</span><span class="hl_char">/</span>#error&nbsp;Please&nbsp;set&nbsp;default&nbsp;<span class="hl_function"><b>char</b></span>&nbsp;type&nbsp;to&nbsp;unsigned</li><li class="hl_l0"><span class="hl_char">/</span><span class="hl_char">/</span>#endif</li>        </ol>
    </div>
</div></div>
<br><br>В ассемблере вставить функу<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_function"><b>double</b></span>&nbsp;pow10l<span class="hl_char">(</span>&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;e&nbsp;<span class="hl_char">)</span></li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;pow<span class="hl_char">(</span>&nbsp;<span class="hl_char">(</span><span class="hl_function">double</span><span class="hl_char">)</span>&nbsp;<span class="hl_number">10</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">(</span><span class="hl_function">int</span><span class="hl_char">)</span>&nbsp;e<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">}</li>        </ol>
    </div>
</div></div>
<br><br>Вызывается она вот тут<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span><span class="hl_char">!</span>isdigit<span class="hl_char">(</span><span class="hl_char">*</span>asmcmd<span class="hl_char">)</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;asmerror<span class="hl_char">=</span><span class="hl_quote">&quot;Invalid exponent&quot;</span><span class="hl_comment">; scan=SCAN_ERR; return; };</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal<span class="hl_char">=</span><span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>while</b></span>&nbsp;<span class="hl_char">(</span>isdigit<span class="hl_char">(</span><span class="hl_char">*</span>asmcmd<span class="hl_char">)</span><span class="hl_char">)</span>&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>decimal<span class="hl_char">&lt;</span>65536L<span class="hl_char">)</span>&nbsp;decimal<span class="hl_char">=</span>decimal<span class="hl_char">*</span><span class="hl_number">10</span><span class="hl_char">+</span><span class="hl_char">(</span><span class="hl_char">*</span>asmcmd<span class="hl_char">+</span><span class="hl_char">+</span><span class="hl_char">)</span><span class="hl_char">-</span><span class="hl_quote">'0'</span><span class="hl_comment">; };</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;floating<span class="hl_char">*</span><span class="hl_char">=</span>pow10l<span class="hl_char">(</span>decimal<span class="hl_char">*</span>base<span class="hl_char">)</span><span class="hl_comment">; };</span></li>        </ol>
    </div>
</div></div>
<br><br>Не помню надо там еще что нет, столько времени прошло.
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278325&amp;user=3232&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=4" class="addthx" data-post="278325"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 10:37 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>PE_Kill</b><br>Спасибо, конечно, но тут вопрос в другом. Допустим, у меня есть вообще левый проект с заголовком и файлами с кодом (.h + .c/.cpp) Как это дело правильно приинклудить? В гугле только аналогичные вопросы без ответов.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278326&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=5" class="addthx" data-post="278326"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]OKOB[/b]','')">OKOB</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6801.png" alt=""><br><span class=txtSm>Ранг: 527.7 (<b>!</b>), 381thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.78'>Активность: 0.16<span style='color:red'>&searr;</span>0.09</span><br>Статус: <a href="action=userinfo&amp;user=6801">Участник</a><br><font color=blue><font color=red>Победитель турнира 2010</font></font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 11:07 &middot; Поправил: OKOB <br><script type="text/javascript">QU('OKOB','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=OKOB" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>ARCHANGEL пишет:<br>unresolved external symbol</I><br><br>Видимо проблема как всегда в таких случаях связана с декорированием имен, и проявляется при подключении С-шного кода в С++ (даже когда прога без ООП).<br>Лечится вставкой перед объявлениями функций в заголовочном файле &quot;extern C&quot; (или перед кажым или группа)<br><br>extern &quot;C&quot;<br>{<br><br>int    Assemble(char *cmd,ulong ip,t_asmmodel *model,int attempt,<br>         int constsize,char *errtext);<br>int    Checkcondition(int code,ulong flags);<br>int    Decodeaddress(ulong addr,char *symb,int nsymb,char *comment);<br>ulong  Disasm(char *src,ulong srcsize,ulong srcip,<br>         t_disasm *disasm,int disasmmode);<br>ulong  Disassembleback(char *block,ulong base,ulong size,ulong ip,int n);<br>ulong  Disassembleforward(char *block,ulong base,ulong size,ulong ip,int n);<br>int    Isfilling(ulong addr,char *data,ulong size,ulong align);<br>int    Print3dnow(char *s,char *f);<br>int    Printfloat10(char *s,long double ext);<br>int    Printfloat4(char *s,float f);<br>int    Printfloat8(char *s,double d);<br><br>}
<br><br><font size="1"><i>-----<br>127.0.0.1, sweet 127.0.0.1</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278334&amp;user=6801&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=6" class="addthx" data-post="278334"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 222thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 11:12 &middot; Поправил: DenCoder <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<I>ARCHANGEL пишет:<br>но пишет, что unresolved external symbol на функции дизассемблирования </I><br>Возможные варианты, с которыми сталкивался:<br>1) нет файла .lib для импорта или в Project Properties\Linker\Input\Additional dependencies не указан файл .lib<br>2) в заголовке для функции пропущен спецификатор типа __declspec(dllimport)<br>3) не указана концвенция (__stdcall, __cdecl, __fastcall), в результате по дефолту программа пытается привязаться к функциям как к __cdecl, а они объявлены __stdcall в .lib<br>4) Число и/или тип аргументов и/или тип возвращаемого значения функции в заголовке не соответствует(-ют) объявленным в .lib<br><br>P.S. extern &quot;C&quot; к пункту 2 хотел добавить. Но к __declspec(dllimport) давно привык <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278335&amp;user=24257&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=7" class="addthx" data-post="278335"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 11:20 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
<b>OKOB</b>, <b>DenCoder</b><br><br>за extern &quot;C&quot;  спасибо, посмотрим, вдруг поможет.<br><br><b>DenCoder</b><br>Так в дизасме том и нет никаких .lib для импорта - это ж не динамическая библиотека.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278337&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=8" class="addthx" data-post="278337"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]DenCoder[/b]','')">DenCoder</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/24257.jpg" alt=""><br><span class=txtSm>Ранг: 324.3 (мудрец), 222thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.42'>Активность: 0.48<span style='color:red'>&searr;</span>0.37</span><br>Статус: <a href="action=userinfo&amp;user=24257">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 11:26 &middot; Поправил: DenCoder <br><script type="text/javascript">QU('DenCoder','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=DenCoder" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
extern &quot;С&quot; как раз для импорта...<br><br>... или если двиг в сорцах и не выполнен в виде отдельного проекта dll... да, может помочь, хотя в этом случае я с такой проблемой не сталкивался без extern &quot;C&quot;...
<br><br><font size="1"><i>-----<br>IZ.RU</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278338&amp;user=24257&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=9" class="addthx" data-post="278338"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]kannabis[/b]','')">kannabis</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.9 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.41'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=27949">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 18:14 <br><script type="text/javascript">QU('kannabis','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=kannabis" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
А медиана это что? Можно ссылочку?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=278361&amp;user=27949&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=10" class="addthx" data-post="278361"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]BoRoV[/b]','')">BoRoV</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/15500.jpg" alt=""><br><span class=txtSm>Ранг: 533.6 (<b>!</b>), 232thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.41'>Активность: 0.45<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=15500">Uploader</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 03 марта 2011 18:19 <br><script type="text/javascript">QU('BoRoV','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=BoRoV" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
https://ssl.cracklab.ru/f/action=vthread&amp;forum=12&amp;topic=15991#7
<br><br><font size="1"><i>-----<br>Лучше быть одиноким, но свободным © $me</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278362&amp;user=15500&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=11" class="addthx" data-post="278362"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2011 10:33 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<b>kannabis</b><br><noindex><a href="http://mika0x65.livejournal.com/6898.html#cutid1" rel="nofollow" target="_blank">--&gt; Mediana &lt;--</a></noindex><br><br>вчера опять полвечера медитировал с 2008 студией и медианой (и олькиным двигом), уже и инклудил заголовки, и с-шные файлы добавлял к проекту, и расширение на срр менял. Один хрен - не пашет<img src="img/smilies/s4.gif" alt=""><br><br>И extern &quot;C&quot; добавлял - ничего не вышло. У кого-то вообще получалось юзать медиану в проектах студии?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278398&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=12" class="addthx" data-post="278398"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]Coderess[/b]','')">Coderess</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/16383.jpg" alt=""><br><span class=txtSm>Ранг: 355.4 (мудрец), 55thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.21'>Активность: 0.32<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=16383">Uploader</a><br><font color=blue>5KRT</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2011 10:41 <br><script type="text/javascript">QU('Coderess','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Coderess" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
На оф сайте пример использования лежит<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">Пример&nbsp;использования&nbsp;</li><li class="hl_l1">#include&nbsp;<span class="hl_char">&lt;</span>stdio<span class="hl_char">.</span>h<span class="hl_char">&gt;</span></li><li class="hl_l0">#include&nbsp;<span class="hl_char">&lt;</span>stdlib<span class="hl_char">.</span>h<span class="hl_char">&gt;</span></li><li class="hl_l1">#include&nbsp;<span class="hl_quote">&quot;mediana.h&quot;</span>&nbsp;<span class="hl_char">/</span><span class="hl_char">/</span>Главный&nbsp;заголовочный&nbsp;файл&nbsp;дизассемблера<span class="hl_char">.</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">#define&nbsp;OUT_BUFF_SIZE&nbsp;0x200</li><li class="hl_l0">#define&nbsp;IN_BUFF_SIZE&nbsp;&nbsp;<span class="hl_number">14231285</span></li><li class="hl_l1">#define&nbsp;SEEK_TO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x0</li><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_function"><b>int</b></span>&nbsp;main<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;argc<span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>char</b></span>&nbsp;<span class="hl_char">*</span><span class="hl_char">*</span>argv<span class="hl_char">)</span></li><li class="hl_l0">{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;sf_prefixes<span class="hl_char">[</span>MAX_INSTRUCTION_LEN<span class="hl_char">]</span><span class="hl_comment">; //Массив избыточных префиксов.</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;unichar_t&nbsp;buff<span class="hl_char">[</span>OUT_BUFF_SIZE<span class="hl_char">]</span><span class="hl_comment">;            //Выходной буфер печати инструкции.</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;INSTRUCTION&nbsp;instr<span class="hl_comment">;                 //Выходная инструкция.</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;DISASM_INOUT_PARAMS&nbsp;params<span class="hl_comment">;        //Параметры дизассемблера.</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;<span class="hl_char">*</span>base<span class="hl_char">,</span>&nbsp;<span class="hl_char">*</span><span class="hl_function">ptr</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">*</span><span class="hl_function"><b>end</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;reallen<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;<span class="hl_function"><b>int</b></span>&nbsp;res<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;FILE&nbsp;<span class="hl_char">*</span>fp<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;params<span class="hl_char">.</span>arch&nbsp;<span class="hl_char">=</span>&nbsp;ARCH_ALL<span class="hl_comment">;                                                 //Включая все архитектуры.</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;params<span class="hl_char">.</span>sf_prefixes&nbsp;<span class="hl_char">=</span>&nbsp;sf_prefixes<span class="hl_comment">;                                       //Подключение массива избыточных префиксов.</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;params<span class="hl_char">.</span>mode&nbsp;<span class="hl_char">=</span>&nbsp;DISASSEMBLE_MODE_32<span class="hl_comment">;                                      //Режим дизассемблирования.</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;params<span class="hl_char">.</span>options&nbsp;<span class="hl_char">=</span>&nbsp;DISASM_OPTION_APPLY_REL&nbsp;<span class="hl_char">|</span>&nbsp;DISASM_OPTION_OPTIMIZE_DISP<span class="hl_comment">; //Все опции.</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;params<span class="hl_char">.</span>base&nbsp;<span class="hl_char">=</span>&nbsp;0x00401000<span class="hl_comment">;                                               //Базовый адрес первой инструкции.</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;base&nbsp;<span class="hl_char">=</span>&nbsp;malloc<span class="hl_char">(</span>IN_BUFF_SIZE<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_char">=</span>&nbsp;base<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>end</b></span>&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_char">+</span>&nbsp;IN_BUFF_SIZE<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;fp&nbsp;<span class="hl_char">=</span>&nbsp;fopen<span class="hl_char">(</span><span class="hl_quote">&quot;asm_com2.bin&quot;</span><span class="hl_char">,</span>&nbsp;<span class="hl_quote">&quot;rb&quot;</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;fseek<span class="hl_char">(</span>fp<span class="hl_char">,</span>&nbsp;SEEK_TO<span class="hl_char">,</span>&nbsp;SEEK_SET<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;fread<span class="hl_char">(</span>base<span class="hl_char">,</span>&nbsp;IN_BUFF_SIZE<span class="hl_char">,</span>&nbsp;<span class="hl_number">1</span><span class="hl_char">,</span>&nbsp;fp<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;fclose<span class="hl_char">(</span>fp<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">while</span><span class="hl_char">(</span><span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_char">&lt;</span>&nbsp;<span class="hl_function">end</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res&nbsp;<span class="hl_char">=</span>&nbsp;medi_disassemble<span class="hl_char">(</span><span class="hl_function">ptr</span><span class="hl_char">,</span>&nbsp;<span class="hl_char">&amp;</span>instr<span class="hl_char">,</span>&nbsp;<span class="hl_char">&amp;</span>params<span class="hl_char">)</span><span class="hl_comment">; //Disassemble!</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>params<span class="hl_char">.</span>errcode<span class="hl_char">)</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf<span class="hl_char">(</span><span class="hl_quote">&quot;%X: fail: %d, len: %d\n&quot;</span><span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_char">-</span>&nbsp;base<span class="hl_char">,</span>&nbsp;params<span class="hl_char">.</span>errcode<span class="hl_char">,</span>&nbsp;res<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>res&nbsp;<span class="hl_char">=</span><span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res<span class="hl_char">+</span><span class="hl_char">+</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">else</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reallen&nbsp;<span class="hl_char">=</span>&nbsp;medi_dump<span class="hl_char">(</span><span class="hl_char">&amp;</span>instr<span class="hl_char">,</span>&nbsp;buff<span class="hl_char">,</span>&nbsp;OUT_BUFF_SIZE<span class="hl_char">,</span>&nbsp;DUMP_OPTION_IMM_UHEX&nbsp;<span class="hl_char">|</span>&nbsp;DUMP_OPTION_DISP_HEX<span class="hl_char">)</span><span class="hl_comment">; //Эта ф-ия будет описана ниже.</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>reallen&nbsp;<span class="hl_char">&lt;</span>&nbsp;OUT_BUFF_SIZE<span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buff<span class="hl_char">[</span>reallen<span class="hl_char">]</span>&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function">else</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buff<span class="hl_char">[</span>OUT_BUFF_SIZE&nbsp;<span class="hl_char">-</span>&nbsp;<span class="hl_number">1</span><span class="hl_char">]</span>&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf<span class="hl_char">(</span><span class="hl_quote">&quot;%X: %s\n&quot;</span><span class="hl_char">,</span>&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_char">-</span>&nbsp;base<span class="hl_char">,</span>&nbsp;buff<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>ptr</b></span>&nbsp;<span class="hl_char">+</span><span class="hl_char">=</span>&nbsp;res<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params<span class="hl_char">.</span>base&nbsp;<span class="hl_char">+</span><span class="hl_char">=</span>&nbsp;res<span class="hl_comment">; //Высчитываем базовый адрес следующей инструкции.</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l0">&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;<span class="hl_number">0</span><span class="hl_comment">;</span></li><li class="hl_l0">}</li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>Gutta cavat lapidem. Feci, quod potui. Faciant meliora potentes</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278401&amp;user=16383&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=13" class="addthx" data-post="278401"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2011 10:45 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>Coderess</b><br>Та видел я этот файлик, конечно. Но, это ж не проект студии! Как мне, например, в консольный проект, создаваемый визардом, добавить медиану?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278402&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=14" class="addthx" data-post="278402"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2011 10:52 <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
Как вариант-подцепи как lib.<br>Этим батником собирается lib, можно хыть в pre-build event запихать его.<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_registr">cl</span><span class="hl_char">.</span>exe&nbsp;<span class="hl_char">/</span>c&nbsp;mediana<span class="hl_char">.</span>c&nbsp;dump<span class="hl_char">.</span>c&nbsp;utils<span class="hl_char">.</span>c</li><li class="hl_l1">lib<span class="hl_char">.</span>exe&nbsp;<span class="hl_char">/</span>NODEFAULTLIB&nbsp;mediana<span class="hl_char">.</span>obj&nbsp;dump<span class="hl_char">.</span>obj&nbsp;utils<span class="hl_char">.</span>obj</li>        </ol>
    </div>
</div></div>
<br>В сишник пихается хедер, линкеру кормится lib.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=278403&amp;user=1556&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=15" class="addthx" data-post="278403"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=6336" title="04-03-2011 07:56, ранг:285.1" target="_blank">ARCHANGEL</a>, <a href="action=userinfo&user=4618" title="04-03-2011 16:42, ранг:111.9" target="_blank">Nightshade</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]PE_Kill[/b]','')">PE_Kill</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/3232.gif" alt=""><br><span class=txtSm>Ранг: 793.4 <font color=magenta>(<b>! !</b>)</font>, 568thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.59'>Активность: 0.74<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=3232">Участник</a><br><font color=blue>Шаман</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2011 15:07 <br><script type="text/javascript">QU('PE_Kill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=PE_Kill" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
Я Си не юзаю, в Си из консоли скомпилякал obj&#039;ы медианы и прикрутил к Delphi проекту. Думаю в си можно так же сделать.
<br><br><font size="1"><i>-----<br>Yann Tiersen best and do not fuck</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278408&amp;user=3232&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=16" class="addthx" data-post="278408"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]Isaev[/b]','')">Isaev</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6946.jpg" alt=""><br><span class=txtSm>Ранг: 756.3 <font color=magenta>(<b>! !</b>)</font>, 113thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.76'>Активность: 0.61<span style='color:red'>&searr;</span>0.05</span><br>Статус: <a href="action=userinfo&amp;user=6946">Участник</a><br><font color=blue>Student</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 04 марта 2011 18:58 <br><script type="text/javascript">QU('Isaev','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Isaev" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<I>PE_Kill пишет:<br>в Си из консоли скомпилякал obj&#039;ы медианы и прикрутил к Delphi проекту. Думаю в си можно так же сделать. </I><br>Вот это очень востребовано... минихелп бы какой по теме
<br><br><font size="1"><i>-----<br>z+Dw7uLu5+jqLCDq7vLu8PvpIPHs7uMh</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278428&amp;user=6946&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=17" class="addthx" data-post="278428"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]VodoleY[/b]','')">VodoleY</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 488.1 (мудрец), 272thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.01'>Активность: 0.35<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=17319">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2011 13:12 <br><script type="text/javascript">QU('VodoleY','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=VodoleY" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<b>ARCHANGEL</b> ты на чем пишешь? если делфишный вариант то мне  BeaEngine понравился, думал на нем даже сделать разгребания мусора в дизасме, остановило нормального ассемблирования, а писать самому пока влом
<br><br><font size="1"><i>-----<br>Наша работа во тьме, Мы делаем, что умеем. Мы отдаем, что имеем, Наша работа во тьме....</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278461&amp;user=17319&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=18" class="addthx" data-post="278461"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]kannabis[/b]','')">kannabis</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: -0.9 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.41'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=27949">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2011 13:18 <br><script type="text/javascript">QU('kannabis','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=kannabis" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
К си и delphi подключили, а как подключить к проекту под nasm?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=278462&amp;user=27949&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=19" class="addthx" data-post="278462"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]Archer[/b]','')">Archer</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/1556.jpg" alt=""><br><span class=txtSm>Ранг: 2014.5 <b><u>(!!!!)</u></b>, 1278thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 15.27'>Активность: 1.34<span style='color:red'>&searr;</span>0.25</span><br>Статус: <a href="action=userinfo&amp;user=1556">Модератор</a><br><font color=blue>retired</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 05 марта 2011 13:35 <br><script type="text/javascript">QU('Archer','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Archer" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
Так же, как и к любому другому языку, кормить lib/obj линкеру и цеплять хедер в сорцах. С последним и будет основная сложность. Что касается медианы, знаю про наличие её хедеров для С/С++, дельфи и фасм. Для насма нету, походу.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=278465&amp;user=1556&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=20" class="addthx" data-post="278465"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.85'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 06 марта 2011 09:18 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=17839.html&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
Сделал, как сказал <b>Archer</b>, и всё заработало. Сэнкс. Тему закрываю.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=278518&amp;user=6336&amp;forum_n=6&amp;topic=17839.html&amp;page=0&amp;anchor=21" class="addthx" data-post="278518"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/p.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=6&sortBy=0&page=0.html"><b>Программирование</b></a> <b class=bulletHead>&#8212;&#8250;</b> Подключение дизасма OllyDbg к проекту</span></td>
</tr></table>
</div>
<a name=newreply></a>
<div align=center>
<table class=forums>
<tr>
<td class=caption4 width="100%"><span class=header>Эта тема закрыта. Ответы больше не принимаются.</span></td>
</tr>
</table>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=17839" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
