<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>ARCHANGEL&#039;s blog - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Добрый день, уважаемые форумчане. Ни для кого не секрет, что решил я с недавних пор пойти учиться программированию. Поэтому стали меня интересовать практические аспекты кодинга, иногда весьма далёкие от вопросов реверсинга.">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/blog.png" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=12&sortBy=0&page=0.html"><b>Дневники и блоги</b></a> <b class=bulletHead>&#8212;&#8250;</b> ARCHANGEL&#039;s blog</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=2.html">3</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=4.html">5</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=5.html">6</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=6.html">7</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=7.html">8</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=8.html">9</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=9.html">10</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 июля 2012 18:28 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Добрый день, уважаемые форумчане. Ни для кого не секрет, что решил я с недавних пор пойти учиться программированию. Поэтому стали меня интересовать практические аспекты кодинга, иногда весьма далёкие от вопросов реверсинга. Поэтому чтоб не засорять форум, решил создать этот блог. Стоит сказать, что вопросы, которые планируется тут разбирать, не такие уж и бесполезные. Они часто могут возникать при написании тех же кейгенов или тулз для реверсинга, так что, надеюсь, каждый сможет найти здесь что-нибудь интересное. Как некоторые уже догадались, вопросы Common Controls, простым числам, и сегодняшний вопрос по OpenGL как раз из серии учебных. Теперь о самом вопросе.<br><br>На днях выполнял задание про отрисовку простых фигур: треугольника, квадрата и т.д. Решено было выполнять рисование средствами OpenGL. Литературы по этому делу много, поэтому я разобрался, что и как. Т.е. в литературе советовали использовать бибилиотеку glut.dll, которая сама не относится к стандартному OpenGL, но её применение, как я понял, упрощает использование OpenGL в своих проектах.  Далее я решил создать базовый класс для отрисовки треугольника, а от него создать производные классы для отрисовки других геометрических фигур. Но на практике получилась вот такая сложность. Дело в том, что glut, по сути, инкапсулирует функции Windows и OpenGL, что упрощает операции с ними. Но от базовых вещей же никуда не деться. Т.е. если процедура обработки оконных сообщений (CALLBACK WindowProc) должна присутствовать, то в классе она должна быть статической. Так и здесь: <br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">glutDisplayFunc<span class="hl_char">(</span>Draw<span class="hl_char">)</span><span class="hl_comment">; //где Draw - колбэк, а значит не может быть простым методом класса</span></li>        </ol>
    </div>
</div></div>
<br><br>Но вот проблема - мне нужно передать внутрь Draw несколько параметров. Являясь статическим методом, Draw не имеет указателя this, а значит не видит обычных полей. Статические поля он видит, но при попытке в конструкторе присвоить значения этим полям появляется ошибка линковки. Понятное дело, что по-хорошему, можно обойтись совсем без классов, но это превратит код в кашу - большое количество глобальных переменных, почти одинаковые функции со схожим функционалом принесут путаницу раньше, чем будут отрисованы несколько фигур. Кто посоветует, как быть в такой ситуации и как решить проблему со статическими функциями-членами?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=308681&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=1" class="addthx" data-post="308681"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 июля 2012 18:49 &middot; Поправил: neomant <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
На самом деле проблемы никакой нет. Ошибка при линковке может быть потому, что статические члены в классе объявлены, но их экземпляры не созданы. То есть их нужно объявить в .h в теле класса и создать(можно сразу и проинициализировать) в .cpp Для отрисовки фигуры лучше создать базовый класс Shape c виртуальной функцией Draw. В производных классах фигур определять свой метод Draw. Профит - полиморфизм в действии.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=308682&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=2" class="addthx" data-post="308682"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=6336" title="13-07-2012 17:56, ранг:435.9" target="_blank">ARCHANGEL</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 июля 2012 20:18 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<b>neomant</b><br>Да, помогло. Теперь другой бок появился - вот никогда такого не было, а тут вылезло, и как же так получилось? В общем, есть у меня 4 radiobutton, но прикол в том, что можно сделать один из них checked при том, что другой тоже останется checked. Как я так умудрился-то? И как это убрать?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=308691&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=3" class="addthx" data-post="308691"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 июля 2012 21:48 <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
Не точно, на вскидку. Попробуй создать окошко со ститем BS_GROUPBOX и его уже в качестве родителя давать BS_RADIOBUTTON кнопкам при создании. Естественно сама рамка BS_GROUPBOX в свою очередь может крепиться к чему угодно.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=308696&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=4" class="addthx" data-post="308696"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 13 июля 2012 22:05 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
Исправил бок с radiobutton&#039;ами. Похоже, что тут важна очерёдность создания. Т.е. если вначале создаётся GROUPBOX, потом RadioButton, потом опять GROUPBOX, и опять RadioButton, то ониотносятся к разным групбоксам, и, став checked, не влияют друг на друга, т.е. uncheck не происходит. Выходом было создание всех GROUPBOX, а потом - всех RadioButton.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=308697&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=5" class="addthx" data-post="308697"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 16 июля 2012 22:39 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
Сейчас стоит задача построения лабиринта в в иде матрицы, в которой элемент равен нулю, если данный участок непроходим, и равен 1 если проходим. Нужно строить лабиринт случайным образом. Т.е. заранее известны только длина и ширина матрицы (всего лабиринта). Лабиринт, конечно, не должен быть слишком простым, т.е. это не должно выглядеть, как прямая линия к выходу, обрамлённая непроходимыми участками, ведь это, всё-таки, лабиринт. Но и не должен быть испещрён ходами, т.е. перемещаться по нему должно быть трудно, выражаясь яснее, человек должен в нём блуждать, и выйти из него должно быть непросто. Теперь, выражаясь языком математики, у нас должен быть связный неориентированный граф, не являющийся деревом. Как в таком случае определить оптимальное число ребёр в графе, чтоб добиться описанного выше эффекта труднопроходимости лабиринта? Ну, или есть какие-то эффективные общеизвестные методы построения лабиринтов? В гугле находил ссылки на алгоритмы, но опасаюсь, что это необоснованный самопал.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=308881&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=6" class="addthx" data-post="308881"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 июля 2012 01:36 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>ARCHANGEL</b><br>Тут приводится алгоритм построения лабиринта на основе эйлеровых графов <noindex><a href="http://www.intuit.ru/department/algorithms/graphsuse/4/1.html" rel="nofollow" target="_blank">Intuit</a></noindex><br>По поводу сложности решения поиска выхода, то все упирается в размер лабиринта и количество тупиков,  в общем бери то что тебе удобнее использовать ибо супер алгоритма нет.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=308901&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=7" class="addthx" data-post="308901"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=6336" title="17-07-2012 06:42, ранг:436.1" target="_blank">ARCHANGEL</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]reversecode[/b]','')">reversecode</a></b><br></div>
<img src="img/s9.gif" alt=""><br><img style="padding-top:3px;" src="av/15381.gif" alt=""><br><span class=txtSm>Ранг: 1053.6 <b><u>(!!!!)</u></b>, 1078thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 12.43'>Активность: 1.06<span style='color:red'>&searr;</span>0.81</span><br>Статус: <a href="action=userinfo&amp;user=15381">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 17 июля 2012 20:30 <br><script type="text/javascript">QU('reversecode','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=reversecode" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
библиотека Clp помоему решает такие задачи
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=308951&amp;user=15381&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=8" class="addthx" data-post="308951"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 18 июля 2012 14:56 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>reversecode</b><br>Ну, тут не тот случай - тут надо самому додуматься.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309002&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=9" class="addthx" data-post="309002"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]FrenFolio[/b]','')">FrenFolio</a></b><br></div>
<img src="img/s7.gif" alt=""><br><img style="padding-top:3px;" src="av/8022.jpg" alt=""><br><span class=txtSm>Ранг: 340.0 (мудрец), 22thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.64'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=8022">Участник</a><br><font color=blue>THETA</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 22 июля 2012 14:09 <br><script type="text/javascript">QU('FrenFolio','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=FrenFolio" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<b>ARCHANGEL</b>, для твоей задачи. Если еще актуально. <img src="img/smilies/s1.gif" alt=""><br><br>1) Есть конкретная реализация на C++: поиск по кратчайшему пути в лабиринте от пункта A в пункт B, сам же лабиринт условно задается в виде матрицы и сгенерирован рандомно, - <noindex><a href="http://www.opita.net/node/681" rel="nofollow" target="_blank"><i class=x><u>--&gt; Link &lt;--</u></i></a></noindex><br><br>2) Классическая книга &quot;Роберт Седжвик.  Фундаментальные алгоритмы на C++&quot;. Там есть отдельный раздел по теории графов, с примерами на С++, можно найти почти любой алгоритм, и доработать под свои нужды. <br><br>3) Хороший учебник &quot;Максим Динман.  C++. Освой на примерах&quot;. Книга хоть и ориентирована на людей, которые только начинают изучение C++, однако очень интересны и нетривиальны примеры, демонстрируемые читателям: множество алгоритмов шифрования, и почти половина книги - алгоритмы, построенные на графах, с минимально необходимой для понимания теорией. Очень много исходного кода, с большим числом комментариев. Возможно, окажется полезной. <img src="img/smilies/s1.gif" alt="">
<br><br><font size="1"><i>-----<br>Программист SkyNet</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309173&amp;user=8022&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=10" class="addthx" data-post="309173"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=6336" title="24-07-2012 18:36, ранг:439.1" target="_blank">ARCHANGEL</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 24 июля 2012 22:50 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
<b>FrenFolio</b><br>Ещё актуально. Правда, в гугле поиском нашлась книга Мозгового &quot;Занимательное программирование&quot;, где всё вполне доступно изложено. Конечно, теория не идеальна, например, не рассказывается, почему адаптированный алгоритм Прима для построения минимального остова следует применять для построения лабиринта, и как, с математической точки зрения, так получается, что алгоритм Крускала подходит для этой цели лучше. Поиск пути тут можно выполнять методом волновой трассировки. Седжвика читаю потихоньку, но до графов пока не дошёл.  За линк спасибо, кстати, по этому линку лабиринты получаются с коридорами!
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309238&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=11" class="addthx" data-post="309238"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 июля 2012 21:57 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
Сейчас делаю программу &quot;Электронные часы&quot;. Суть простая - нужно в стиле электронных часов отрисовать текущее время, при этом обновлять его каждую секунду. Циферки в фотошопе уже сделаны, в общем, и программа вся уже накатана, но есть одна (впрочем, весьма небольшая) проблемка... она НЕ РАБОТАЕТ! Идея состоит в том, чтоб в ответ на сообщение WM_PAINT получать клиентскую область окна и в ней черз <b>BitBlt</b> рисовать времечко. И время действительно рисуется - один раз. Но при WM_INITDIALOG создаётся поток, который шлёт в очередь сообщений заветное WM_PAINT, но картинка почему-то не перерисовывается, несмотря на то, что сообщение доходит до адресата, и, в общем-то, корректно обрабатывается. Что за нах? Или для решения такой задачи действовать надо как-то по-другому? Код в виде проекта студии прилагаю.<br><br><img src="img/attach.gif" alt=""> <a href="./files/7acb_30.07.2012_EXELAB.rU.tgz">7acb_30.07.2012_EXELAB.rU.tgz</a> - Forum WatchShow.rar
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309513&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=12" class="addthx" data-post="309513"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 июля 2012 22:29 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>ARCHANGEL</b><br>Как то так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;WM_PAINT<span class="hl_char">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PaintDev&nbsp;<span class="hl_char">=</span>&nbsp;BeginPaint<span class="hl_char">(</span>hwndDlg<span class="hl_char">,</span><span class="hl_char">&amp;</span>ps<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LPSTR&nbsp;tempTime&nbsp;<span class="hl_char">=</span>&nbsp;GetTimeInStringFormat<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ForwardTheWatch<span class="hl_char">(</span>PaintDev<span class="hl_char">,</span>GetModuleHandleA<span class="hl_char">(</span><span class="hl_function">NULL</span><span class="hl_char">)</span><span class="hl_char">,</span>hwndDlg<span class="hl_char">,</span>tempTime<span class="hl_char">)</span><span class="hl_comment">;	</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete<span class="hl_char">[</span><span class="hl_char">]</span>&nbsp;tempTime<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InvalidateRect<span class="hl_char">(</span>hwndDlg<span class="hl_char">,</span>&nbsp;<span class="hl_function">NULL</span><span class="hl_char">,</span>&nbsp;<span class="hl_function">NULL</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EndPaint<span class="hl_char">(</span>hwndDlg<span class="hl_char">,</span><span class="hl_char">&amp;</span>ps<span class="hl_char">)</span><span class="hl_comment">;				</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>TRUE</b></span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>break</b></span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309520&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=13" class="addthx" data-post="309520"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=6336" title="30-07-2012 18:33, ранг:442.1" target="_blank">ARCHANGEL</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="14" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 июля 2012 22:51 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#14" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#14');return false;">#14</a> </span><div align=left><br>
<b>F_a_u_s_t</b><br>Блин, а я был так близко.  И ведь искал же по MSDN что-то подобное, правда, искал InvalidateRectangle, а полученный результат меня сбил с толку - думал, что не туда куда-то меня повело. В общем, добавил, заработало. Спасибо.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309524&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=14" class="addthx" data-post="309524"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="15" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 июля 2012 22:55 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#15" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#15');return false;">#15</a> </span><div align=left><br>
<b>ARCHANGEL</b><br>Да фигня.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=309526&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=15" class="addthx" data-post="309526"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="16" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 30 июля 2012 23:08 <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#16" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#16');return false;">#16</a> </span><div align=left><br>
Для отправки собщения WM_PAINT не нужно заводить поток, достаточно обычного таймера.<br>Чистый WIN32 - это брутально, но можно хотя бы CString или std::string попользовать чтобы не заморачиваться с выделением/возвращением памяти.<br>Класс используется не рационально, постоянно выполняются лишние действия по подгрузке картинок.<br>Не совсем красиво написано условие окончания цикла по выводу времени.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309528&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=16" class="addthx" data-post="309528"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="17" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 00:04 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#17" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#17');return false;">#17</a> </span><div align=left><br>
<b>neomant пишет:</b><br><i class=x>Для отправки собщения WM_PAINT не нужно заводить поток, достаточно обычного таймера.</i><br><br>Вот с таймером я крутил всякие заманухи, и так, и эдак. Взял SetTimer, добавил обработчик WM_TIMER, но тут или я что-то не понимаю, или делать надо как-то не так, но если я буду внтри обработчика WM_TIMER юзать SendMessageA(...,WM_PAINT,...), то т.к. обработка SendMessageA синхронна, то оно так и будет висеть, ничего не отрисовывая. Хотя в МСДН написано, что напрямую слать окну WM_PAINT нельзя. Значит, видимо, есть способ какой-то.<br><br><i class=x>Чистый WIN32 - это брутально, но можно хотя бы CString или std::string попользовать чтобы не заморачиваться с выделением/возвращением памяти.</i><br><br>Возможно.<br><br><i class=x>Класс используется не рационально, постоянно выполняются лишние действия по подгрузке картинок.</i><br><br>Есть такое дело. Но т.к. не тормозит, то подумал - пусть будет так. Хоть по быстродействию и не оптимально, зато как-то гармонично.<br><br><i class=x>Не совсем красиво написано условие окончания цикла по выводу времени.</i><br><br>А вот этого не понял. А как красиво надо?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309533&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=17" class="addthx" data-post="309533"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="18" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 00:20 &middot; Поправил: neomant <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#18" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#18');return false;">#18</a> </span><div align=left><br>
<I>ARCHANGEL пишет:<br>Хотя в МСДН написано, что напрямую слать окну WM_PAINT нельзя. Значит, видимо, есть способ какой-то.</I><br><br>UpdateWindow, RedrawWindow. Проблем с отсылкой сообщения SendMessge так же быть не должно. Можно ещё PostMessage.<br><br><I>ARCHANGEL пишет:<br>А вот этого не понял. А как красиво надо?</I><br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">for&nbsp;<span class="hl_char">(</span>i&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_number">0</span><span class="hl_comment">; i &lt; _tcslen(TheTime); ++i)</span></li>        </ol>
    </div>
</div></div>
<br>И соответственно break для выхода из цикла тоже не нужен.<br><br>Ещё несколько замечаний. Код правильнее писать в cpp-файлах, в заголовках - прототипы функций, константы.<br>inline лучше делать ОЧЕНЬ маленькие функции. Конструктор и деструктор реализованы при описании класса - автоматом считаются инлайн.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309535&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=18" class="addthx" data-post="309535"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="19" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 01:50 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#19" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#19');return false;">#19</a> </span><div align=left><br>
<I>neomant пишет:<br>Конструктор и деструктор реализованы при описании класса - автоматом считаются инлайн. </I><br>inline или public (access control)? <img src="img/smilies/s2.gif" alt="">.<br>Рисовать лучше таки в другом потоке, а таймер это костыль, по поводу разбиения класса на *.h и *.cpp тоже спорно, зависит от потребностей и размера самого класса, если класс в 1,5 строки и в будущем не планируется расширять можно и в один всунуть, а есчо есть amalgamation header, например так SQLite идет.<br>Использование winapi, тут на вкус и цвет, хотя сам бы не стал извращаться с ним.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=309540&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=19" class="addthx" data-post="309540"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="20" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 10:18 <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#20" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#20');return false;">#20</a> </span><div align=left><br>
<I>F_a_u_s_t пишет:<br>inline или public (access control)?</I><br>Нет, inline не контроль доступа. При генерации кода вместо вызова функции будет подставлено само её тело.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309542&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=20" class="addthx" data-post="309542"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="21" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 12:34 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#21" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#21');return false;">#21</a> </span><div align=left><br>
<b>neomant</b><br>Но тогда что бы автоматом считалось inline это должно быть в стандарте, что то там я этого не видел, да и gcc подсказывает что не всегда это так.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=309544&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=21" class="addthx" data-post="309544"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="22" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 12:52 <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#22" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#22');return false;">#22</a> </span><div align=left><br>
<I>F_a_u_s_t пишет:<br>Но тогда что бы автоматом считалось inline это должно быть в стандарте</I><br><br><noindex><a href="http://ru.wikipedia.org/wiki/C%2B%2B" rel="nofollow" target="_blank">Разное. Спецификатор inline</a></noindex>. Действительно компилятор не должен инлайнить функцию даже после объявления её таковой. Всего лишь предложение компилятору.<br>А вот в VC есть ещё и принудительное требование __forceinline.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309546&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=22" class="addthx" data-post="309546"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="23" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 июля 2012 13:13 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#23" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#23');return false;">#23</a> </span><div align=left><br>
<b>neomant</b><br>В стандарте подробнее расписано.<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0"><span class="hl_number">2</span>&nbsp;A&nbsp;function&nbsp;declaration&nbsp;<span class="hl_char">(</span><span class="hl_number">8</span><span class="hl_char">.</span><span class="hl_number">3</span><span class="hl_char">.</span><span class="hl_number">5</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">9</span><span class="hl_char">.</span><span class="hl_number">3</span><span class="hl_char">,</span>&nbsp;<span class="hl_number">11</span><span class="hl_char">.</span><span class="hl_number">3</span><span class="hl_char">)</span>&nbsp;with&nbsp;an&nbsp;inline&nbsp;specifier&nbsp;declares&nbsp;an&nbsp;inline&nbsp;function&nbsp;<span class="hl_char">.</span>&nbsp;The&nbsp;inline</li><li class="hl_l1"><span style="word-break: break-all">specifier&nbsp;indicates&nbsp;to&nbsp;the&nbsp;implementation&nbsp;that&nbsp;inline&nbsp;substitution&nbsp;of&nbsp;the&nbsp;function&nbsp;body&nbsp;at&nbsp;the&nbsp;point&nbsp;of&nbsp;</span><span class="hl_function">call</span></li><li class="hl_l0">is&nbsp;to&nbsp;be&nbsp;preferred&nbsp;to&nbsp;the&nbsp;usual&nbsp;function&nbsp;<span class="hl_function"><b>call</b></span>&nbsp;mechanism<span class="hl_char">.</span>&nbsp;An&nbsp;implementation&nbsp;is&nbsp;<span class="hl_function"><b>not</b></span>&nbsp;required&nbsp;to&nbsp;perform&nbsp;<span class="hl_function">this</span></li><li class="hl_l1">inline&nbsp;substitution&nbsp;at&nbsp;the&nbsp;point&nbsp;of&nbsp;<span class="hl_function"><b>call</b></span><span class="hl_comment">; however, even if this inline substitution is omitted, the other rules</span></li><li class="hl_l0">for&nbsp;inline&nbsp;functions&nbsp;defined&nbsp;by&nbsp;<span class="hl_number">7</span><span class="hl_char">.</span><span class="hl_number">1</span><span class="hl_char">.</span><span class="hl_number">2</span>&nbsp;shall&nbsp;still&nbsp;be&nbsp;respected<span class="hl_char">.</span></li><li class="hl_l1"><span class="hl_number">3</span>&nbsp;A&nbsp;function&nbsp;defined&nbsp;within&nbsp;a&nbsp;class&nbsp;definition&nbsp;is&nbsp;an&nbsp;inline&nbsp;function<span class="hl_char">.</span>&nbsp;The&nbsp;inline&nbsp;specifier&nbsp;shall&nbsp;<span class="hl_function"><b>not</b></span>&nbsp;appear&nbsp;on</li><li class="hl_l0">a&nbsp;block&nbsp;scope&nbsp;function&nbsp;declaration<span class="hl_char">.</span></li><li class="hl_l1"><span class="hl_number">91</span></li><li class="hl_l0"><span class="hl_function"><b>If</b></span>&nbsp;the&nbsp;inline&nbsp;specifier&nbsp;is&nbsp;used&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;a&nbsp;friend&nbsp;declaration<span class="hl_char">,</span>&nbsp;that&nbsp;declaration</li><li class="hl_l1">shall&nbsp;be&nbsp;a&nbsp;definition&nbsp;<span class="hl_function"><b>or</b></span>&nbsp;the&nbsp;function&nbsp;shall&nbsp;have&nbsp;previously&nbsp;been&nbsp;declared&nbsp;inline<span class="hl_char">.</span></li><li class="hl_l0"><span class="hl_number">4</span>&nbsp;An&nbsp;inline&nbsp;function&nbsp;shall&nbsp;be&nbsp;defined&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;every&nbsp;translation&nbsp;unit&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;which&nbsp;it&nbsp;is&nbsp;odr<span class="hl_char">-</span>used&nbsp;<span class="hl_function"><b>and</b></span>&nbsp;shall&nbsp;have&nbsp;exactly</li><li class="hl_l1">the&nbsp;same&nbsp;definition&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;every&nbsp;case&nbsp;<span class="hl_char">(</span><span class="hl_number">3</span><span class="hl_char">.</span><span class="hl_number">2</span><span class="hl_char">)</span><span class="hl_char">.</span>&nbsp;<span class="hl_char">[</span>&nbsp;Note<span class="hl_char">:</span>&nbsp;A&nbsp;<span class="hl_function"><b>call</b></span>&nbsp;to&nbsp;the&nbsp;inline&nbsp;function&nbsp;may&nbsp;be&nbsp;encountered&nbsp;before&nbsp;its</li><li class="hl_l0">definition&nbsp;appears&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;the&nbsp;translation&nbsp;unit<span class="hl_char">.</span>&nbsp;—end&nbsp;note&nbsp;<span class="hl_char">]</span>&nbsp;<span class="hl_function"><b>If</b></span>&nbsp;the&nbsp;definition&nbsp;of&nbsp;a&nbsp;function&nbsp;appears&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;a&nbsp;translation</li><li class="hl_l1">unit&nbsp;before&nbsp;its&nbsp;first&nbsp;declaration&nbsp;as&nbsp;inline<span class="hl_char">,</span>&nbsp;the&nbsp;program&nbsp;is&nbsp;ill<span class="hl_char">-</span>formed<span class="hl_char">.</span>&nbsp;<span class="hl_function"><b>If</b></span>&nbsp;a&nbsp;function&nbsp;with&nbsp;external&nbsp;linkage&nbsp;is</li><li class="hl_l0">declared&nbsp;inline&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;one&nbsp;translation&nbsp;unit<span class="hl_char">,</span>&nbsp;it&nbsp;shall&nbsp;be&nbsp;declared&nbsp;inline&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;all&nbsp;translation&nbsp;units&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;which&nbsp;it&nbsp;appears<span class="hl_comment">;</span></li><li class="hl_l1">no&nbsp;diagnostic&nbsp;is&nbsp;required<span class="hl_char">.</span>&nbsp;An&nbsp;inline&nbsp;function&nbsp;with&nbsp;external&nbsp;linkage&nbsp;shall&nbsp;have&nbsp;the&nbsp;same&nbsp;address&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;all</li><li class="hl_l0">translation&nbsp;units<span class="hl_char">.</span>&nbsp;A&nbsp;static&nbsp;<span class="hl_function"><b>local</b></span>&nbsp;variable&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;an&nbsp;extern&nbsp;inline&nbsp;function&nbsp;always&nbsp;refers&nbsp;to&nbsp;the&nbsp;same&nbsp;object<span class="hl_char">.</span></li><li class="hl_l1">A&nbsp;string&nbsp;literal&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;the&nbsp;body&nbsp;of&nbsp;an&nbsp;extern&nbsp;inline&nbsp;function&nbsp;is&nbsp;the&nbsp;same&nbsp;object&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;different&nbsp;translation&nbsp;units<span class="hl_char">.</span></li><li class="hl_l0"><span class="hl_char">[</span>&nbsp;Note<span class="hl_char">:</span>&nbsp;A&nbsp;string&nbsp;literal&nbsp;appearing&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;a&nbsp;default&nbsp;argument&nbsp;is&nbsp;<span class="hl_function"><b>not</b></span>&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;the&nbsp;body&nbsp;of&nbsp;an&nbsp;inline&nbsp;function&nbsp;merely</li><li class="hl_l1">because&nbsp;the&nbsp;expression&nbsp;is&nbsp;used&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;a&nbsp;function&nbsp;<span class="hl_function"><b>call</b></span>&nbsp;from&nbsp;that&nbsp;inline&nbsp;function<span class="hl_char">.</span>&nbsp;—end&nbsp;note&nbsp;<span class="hl_char">]</span>&nbsp;A&nbsp;type&nbsp;defined</li><li class="hl_l0">within&nbsp;the&nbsp;body&nbsp;of&nbsp;an&nbsp;extern&nbsp;inline&nbsp;function&nbsp;is&nbsp;the&nbsp;same&nbsp;type&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;every&nbsp;translation&nbsp;unit<span class="hl_char">.</span></li><li class="hl_l1"><span class="hl_number">5</span>&nbsp;The&nbsp;virtual&nbsp;specifier&nbsp;shall&nbsp;be&nbsp;used&nbsp;only&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;the&nbsp;initial&nbsp;declaration&nbsp;of&nbsp;a&nbsp;non<span class="hl_char">-</span>static&nbsp;class&nbsp;member&nbsp;function<span class="hl_comment">;</span></li><li class="hl_l0">see&nbsp;<span class="hl_number">10</span><span class="hl_char">.</span><span class="hl_number">3</span><span class="hl_char">.</span></li><li class="hl_l1"><span class="hl_number">6</span>&nbsp;The&nbsp;explicit&nbsp;specifier&nbsp;shall&nbsp;be&nbsp;used&nbsp;only&nbsp;<span class="hl_function"><b>in</b></span>&nbsp;the&nbsp;declaration&nbsp;of&nbsp;a&nbsp;constructor&nbsp;<span class="hl_function"><b>or</b></span>&nbsp;conversion&nbsp;function&nbsp;within</li><li class="hl_l0">its&nbsp;class&nbsp;definition<span class="hl_comment">; see 12.3.1 and 12.3.2.</span></li>        </ol>
    </div>
</div></div><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309552&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=23" class="addthx" data-post="309552"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="24" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 15:04 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#24" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#24');return false;">#24</a> </span><div align=left><br>
Теперь новый трабл. Создаю окно, на клиентской области которой и будет отображаться долгожданный лабиринт. Вот код:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_large">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">HWND&nbsp;__stdcall&nbsp;CreatePlotArea<span class="hl_char">(</span><span class="hl_function"><b>int</b></span>&nbsp;X<span class="hl_char">,</span><span class="hl_function"><b>int</b></span>&nbsp;Y<span class="hl_char">,</span>HWND&nbsp;Parent<span class="hl_char">,</span>Maze<span class="hl_char">*</span>&nbsp;Mm<span class="hl_char">)</span></li><li class="hl_l1">{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HWND&nbsp;result&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function"><b>NULL</b></span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WNDCLASSEXA&nbsp;wnd&nbsp;<span class="hl_char">=</span>&nbsp;{0}<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RECT&nbsp;desk<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>cbSize&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_function">sizeof</span><span class="hl_char">(</span>WNDCLASSEXA<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>style&nbsp;<span class="hl_char">=</span>&nbsp;CS_HREDRAW&nbsp;<span class="hl_char">|</span>&nbsp;CS_VREDRAW<span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>hInstance&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_char">(</span>HINSTANCE<span class="hl_char">)</span>&nbsp;GetModuleHandleA<span class="hl_char">(</span><span class="hl_function">NULL</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>lpszClassName&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_quote">&quot;MAZE&quot;</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>lpfnWndProc&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_char">&amp;</span>WindowProc<span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>hIconSm&nbsp;<span class="hl_char">=</span>&nbsp;wnd<span class="hl_char">.</span>hIcon&nbsp;<span class="hl_char">=</span>&nbsp;LoadIconA<span class="hl_char">(</span><span class="hl_function">NULL</span><span class="hl_char">,</span><span class="hl_char">(</span>LPSTR<span class="hl_char">)</span>&nbsp;IDI_INFORMATION<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>hCursor&nbsp;<span class="hl_char">=</span>&nbsp;LoadCursorA<span class="hl_char">(</span><span class="hl_function">NULL</span><span class="hl_char">,</span><span class="hl_char">(</span>LPSTR<span class="hl_char">)</span>&nbsp;IDC_ARROW<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wnd<span class="hl_char">.</span>hbrBackground&nbsp;<span class="hl_char">=</span>&nbsp;<span class="hl_char">(</span>HBRUSH<span class="hl_char">)</span>&nbsp;GetStockObject<span class="hl_char">(</span>WHITE_BRUSH<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hl_function"><b>if</b></span>&nbsp;<span class="hl_char">(</span>RegisterClassExA<span class="hl_char">(</span><span class="hl_char">&amp;</span>wnd<span class="hl_char">)</span><span class="hl_char">)</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetWindowRect<span class="hl_char">(</span>GetDesktopWindow<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_char">,</span><span class="hl_char">&amp;</span>desk<span class="hl_char">)</span><span class="hl_comment">; //располагаем окно игры по центру экрана</span></li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;<span class="hl_char">=</span>&nbsp;CreateWindowExA<span class="hl_char">(</span><span class="hl_function">NULL</span><span class="hl_char">,</span><span class="hl_quote">&quot;MAZE&quot;</span><span class="hl_char">,</span><span class="hl_quote">&quot;MAZE&quot;</span><span class="hl_char">,</span>WS_OVERLAPPED&nbsp;<span class="hl_char">|</span>&nbsp;WS_CAPTION&nbsp;<span class="hl_char">|</span>&nbsp;WS_SYSMENU<span class="hl_char">,</span></li><li class="hl_l0"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desk</span><span class="hl_char">.</span>left&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_char">(</span>desk<span class="hl_char">.</span>right<span class="hl_char">-</span>desk<span class="hl_char">.</span>left<span class="hl_char">-</span>Y<span class="hl_char">)</span><span class="hl_char">/</span><span class="hl_number">2</span><span class="hl_char">,</span>desk<span class="hl_char">.</span>top&nbsp;<span class="hl_char">+</span>&nbsp;<span class="hl_char">(</span>desk<span class="hl_char">.</span>bottom<span class="hl_char">-</span>desk<span class="hl_char">.</span>top<span class="hl_char">-</span>X<span class="hl_char">)</span><span class="hl_char">/</span><span class="hl_number">2</span><span class="hl_char">,</span>Y<span class="hl_char">,</span>X<span class="hl_char">,</span></li><li class="hl_l1"><span style="word-break: break-all">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parent</span><span class="hl_char">,</span><span class="hl_function">NULL</span><span class="hl_char">,</span><span class="hl_char">(</span>HINSTANCE<span class="hl_char">)</span>&nbsp;GetModuleHandleA<span class="hl_char">(</span><span class="hl_function">NULL</span><span class="hl_char">)</span><span class="hl_char">,</span>Mm<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</li><li class="hl_l1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<span class="hl_comment">;</span></li><li class="hl_l0">}</li>        </ol>
    </div>
</div></div>
<br><br>Но проблема в том, что как только я закрываю это окно - всё приложение завершает работу. На самом же деле это окно создаётся после нажатия кнопки на главном диалоговом окне. Т.е. программа-часы имеет кнопку &quot;Играть&quot;, я давлю на эту кнопку, а в ответ должен появиться лабиринт. И он появляется, но стоит мне закрыть окно лабиринта, как программа тут же завершается. Что это? Может, какие-то стили окна отвечают за это? В мсдн ничего не нашёл, знать бы, где искать.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309597&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=24" class="addthx" data-post="309597"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="25" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 15:38 <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#25" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#25');return false;">#25</a> </span><div align=left><br>
Не увидел WindowProc. Могу предположить, что используется общаяя с часами, которая и посылает PostQuitMessage потоку.
<br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309600&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=25" class="addthx" data-post="309600"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:inline"> | Сообщение посчитали полезным: <span class="total_thx"><a href="action=userinfo&user=6336" title="01-08-2012 11:51, ранг:442.8" target="_blank">ARCHANGEL</a></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="26" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 15:47 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#26" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#26');return false;">#26</a> </span><div align=left><br>
<b>neomant</b><br>Не общая, но получается, что PostQuitMessage действительно посылается тому же потоку, который и создавал диалоговое окно с часами. Спасибо, что я делал бы без <b>neomant</b>`a и <b>F_a_u_s_t</b>`a? Будем исправлять...<br><br>Да, кстати, в часах вместо SendMessageA поставил UpdateWindow. Работает, ещё и баг один исправился - раньше стоило переключиться на другое окно, а потом обратно на &quot;часы&quot; - и кнопки пропадали, пока не переместишь окно. А теперь без всяких манипуляций появляются.
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309601&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=26" class="addthx" data-post="309601"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="27" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 17:17 <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#27" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#27');return false;">#27</a> </span><div align=left><br>
<b>ARCHANGEL</b><br>Хз из за чего, причин много может быть, если что выкладывай прожект.<br>Кстати у тебя получение времени страшное какое то, не проще так:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">&nbsp;</li><li class="hl_l1"><span class="hl_function"><b>char</b></span>&nbsp;buff<span class="hl_char">[</span>MAX_PATH<span class="hl_char">]</span><span class="hl_comment">;</span></li><li class="hl_l0">SYSTEMTIME<span class="hl_char">*</span>&nbsp;systime<span class="hl_comment">;</span></li><li class="hl_l1">GetSystemTime<span class="hl_char">(</span>systime<span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l0">GetTimeFormat<span class="hl_char">(</span>LOCALE_USER_DEFAULT<span class="hl_char">,</span>&nbsp;TIME_FORCE24HOURFORMAT<span class="hl_char">,</span>&nbsp;systime<span class="hl_char">,</span>&nbsp;<span class="hl_quote">&quot;hh':'mm':'ss tt&quot;</span><span class="hl_char">,</span>&nbsp;buff<span class="hl_char">,</span>&nbsp;<span class="hl_function">sizeof</span><span class="hl_char">(</span>buff<span class="hl_char">)</span><span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br>Писал в браузере, но не думаю что бы в 5-и строчках накосячил.<img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=309617&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=27" class="addthx" data-post="309617"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="28" onfocus="this.blur()" href="JavaScript:di('[b]ARCHANGEL[/b]','')">ARCHANGEL</a></b><br></div>
<img src="img/s8.gif" alt=""><br><img style="padding-top:3px;" src="av/6336.png" alt=""><br><span class=txtSm>Ранг: 681.5 <font color=magenta>(<b>! !</b>)</font>, 405thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 13.86'>Активность: 0.42<span style='color:red'>&searr;</span>0.21</span><br>Статус: <a href="action=userinfo&amp;user=6336">Участник</a><br><font color=blue>ALIEN Hack Team</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 17:44 <br><script type="text/javascript">QU('ARCHANGEL','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=ARCHANGEL" target="_blank">Личное сообщение</a> &middot;  <a href="#28" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#28');return false;">#28</a> </span><div align=left><br>
<b>F_a_u_s_t</b><br><br>А, может, так:<br><br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">SYSTEMTIME&nbsp;systime<span class="hl_comment">;</span></li><li class="hl_l1">GetSystemTime<span class="hl_char">(</span><span class="hl_char">&amp;</span>systime<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div>
<br><br>?
<br><br><font size="1"><i>-----<br>Stuck to the plan, always think that we would stand up, never ran.</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309622&amp;user=6336&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=28" class="addthx" data-post="309622"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="29" onfocus="this.blur()" href="JavaScript:di('[b]F_a_u_s_t[/b]','')">F_a_u_s_t</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 0.0 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 16.12'>Активность: 0.25<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=6">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 18:26 &middot; Поправил: F_a_u_s_t <br><script type="text/javascript">QU('F_a_u_s_t','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=F_a_u_s_t" target="_blank">Личное сообщение</a> &middot;  <a href="#29" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#29');return false;">#29</a> </span><div align=left><br>
[Тут было стыдно]<img src="img/smilies/s1.gif" alt=""><br><br>Что то забегался и не заметил что: GetSystemTime а не GetLocalTime и есчо и думаю чтто это время у меня левое.<img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=309626&amp;user=6&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=29" class="addthx" data-post="309626"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="30" onfocus="this.blur()" href="JavaScript:di('[b]neomant[/b]','')">neomant</a></b><br></div>
<img src="img/s5.gif" alt=""><br><img style="padding-top:3px;" src="av/24900.jpg" alt=""><br><span class=txtSm>Ранг: 164.6 (ветеран), 65thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 10.28'>Активность: 0.12<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=24900">Участник</a><br><font color=blue>Волшебник</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 августа 2012 19:18 <br><script type="text/javascript">QU('neomant','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=neomant" target="_blank">Личное сообщение</a> &middot;  <a href="#30" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=12&amp;topic=20147&amp;page=0#30');return false;">#30</a> </span><div align=left><br>
<I>ARCHANGEL пишет:<br>А, может, так:</I><br><br>Как раз только так и нужно, так как функе нужно передать указатель на структуру, а не непроинициализированный указатель. Но лучше пользоваться уже готовыми библиотечными<br>обёртками:<br>
<div class="hl_container">
<div class="hl_header">Code:</div>
<div class="hl_scroll_part_normal">
    <div class="hl_normal"> 
        <ol class="hl_main"><li class="hl_l0">CTime&nbsp;time&nbsp;<span class="hl_char">=</span>&nbsp;CTime<span class="hl_char">:</span><span class="hl_char">:</span>GetCurrentTime<span class="hl_char">(</span><span class="hl_char">)</span><span class="hl_comment">;</span></li><li class="hl_l1">CString&nbsp;s&nbsp;<span class="hl_char">=</span>&nbsp;time<span class="hl_char">.</span><span class="hl_function">Format</span><span class="hl_char">(</span>&nbsp;<span class="hl_quote">&quot;%A, %B %d, %Y&quot;</span>&nbsp;<span class="hl_char">)</span><span class="hl_comment">;</span></li>        </ol>
    </div>
</div></div><br><br><font size="1"><i>-----<br>Следуй за белым кроликом</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=309627&amp;user=24900&amp;forum_n=12&amp;topic=20147&amp;page=0&amp;anchor=30" class="addthx" data-post="309627"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b> .  <b>1</b> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=1.html">2</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=2.html">3</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=3.html">4</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=4.html">5</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=5.html">6</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=6.html">7</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=7.html">8</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=8.html">9</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=9.html">10</a> . <a href="action=vthread&amp;forum=12&amp;topic=20147&amp;page=1.html">&gt;&gt;</a></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/blog.png" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=12&sortBy=0&page=0.html"><b>Дневники и блоги</b></a> <b class=bulletHead>&#8212;&#8250;</b> ARCHANGEL&#039;s blog</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#31" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="12">
<input type="hidden" name="topic" value="20147">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=20147" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
