<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Как &quot;очистить&quot; дамп? - eXeL@B</title>
<meta NAME="DESCRIPTION" CONTENT="Здравствуйте! Необходимо снять дамп и заставить его работать. Всё усложняется наличием упаковщика, который перепаковал исходный код, да и свой код распаковки тоже запаковал. Проверки на отладчик и виртуальные машины тоже имеются.">
<meta NAME="KEYWORDS" CONTENT="x64_dbg windbg ollydbg ida скачать взлом отладчик ассемблер дизассемблер крэкер cracker реверсер keygen кейген кодер патч патчер крэкми лоадер брутфорсер протектор распаковщик пароль ключ ключфайл шпион oep key защита программа winapi faq hiew windasm softice winhex">
<META NAME="Document-state" CONTENT="Dynamic">
<META HTTP-EQUIV="Pragma" CONTENT="no-cache"> 
<link rel="SHORTCUT ICON" href="/favicon.ico">
<meta name="viewport" content="width=device-width">
<link href="./skin/s0.css" type="text/css" rel="STYLESHEET">
<link href="./skin/code.css" type="text/css" rel="STYLESHEET">
<script type="text/javascript" src="./js/jq.js"></script>
<link rel="alternate" type="application/rss+xml" title="eXeL@B" href="./rss.php">
<style type="text/css">.username div .dops{display:none;}</style>
<link href="../menu.css" type="text/css" rel="stylesheet">
</head>

<body>
<a id="to_top"></a>
<div id="wrapper">
 
<div class="mob-hamburger"><span></span></div>
 
</center></div><script type='text/javascript'>
function lst(){var i=0;var htm='';var a='';var timer=setInterval(function(){if(i<10){i=i+10;}else{clearInterval(timer);i=0;}document.getElementById('kurs_container').style.marginLeft='-'+i+'px';},100);}
document.addEventListener('DOMContentLoaded',function(event){setTimeout(lst,1500);setInterval(lst,10000);});
</script></div></div>
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery(".mob-hamburger").on("click", function() {
        jQuery(".mob-hamburger").toggleClass("active");
        jQuery("#site-navigation").slideToggle();
		if (jQuery('.mob-hamburger').hasClass('active')) {
			var i = jQuery('#site-navigation').offset().top;
		} else { 
			var i = 0;
		}
			
		jQuery("html, body").animate({ scrollTop: i }, 600);
    });
	var btn = jQuery('#to_top');
	jQuery(window).scroll(function() {
		if (jQuery(window).scrollTop() > 300) {
			btn.addClass('show');
		} else {
			btn.removeClass('show');
		}
	});
	btn.on('click', function(e) {
		e.preventDefault();
		jQuery('html, body').animate({scrollTop:0}, '300');
	});
});
</script>
 
<div id="content">
<div align=center style="margin-top:15px">

<table class=tbTransparent>
<tr><td class=tbTransparent>
<span class=txtSm>Сейчас на форуме: <b><a target='_blank' href='?action=userinfo&amp;user=41701'>_MBK_</a> (+5 невидимых)</b></span>
</td>
</tr>
</table>

<table class=forums>
 
</tr></table>

</div><br>
<script language="javascript" type="text/javascript" charset="windows-1251" src="templates/base.js"></script>

<div align=center><table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как &quot;очистить&quot; дамп?</span></td>
</tr></table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width="15%" class=caption4><span class=txtSm><b>Посл.ответ</b></span></td>
<td width="85%" class=caption4><span class=txtSm><b>Сообщение</b></span></td></tr>
<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="1" onfocus="this.blur()" href="JavaScript:di('[b]valot[/b]','')">valot</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.65'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26941">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 31 января 2011 23:50 <br><script type="text/javascript">QU('valot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=valot" target="_blank">Личное сообщение</a> &middot;  <a href="#1" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#1');return false;">#1</a> </span><div align=left><br>
Здравствуйте!<br><br>Необходимо снять дамп и заставить его работать. Всё усложняется наличием упаковщика, который перепаковал исходный код, да и свой код распаковки тоже запаковал. Проверки на отладчик и виртуальные машины тоже имеются. <br>Первый этап был заставить запускаться (без исключений) код под OllyDbg (в качестве отладчика). Это было достигнуто поиском подходящих функций из ядра, на которых можно &quot;остановить&quot; распаковку, а после этого патч отдельных проверок на отладчик. Благодаря ODbgScript всё это автоматизируется.<br><br>Теперь есть упакованная программа, которая остановлена в некоторый момент, когда основной код уже распакован. Снятый дамп не запускается, поскольку некоторый блок инициализации оказался &quot;разрушен&quot;. Блок найти удалось, но там ещё видны следы протектора (возможно виртуальная машина) и при запуске вылетает...<br><br><br><br>Вопрос довольно общий: как &quot;очистить&quot; дамп?<br>Если говорить на понятийном уровне, то одинаковые команды должны давать одинаковый результат, если применяются к одинаковым данным. Отсюда следует, что в &quot;плохом&quot; дампе нарушена последовательность команд и/или &quot;повреждены&quot; данные. Если считать, что при съёме дампа данные были одинаковые, то причиной &quot;кривизны&quot; данных могут стать особенности загрузки файлов при запуске программы. <br><br>Сейчас у меня параллельно (в двух окнах OllyDbg) загружается исходная программа и дамп. При вызове некоторой функции значения в стеке одинаковые. А вот результат разный. Для каждого вызова причина определяется долго и нудно...<br><br>Есть ли инструменты, позволяющие сравнивать поведение и память программ? <br>Может быть есть плагины для OllyDbg, которые &quot;копируют&quot; память, чтобы потом проанализировать разницу во влиянии команд?<br>Существуют ли утилиты, которые показывают, по каким адресам программа считывала данные, а по каким адресам записывала?<br>Что используете для &quot;чистки&quot; и снятия дампов?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275968&amp;user=26941&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=1" class="addthx" data-post="275968"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr><td class=caption4 colspan=2></td></tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="2" onfocus="this.blur()" href="JavaScript:di('[b]coolangel[/b]','')">coolangel</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.5 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.03'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21512">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 01:00 &middot; Поправил: coolangel <br><script type="text/javascript">QU('coolangel','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coolangel" target="_blank">Личное сообщение</a> &middot;  <a href="#2" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#2');return false;">#2</a> </span><div align=left><br>
Изложение вопроса какое-то специфическое,академическое я бы сказал,поэтому, возможно, я не все понял <img src="img/smilies/s1.gif" alt=""><br><br>&gt;&gt;Что используете для &quot;чистки&quot; и снятия дампов? <br><br>Понятия &quot;чистки&quot;, в Вашем понимании, не существует. Дамп делается еще не инициализированного кода. Если код на OEP украден, то его либо восстанавливают наугад(эвристически так сказать),либо восстанавливают оригинальный код из недр протектора.<br><br>Дамп можно делать PeTools - но что-то мне подсказывает,что Вам это известно <img src="img/smilies/s1.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275970&amp;user=21512&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=2" class="addthx" data-post="275970"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="3" onfocus="this.blur()" href="JavaScript:di('[b]valot[/b]','')">valot</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.65'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26941">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 02:20 &middot; Поправил: valot <br><script type="text/javascript">QU('valot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=valot" target="_blank">Личное сообщение</a> &middot;  <a href="#3" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#3');return false;">#3</a> </span><div align=left><br>
<I>coolangel пишет:<br>Понятия &quot;чистки&quot;, в Вашем понимании, не существует. Дамп делается еще не инициализированного кода. Если код на OEP украден, то его либо востанавливают наугад(эвристически так сказать),либо востанавливают оригинальных код из недр протектора. </I><br>Опыта у меня нет, а готового решения для снятия протектора тоже не нашёл, поэтому действую сразу во всех направлениях с переменным успехом.<br>В идеале, конечно, в некоторый момент протектор отпускает код и с помощью JMP делает переход на распакованный код, но боюсь, что не всё так просто. С другой стороны, когда программа работает, то весь её код распакован (случаев с распаковкой лишь отдельных исполняемых блоков не беру), поэтому и хотел подойти с этого конца. В любом случае, программно сравнить поведение исходной программы и дампа значительно проще, чем руками всё это делать.<br><br>OEP байты украдены - факт <img src="img/smilies/s9.gif" alt=""><br>Предыдущие попытки восстановления пока успехов не принесли.<br><br>UPD. У меня два независимых источника указали на одинаковую точку OEP, но там не хватает пролога.<br><br>Можете ли посоветовать хорошие статьи по восстановлению &quot;украденного кода из OEP&quot;?<br>Компилятор Visual C++ 9.0 (Visual Studio 2008).<br>(Пока читаю вот эти www.cracklab.narod.ru/doc/u_oep.htm и www.cracklab.narod.ru/doc/u_oep2.htm )
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275974&amp;user=26941&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=3" class="addthx" data-post="275974"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="4" onfocus="this.blur()" href="JavaScript:di('[b]SReg[/b]','')">SReg</a></b><br></div>
<img src="img/s7.gif" alt=""><br><span class=txtSm>Ранг: 315.1 (мудрец), 631thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.78'>Активность: 0.3<span style='color:green'>&nearr;</span>0.33</span><br>Статус: <a href="action=userinfo&amp;user=18316">Модератор</a><br><font color=blue>CrackLab</font></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 02:45 <br><script type="text/javascript">QU('SReg','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=SReg" target="_blank">Личное сообщение</a> &middot;  <a href="#4" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#4');return false;">#4</a> </span><div align=left><br>
<b>valot</b><br>А что за прот?
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275976&amp;user=18316&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=4" class="addthx" data-post="275976"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="5" onfocus="this.blur()" href="JavaScript:di('[b]valot[/b]','')">valot</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.65'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26941">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 02:53 <br><script type="text/javascript">QU('valot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=valot" target="_blank">Личное сообщение</a> &middot;  <a href="#5" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#5');return false;">#5</a> </span><div align=left><br>
<b>SReg</b><br>пишут, что [!] VM Protect v1.60 - v2.05 (or newer) detected !<br>Это точно он, а вот версию не знаю.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275977&amp;user=26941&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=5" class="addthx" data-post="275977"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="6" onfocus="this.blur()" href="JavaScript:di('[b]coolangel[/b]','')">coolangel</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 20.5 (новичок), 3thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 11.03'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=21512">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 04:03 &middot; Поправил: coolangel <br><script type="text/javascript">QU('coolangel','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=coolangel" target="_blank">Личное сообщение</a> &middot;  <a href="#6" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#6');return false;">#6</a> </span><div align=left><br>
<I>valot пишет:<br>С другой стороны, когда программа работает, то весь её код распакован (случаев с распаковкой лишь отдельных исполняемых блоков не беру), поэтому и хотел подойти с этого конца. </I><br><br><b>Выложите саму программу</b>,может повезет и кто глянет. Если протектор навешан правильно,то OEP не просто украдено,оно виртуализовано,т.е. команды из OEP выполняются в виртуальное машине,и обычно это не 3-5 команд. Более того,прыжки в виртуальную машину могут быть и посередине программы. <br><br>Также пока нигде не фигурирует импорт,он что,нетронутый?<br><br>На форуме есть тема с <a href="http://exelab.ru/f/action=vthread&amp;forum=13&amp;topic=15906" target="_blank">--&gt; тулзой &lt;--</a>,которая помогает декомпилировать код для ВМ vprotect&#039;а.<br><br>В общем,схема такая:<br>1)Берете любую версию vmprotect&#039;а и пакуете блокнот с минимальной защитой<br>2)Находите любой тутор по снятию vmprotect&#039;а и пробуете снять защиту<br>3)Потом увеличиваете опции защиты и пробуете снять.<br>4)Когда получится снять хоть что-то, можно пробовать учится девиртуализовать код из OEP ранее запакованого блокнота с помощью готовой тулзы<br>5)Возвращаетесь к своей программе <img src="img/smilies/s1.gif" alt=""><br><br>P.S. Предполагается, что upx вручную Вы снимаете с закрытыми глазами
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275983&amp;user=21512&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=6" class="addthx" data-post="275983"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="7" onfocus="this.blur()" href="JavaScript:di('[b]valot[/b]','')">valot</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.65'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26941">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 05:57 &middot; Поправил: valot <br><script type="text/javascript">QU('valot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=valot" target="_blank">Личное сообщение</a> &middot;  <a href="#7" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#7');return false;">#7</a> </span><div align=left><br>
<b>coolangel</b><br>Есть объективные причины, по которым программу выложить не могу.<br><br>Что-то  не открывается у меня предложенная тема. Смотрел <a href="http://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=17506" target="_blank">http://exelab.ru/f/action=vthread&amp;forum=3&amp;topic=17506</a> - показывает, но пока не разбирался, что с этим дальше делать.<br><br>Импорт почти весь собирается в одном месте, поэтому через impRec удаётся добавить.<br>Академический пусть &quot;с блокнотом и калькулятором&quot; не вполне подходит, поэтому полагаюсь на высокую удачу и критические попадания. (Да и научиться в реальном бою значительно проще...)<br><br><br>В соседней ветке рассказали про трассировку в Olly, поэтому теперь многое упростилось. Благодаря ей смог отловить моменты выхода из кода распаковщика в код исходной программы. Увидел, что вначале программа выполняет __security_init_cookie, потом начинает что-то дораспаковывать, а потом уже CRTStartup и переход к основному блоку. Между ними полностью (кроме пары нулей) достраивается таблица импорта. <br>На пустом месте сделал CALL и JMP на инициализацию, подключил импорт. Пока что-то не заработало...<br><br>Внутри кода идут вызовы в &quot;распаковщик&quot;, видимо, использование виртуальной машины.<br>Сейчас не хватает какой-нибудь &quot;грубой силы&quot;, чтобы рассказала, чем отличается выполнение исходной программы (по вызовам) от моей...
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=275986&amp;user=26941&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=7" class="addthx" data-post="275986"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="8" onfocus="this.blur()" href="JavaScript:di('[b]Runner[/b]','')">Runner</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 10.1 (новичок), 5thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.73'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26669">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 13:17 &middot; Поправил: Runner <br><script type="text/javascript">QU('Runner','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Runner" target="_blank">Личное сообщение</a> &middot;  <a href="#8" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#8');return false;">#8</a> </span><div align=left><br>
&gt;&gt;Сейчас не хватает какой-нибудь &quot;грубой силы&quot;, чтобы рассказала, чем отличается выполнение исходной программы (по вызовам) от моей... <br><br>Это заблуждение, &quot;вера в чудо&quot; <br>Конечно,можно допустить,что вмпротект навешан в режиме пакера, а Вы просто не там копаетесь и на самом деле все там просто, но вероятность этого невелика
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=276013&amp;user=26669&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=8" class="addthx" data-post="276013"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="9" onfocus="this.blur()" href="JavaScript:di('[b]valot[/b]','')">valot</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.65'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26941">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 14:19 &middot; Поправил: valot <br><script type="text/javascript">QU('valot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=valot" target="_blank">Личное сообщение</a> &middot;  <a href="#9" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#9');return false;">#9</a> </span><div align=left><br>
<b>Runner</b><br>Пусть и заблуждение, главное, чтобы работало.<br><br>Давайте возьмём виртуальную машину (VmWare, VirtualBox, ...), запустим под ней какую-нибудь программу и остановим, сохранив состояние машины. Теперь сделаем копию жёсткого диска и snapshot от виртуальной машины. Когда запустим исходную машину или её копию - программы будут работать одинаково. (Единственная проблема возможна с функциями времени.)<br>Считаю, что при начальной одинаковой инициализации памяти и стека, программы должны выполняться одинаково. (Опять-таки возможны различия, связанные с внешним вводом и функциями времени.) Проблема в том, что запакованная программа и её шаги несколько отличается от дампа, поэтому кроме проверки входных/выходных параметров ещё надо учитывать &quot;пустые команды&quot; с точки зрения основной логики выполнения.<br><br>По сути, нужна автоматизация выполнения пошаговой отладки (трассировки). Вначале снимается &quot;правильная&quot; последовательность команд, а после этого запускается дамп, в котором проверяется, чтобы все команды банально совпали со своими параметрами (исключения - ресурсы, выделяемые системой, например, handle файла при открытии). <br><br>Если для распаковки знаете работающий без озарения вариант, то чем от &quot;грубой силы&quot; будет отличаться, а если любая распаковка - это озарение, то чем не &quot;вера в чудо&quot;?<br><br>P.S. В качестве примера вспомнился ArtMoney - программа, которая банально сравнивает дампы памяти и помогает увеличить золото в играх и т.п.
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=276015&amp;user=26941&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=9" class="addthx" data-post="276015"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="10" onfocus="this.blur()" href="JavaScript:di('[b]Runner[/b]','')">Runner</a></b><br></div>
<img src="img/s2.gif" alt=""><br><span class=txtSm>Ранг: 10.1 (новичок), 5thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.73'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26669">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 19:47 &middot; Поправил: Runner <br><script type="text/javascript">QU('Runner','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Runner" target="_blank">Личное сообщение</a> &middot;  <a href="#10" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#10');return false;">#10</a> </span><div align=left><br>
<I>valot пишет:<br>Считаю, что при начальной одинаковой инициализации памяти и стека, программы должны выполняться одинаково. </I><br><br>О сложностях такого подхода <a href="http://exelab.ru/f/action=vthread&amp;forum=6&amp;topic=16998" target="_blank">--&gt; тут &lt;--</a>
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=276039&amp;user=26669&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=10" class="addthx" data-post="276039"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="11" onfocus="this.blur()" href="JavaScript:di('[b]Airenikus[/b]','')">Airenikus</a></b><br></div>
<img src="img/s4.gif" alt=""><br><img style="padding-top:3px;" src="av/26065.png" alt=""><br><span class=txtSm>Ранг: 88.2 (постоянный), 111thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.94'>Активность: 0.07<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=26065">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 01 февраля 2011 22:17 <br><script type="text/javascript">QU('Airenikus','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=Airenikus" target="_blank">Личное сообщение</a> &middot;  <a href="#11" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#11');return false;">#11</a> </span><div align=left><br>
Я вот этим forum.tuts4you.com/showtopic=24390  делал дамп, более-менее работает, виртуализацию конечно не обойдешь, но хоть с анпаком не приходится ипацо <img src="img/smilies/s15.gif" alt="">
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=276057&amp;user=26065&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=11" class="addthx" data-post="276057"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel2>
<td width="17%" class=caption1>
<div class=username><div><b><a name="12" onfocus="this.blur()" href="JavaScript:di('[b]valot[/b]','')">valot</a></b><br></div>
<img src="img/s1.gif" alt=""><br><span class=txtSm>Ранг: 3.1 (гость)<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 9.65'>Активность: 0.01<span style='color:red'>&searr;</span>0</span><br>Статус: <a href="action=userinfo&amp;user=26941">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2011 11:37 <br><script type="text/javascript">QU('valot','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=valot" target="_blank">Личное сообщение</a> &middot;  <a href="#12" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#12');return false;">#12</a> </span><div align=left><br>
<I>Runner пишет:<br>О сложностях такого подхода --&gt; тут &lt;--  </I><br>есть подозрение, что это метод &quot;грубой силы&quot;, а значит более устойчивый к изменениям защиты и не требующий озарения<br><br><br><I>Airenikus пишет:<br>Я вот этим --&gt; Link &lt;-- делал дамп, более-менее работает, виртуализацию конечно не обойдешь, но хоть с анпаком не приходится ипацо </I><br>пока нужен только работающий дамп, а виртуальная машина пусть работает - не мешает; <br><br>Возник вопрос по настройке на скриншоте 20 (прикрепил к сообщению). Это какой плагин?<br><br><img src="img/attach.gif" alt=""> <a href="./files/5199_02.02.2011_CRACKLAB.rU.tgz">5199_02.02.2011_CRACKLAB.rU.tgz</a> - 20.png
<br><br><span class="txtGoods"><a href="action=addthx&amp;post=276084&amp;user=26941&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=12" class="addthx" data-post="276084"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>

<tr valign=top class=tbCel1>
<td width="17%" class=caption1>
<div class=username><div><b><a name="13" onfocus="this.blur()" href="JavaScript:di('[b]HandMill[/b]','')">HandMill</a></b><br></div>
<img src="img/s6.gif" alt=""><br><span class=txtSm>Ранг: 222.2 (наставник), 115thx<br><span title='Сообщений в день (с регистрации) / За последний год / Лет с регистрации: 14.21'>Активность: 0.14<span style='color:red'>&searr;</span>0.01</span><br>Статус: <a href="action=userinfo&amp;user=4554">Участник</a></span></div>
<br>
</td>
<td width="83%" class="caption1 post"><span class=txtSm>Создано: 02 февраля 2011 12:38 <br><script type="text/javascript">QU('HandMill','Цитата','пишет');</script> &middot; <a href="?step=sendmsg&amp;action=pmail&amp;userto=HandMill" target="_blank">Личное сообщение</a> &middot;  <a href="#13" onClick="prompt('Ссылка на сообщение', 'https://exelab.ru/f/action=vthread&amp;forum=5&amp;topic=17687.html&amp;page=0#13');return false;">#13</a> </span><div align=left><br>
<b>valot</b> на картинке(в аттаче) это опции утилиты PE Tools.
<br><br><font size="1"><i>-----<br>все багрепорты - в личные сообщения</i></font><br><br><span class="txtGoods"><a href="action=addthx&amp;post=276091&amp;user=4554&amp;forum_n=5&amp;topic=17687.html&amp;page=0&amp;anchor=13" class="addthx" data-post="276091"><img src="img/tu.png" border=0 title="Полезное сообщение"></a><span class="have_thx" style="display:none"> | Сообщение посчитали полезным: <span class="total_thx"></span></span></span><br></div></td>
</tr>


</table>
<table class=tbTransparent><tr><td class=tbTransparent><span class=txtSm><b></b></span></td></tr></table>
<table class=forums><tr>
<td width=16 valign=top class=caption3><img src="./img/forum_icons/nub.gif" width=16 height=16 alt=""></td>
<td width="100%" class=caption3><span class=header>&nbsp;<a href="../index.html"><b>eXeL@B</b></a> <b class=bulletHead>&#8212;&#8250;</b> <a href="action=vtopic&amp;forum=5&sortBy=0&page=0.html"><b>Вопросы новичков</b></a> <b class=bulletHead>&#8212;&#8250;</b> Как &quot;очистить&quot; дамп?</span></td>
</tr></table>
</div>
<a name=newreply></a>
<script type="text/javascript">
function check_form(f)
{
  f.elements['b1'].value = 'Отправка...';
  f.elements['b1'].disabled = true;
  return true;
}
</script>

<div align="center">
<form name="postMsg" action="#14" method="post" class="formStyle" enctype="multipart/form-data" onsubmit="return check_form(this);" onkeydown="ctrle(event, this)">
<table class="forums">

<tr>
<td class="caption2">
<span class="txtSm"><b>:: Ваш ответ</b></span>
</td>
</tr>
<tr>
<td class="caption7">

<img class="toolButton" src="./img/button_bold.gif" width="23" height="22" border="0" title="Жирный" alt="Жирный" onmouseover="window.status='Жирный'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[b]','[/b]');">&nbsp;
<img class="toolButton" src="./img/button_italic.gif" width="23" height="22" border="0" title="Курсив" alt="Курсив" onmouseover="window.status='Курсив'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[t]','[/t]');">&nbsp;
<img class="toolButton" src="./img/button_underlined.gif" width="23" height="22" border="0" title="Подчеркнутый" alt="Подчеркнутый" onmouseover="window.status='Подчеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[u]','[/u]');">&nbsp;
<img class="toolButton" src="./img/button_strike.gif" width="23" height="22" border="0" title="Перечеркнутый" alt="Перечеркнутый" onmouseover="window.status='Перечеркнутый'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[s]','[/s]');">&nbsp;
<img class="toolButton" src="./img/button_code.gif" width="23" height="22" border="0" title="Код" alt="{mpf5}" onmouseover="window.status='Код'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[ASM]','[/ASM]');">&nbsp;
<img class="toolButton" src="./img/button_image.gif" width="23" height="22" border="0" title="Ссылка на картинку" alt="Код" onmouseover="window.status='Ссылка на картинку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[img]','[/img]');">&nbsp;
<img class="toolButton" src="./img/button_url.gif" width="23" height="22" border="0" title="Вставить ссылку" alt="Вставить ссылку" onmouseover="window.status='Вставить ссылку'; return true" onmouseout="window.status=''; return true" onclick="JavaScript:di('[url=',']--&gt; Link &lt;--[/url]');">&nbsp;

<!-- mod by arnix start 
<select style="position: relative; top: -7; width: 150px;" id="addHighlightedCode" onchange="insertHl(this);">
<option value="0">Подсветка кода...</option>
<option value="asm">Assembler</option>
<option value="c">C</option>
<option value="cpp">C++</option>
<option value="pascal">Pascal</option>
<option value="delphi">Delphi</option>
<option value="php">PHP</option>
<option value="vb">Visual Basic</option>
</select>&nbsp;
 mod by arnix end -->

<br>
<a href="JavaScript:di(':s1:','');"><img src="./img/smilies/s1.gif" border="0" alt=":s1:"></a>
<a href="JavaScript:di(':s2:','');"><img src="./img/smilies/s2.gif" border="0" alt=":s2:"></a>
<a href="JavaScript:di(':s3:','');"><img src="./img/smilies/s3.gif" border="0" alt=":s3:"></a>
<a href="JavaScript:di(':s4:','');"><img src="./img/smilies/s4.gif" border="0" alt=":s4:"></a>
<a href="JavaScript:di(':s5:','');"><img src="./img/smilies/s5.gif" border="0" alt=":s5:"></a>
<a href="JavaScript:di(':s6:','');"><img src="./img/smilies/s6.gif" border="0" alt=":s6:"></a>
<a href="JavaScript:di(':s7:','');"><img src="./img/smilies/s7.gif" border="0" alt=":s7:"></a>
<a href="JavaScript:di(':s8:','');"><img src="./img/smilies/s8.gif" border="0" alt=":s8:"></a>
<a href="JavaScript:di(':s9:','');"><img src="./img/smilies/s9.gif" border="0" alt=":s9:"></a>
<a href="JavaScript:di(':s10:','');"><img src="./img/smilies/s10.gif" border="0" alt=":s10:"></a>
<a href="JavaScript:di(':s11:','');"><img src="./img/smilies/s11.gif" border="0" alt=":s11:"></a>
<a href="JavaScript:di(':s12:','');"><img src="./img/smilies/s12.gif" border="0" alt=":s12:"></a>
<a href="JavaScript:di(':s13:','');"><img src="./img/smilies/s13.gif" border="0" alt=":s13:"></a>
<a href="JavaScript:di(':s14:','');"><img src="./img/smilies/s14.gif" border="0" alt=":s14:"></a>
<a href="JavaScript:di(':s15:','');"><img src="./img/smilies/s15.gif" border="0" alt=":s15:"></a>
<a href="JavaScript:di(':s16:','');"><img src="./img/smilies/s16.gif" border="0" alt=":s16:"></a>
</td></tr>
<tr>
<td class="caption5"><textarea name="postText" rows="10" class="textForm" tabindex="2" style="width:100%"></textarea>
<BR><INPUT class="textForm" type="file" name="fileAttach"><BR><SMALL>Максимальный размер аттача: <b>500KB</b>.</SMALL>
<br><span class="txtSm"> </span>
</td>
</tr>
<tr>
<td class="caption7">
<table class=tbTransparent>
<tr valign=middle>
<td class=tbTransparent><span class=txtSm>Ваш логин: <b><a href="https://exelab.ru/f/action=userinfo&amp;user=55973">german1505</a></b>  &raquo; <a href="mode=logout">Выход</a> &raquo; <a href="?action=pmail"><b>ЛС</b></a></span></td>
</tr>
</table>

</td>
</tr>


<tr>
<td class="caption5"><input type="submit" value="Отправить сообщение" class="inputButton" name="b1" tabindex="5"></td>
</tr>
</table>
<input type="hidden" name="action" value="pthread">
<input type="hidden" name="forum" value="5">
<input type="hidden" name="topic" value="17687">
</form>
</div>
<script type="text/javascript" src="templates/vthread_logged.js"></script>
<div align=center><table class=tbTransparent><tr>
<td class=tbTransparent><span class=txtSm>      &nbsp;&nbsp;&nbsp;<a href="/f/forprint.php?topic_id=17687" title="Версия для печати"><img src="img/forprint.gif" border="0" alt="Для печати"> Для печати</a>&nbsp;</span></td>
</tr></table></div>
<br>
 
<br><br><br></center>

</div>
<div id="footer">Вы находитесь на EXELAB.rU</div>
<div id="footer_btns">
<a href="http://www.reactos.org" rel="nofollow" target="_blank"><img src="./images/react.png" height="31" width="88" border="0" title="" alt=""></a> <script type="text/javascript"><!--
document.write("<img src='//counter.yadro.ru/hit?t44.2;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";h"+escape(document.title.substring(0,80))+";"+Math.random()+
"' "+
"border='0' width='31' height='31'>")
//--></script>
</div>
</div>

</body></html>
